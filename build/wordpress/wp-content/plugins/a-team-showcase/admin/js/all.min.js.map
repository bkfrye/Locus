{"version":3,"sources":["util.js","main.js","backbone.stickit.js","backbone.nested.js","core.js","touch.js","transition.js","dropdown.js","lightbox.js","bootstrap-colorpicker.min.js","selectize.js","panel.js","ajax.js","drag-n-drop.js","form.js","tooltip.js","animation.js","settings-actions.js","team-actions.js","employer-actions.js","teams.js","employers.js","settings.js","team.js","preview.js","tooltip-photo.js","tooltip-font.js","tooltip-divider.js","tooltip-social.js","tooltip-skills.js","employer.js"],"names":["AwesomeUtil","detect_os","os_name","navigator","appVersion","indexOf","toObject","arr","rv","i","length","find_in_array_of_objects","array","key","value","result","jQuery","each","index","item","hasOwnProperty","hex_to_rgb","hex","parseInt","r","g","b","calc_size","raw","endsWith","replace","clean_number","get_keys","obj","_","list","find_key_by_value","needle","haystack","find","find_index_by_value","keys","removeClass","el","start_with","css","regex","RegExp","match","join","String","prototype","replace_all","this","capitalize","charAt","toUpperCase","slice","end","Array","last","$","fn","isVisible","parent","$parent","window","windowScrollTopView","scrollTop","elemTop","height","addClass","a_ajax","AwesomeAjax","ats_ajax","ATS_Ajax","self","spinner","content","animation_start","animation_end","hide_content","show_content","ajax","action","success_handler","data","settings_model","AwesomeModel","on","e","keyCode","$self","$spinner","parents","$form","model","attr","show","name","val","setTimeout","location","reload","lightbox","minWidth","minHeight","labels","close","args","id","container","width","tooltip","AwesomeTooltip","init","get_templates","factory","define","amd","exports","require","Backbone","Stickit","_handlers","addHandler","handlers","map","flatten","handler","defaults","updateModel","updateView","updateMethod","concat","ViewMixin","_modelBindings","unstickit","bindingSelector","isObject","v","selector","models","destroyFns","reject","binding","config","off","event","push","_destroy","invoke","uniq","cid","call","$el","stickit","optionalModel","optionalBindingsConfig","bindings","addBinding","remove","stickitWrapped","ret","apply","arguments","namespace","isString","observe","isFunction","getConfiguration","modelAttr","view","bindId","uniqueId","options","extend","stickitChange","setOptions","applyViewFn","destroy","initializeAttributes","initializeVisible","initializeClasses","events","type","eventName","listener","getVal","currentVal","evaluateBoolean","setAttr","sel","bind","observeModelEvent","m","changeId","getAttr","updateViewBindEl","initialize","View","evaluatePath","path","parts","split","reduce","memo","reference","isBoolean","onSet","set","isArray","attribute","has","retrieveVal","field","escape","sanitizeVal","onGet","update","opts","filter","is","visible","props","attributes","attrConfig","clone","lastClass","observed","updateAttr","updateType","contains","classes","classConfig","updateClass","toggleClass","visibleCb","visibleFn","toggle","isInitializing","afterUpdate","prop","checkbox","checkboxVal","checked","some","boxval","optList","selectConfig","selectOptions","collection","undefined","isMultiple","getList","option","dataVal","label","text","get","opt_labels","valuePath","labelPath","disabledPath","addSelectOptions","fieldVal","disabled","optionVal","fillOption","isSelected","isEqual","append","context","Collection","refreshSelectOptions","removeCollectionListeners","removeAllListeners","trigger","once","viewCid","toJSON","defaultOption","$group","opt","sortBy","comparator","selected","root","module","nestedChanges","_delayedTriggers","NestedModel","Model","attrStrOrPath","walkThenGet","previous","_previousAttributes","isUndefined","attrPath","unsetObj","validated","newAttrs","deepClone","_setAttr","attrs","_attrStr","unset","__super__","changedAttributes","omit","_runDelayedTriggers","changed","clear","silent","validate","setChanged","prefix","changedPath","_delayedChange","_delayedTrigger","add","attrStr","current","Error","aryPath","initial","oldEl","splice","createAttrStr","aryCount","first","diff","backboneChanged","newVal","shift","newValue","fullPathLength","walkPath","next","isNewValue","parentPath","visited","checkChanges","nestedAttr","nestedVal","a","isNumber","rest","callback","scope","childAttr","Plugins","initialized","methods","_setup","document","c","d","f","WebkitTransition","MozTransition","OTransition","transition","transform","MozTransform","OTransform","msTransform","webkitTransform","h","createElement","style","support","p","transitionEnd","windowWidth","$window","windowHeight","q","l","startTimer","ResizeHandlers","raf","requestAnimationFrame","RAFHandlers","priority","j","k","Version","DontConflict","Conflicts","$document","$body","fallbackWidth","fallbackHeight","userAgent","vendor","opera","isFirefox","test","isChrome","isSafari","isMobile","isIEMobile","isFirefoxMobile","file","File","FileList","FileReader","history","pushState","replaceState","matchMedia","msMatchMedia","pointer","PointerEvent","cancelAnimationFrame","touch","DocumentTouch","killEvent","preventDefault","stopPropagation","stopImmediatePropagation","clearTimer","setInterval","clearInterval","clearTimeout","sortAsc","sortDesc","decodeEntities","innerHTML","parseQueryString","n","Deferred","o","base","element","beforeUnload","blur","change","click","dblClick","drag","dragEnd","dragEnter","dragLeave","dragOver","dragStart","drop","error","focus","focusIn","focusOut","input","keyDown","keyPress","keyUp","load","mouseDown","mouseEnter","mouseLeave","mouseMove","mouseOut","mouseOver","mouseUp","panStart","pan","panEnd","resize","scaleStart","scaleEnd","scale","scroll","select","swipe","touchCancel","touchEnd","touchLeave","touchMove","touchStart","NoConflict","Plugin","eq","guid","rawGuid","dotGuid","_construct","_postConstruct","functions","iterate","_destruct","removeData","utilities","_initialize","getData","noop","_resize","_delegate","widget","namespaceClean","sort","_raf","then","resolve","nativeMatchMedia","hasClass","clickTouchStart","Formstone","touches","touching","axis","axisX","axisY","pointerDown","preventManipulation","originalEvent","pointerId","pageX","pageY","startE","startX","startY","startT","Date","getTime","scaleD","passed","$links","pinch","startD","s","pointerMove","pointerUp","pointerCancel","Math","abs","t","u","endX","endY","endD","deltaX","deltaY","_data","unshift","pop","w","Event","bubbles","directionX","directionY","sqrt","-ms-touch-action","touch-action","$target","target","$check","styles","timer","parseFloat","property","propertyName","always","getComputedStyle","getPropertyValue","currentStyle","setup","$Body","construct","multiple","lastIndex","links","external","$trueOriginal","not","$originalOption","originalLabel","originalIndex","prepend","RawClasses","item_placeholder","$allOptions","$options","$label","tabIndex","wrapperClasses","theme","customClass","mobile","cover","wrapperHtml","innerHtml","trimText","trim","html","wrap","after","$dropdown","Classes","$selected","$wrapper","$placeholder","placeholder","closed","focused","buildOptions","updateOption","fsScrollbar","Events","onClick","onSelect","onClose","onChange","onFocusIn","onFocusOut","destruct","open","removeAttr","unwrap","disableDropdown","$items","item_disabled","enableDropdown","updateDropdown","count","$option","tagName","group","opVal","opLabel","opType","item_selected","Functions","parseHTML","openOptions","closeOptions","Document","createEvent","evt","initMouseEvent","Window","dispatchEvent","fireEvent","closeOthers","offset","bodyHeight","outerHeight","optionsHeight","position","left","top","bottomEdge","bottom","closeOptionsHelper","scrollOptions","currentTarget","focusIndex","shiftKey","metaKey","ctrlKey","handleChange","internal","escapeText","onKeypress","keyTimer","altKey","total","inArray","check","fromCharCode","substr","$item","isDisabled","start","selectedIndex","selectedOffset","buffer","launchLink","url","href","substring","disable","enable","Y","Z","hash","aa","U","Q","W","$object","R","gallery","active","isTouch","isAnimating","oldContentHeight","oldContentWidth","toLowerCase","fileTypes","O","V","margin","S","overlay","loading","animating","fixed","iframed","inline","loading_icon","tools","controls","control","control_previous","control_next","caption_toggle","captionClosed","meta","position_current","position_total","caption","formatter","$overlay","$lightbox","$close","$container","$content","$tools","$meta","$position","$caption","$controlBox","$controls","paddingVertical","paddingHorizontal","mobilePaddingVertical","mobilePaddingHorizontal","contentHeight","contentWidth","outerWidth","controlHeight","T","has_controls","F","X","G","E","fsTransition","B","J","H","K","targetHeight","targetWidth","L","x","C","$inlineTarget","I","lock","duration","marginTop","metaHeight","D","captionOpen","caption_open","hasScaled","$imageContainer","image_container","$image","one","N","naturalHeight","naturalWidth","retina","hide","has_caption","fsTouch","M","image","complete","readyState","scalePosition","scaleY","scaleX","scaleHeight","scaleWidth","targetContainerY","targetContainerX","targetImageHeight","targetImageWidth","scaleMinHeight","scaleMaxHeight","scaleMinWidth","scaleMaxWidth","isScaling","scaleMinY","scaleMinX","scaleMaxY","scaleMaxX","viewportHeight","viewportWidth","imageMarginTop","imageMarginLeft","imageHeight","imageWidth","spacerHeight","ratioHorizontal","ratioVertical","isWide","y","marginLeft","z","A","$videoWrapper","video_wrapper","$video","video","prependTo","videoMarginTop","videoMarginLeft","targetVideoWidth","targetVideoHeight","videoRatio","videoWidth","control_disabled","infinite","$inlineContents","children","detach","requestKey","iframe","objectHeight","objectWidth","maxHeight","isIframe","objectMarginTop","objectMarginLeft","Image","src","videoFormatter","pattern","format","P","youtube","vimeo","colorpicker","Color","customColors","origFormat","colors","setColor","constructor","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","transparent","_sanitizeNumber","isNaN","isTransparent","strVal","rgbaIsTransparent","rgba","stringToHSB","alias","that","stringParsers","parser","re","exec","values","parse","RGBtoHSB","HSLtoRGB","setHue","setSaturation","setBrightness","setAlpha","toRGB","round","toHex","rgb","toString","toHSL","toAlias","max","min","HueToRGB","tr","tg","tb","execResult","colorNameToHex","horizontal","color","component","sliders","saturation","maxLeft","maxTop","callLeft","callTop","hue","alpha","slidersHorz","template","align","colorSelectors","Colorpicker","getValue","picker","$btn","setValue","proxy","mousedown","appendTo","keyup.colorpicker","keyup","change.colorpicker","focus.colorpicker","focusout.colorpicker","click.colorpicker","reposition","body","hasInput","mousedown.colorpicker","updateData","updateInput","updatePicker","sl","icns","updateComponent","icn","backgroundColor","force","defaultValue","currentSlider","mousePointer","zone","closest","guide","mousemove.colorpicker","mousemove","touchmove.colorpicker","mouseup.colorpicker","mouseup","touchend.colorpicker","pickerArgs","$returnValue","$this","inst","Sifter","items","settings","diacritics","tokenize","query","letter","tokens","words","escape_regex","DIACRITICS","string","iterator","object","is_array","forEach","getScoreFunction","search","fields","token_count","prepareSearch","scoreValue","token","score","pos","scoreObject","field_count","sum","conjunction","getSortFunction","fields_count","multiplier","multipliers","get_field","implicit_score","sort_empty","direction","cmp","option_fields","option_sort","option_sort_empty","fn_sort","fn_score","limit","asciifold","str","Object","chunk","foreignletters","lookup","regexp","foreignletter","MicroPlugin","mixin","Interface","plugins","initializePlugins","queue","names","requested","loaded","utils","loadPlugin","plugin","vArg","Selectize","highlight","$element","node","skip","nodeType","spannode","className","middlebit","splitText","middleclone","cloneNode","appendChild","parentNode","replaceChild","childNodes","MicroEvent","fct","_events","destObject","IS_MAC","KEY_A","KEY_RETURN","KEY_ESC","KEY_LEFT","KEY_UP","KEY_P","KEY_RIGHT","KEY_DOWN","KEY_N","KEY_BACKSPACE","KEY_DELETE","KEY_SHIFT","KEY_CMD","KEY_CTRL","KEY_TAB","TAG_SELECT","TAG_INPUT","SUPPORTS_VALIDITY_API","validity","isset","hash_key","escape_html","escape_replace","hook","before","method","original","called","debounce","delay","timeout","debounce_events","types","event_args","watchChildEvent","child","getSelection","selectionStart","selectionEnd","selection","createRange","selLen","moveStart","transferStyles","$from","$to","properties","measureString","$test","padding","whiteSpace","autoGrow","$input","currentWidth","printable","character","triggerHandler","dir","selectize","computedStyle","order","tagType","rtl","eventNS","highlightedValue","isOpen","isRequired","isInvalid","isLocked","isFocused","isInputHidden","isSetup","isShiftDown","isCmdDown","isCtrlDown","ignoreFocus","ignoreBlur","ignoreHover","hasOptions","currentResults","lastValue","caretPos","loadedSearches","$activeOption","$activeItems","optgroups","userOptions","renderCache","onSearchChange","loadThrottle","sifter","registerOption","registerOptionGroup","mode","maxItems","hideSelected","setupCallbacks","setupTemplates","$control","$control_input","$dropdown_content","$dropdown_parent","inputMode","classes_plugins","wrapperClass","inputClass","dropdownParent","dropdownClass","dropdownContentClass","copyClassesToDropdown","splitOn","delimiter","delimiterEscaped","onOptionHover","onOptionSelect","onItemSelect","onMouseDown","keydown","onKeyDown","onKeyUp","keypress","onKeyPress","positionDropdown","onBlur","onFocus","paste","onPaste","revertSettings","$children","tabindex","refreshState","updateOriginalInput","refreshItems","updatePlaceholder","preload","field_label","labelField","field_optgroup","optgroupLabelField","templates","optgroup","optgroup_header","option_create","render","callbacks","item_add","item_remove","option_add","option_remove","option_clear","optgroup_add","optgroup_remove","optgroup_clear","dropdown_open","dropdown_close","defaultPrevented","isDefaultPrevented","setActiveItem","isFull","splitInput","createItem","which","create","selectAll","$next","getAdjacentOption","setActiveOption","$prev","advanceSelection","selectOnTab","deleteSelection","refreshOptions","wasFocused","showInput","openOnFocus","dest","activeElement","deactivate","setTextboxValue","setCaret","createOnBlur","closeAfterSelect","lastQuery","addItem","getOption","loadingClass","results","addOption","addItems","idx","begin","swap","$last","hideInput","animate","height_menu","height_item","scroll_top","scroll_bottom","stop","scrollDuration","opacity","getSearchOptions","sortField","searchField","searchConjunction","calculateScore","triggerDropdown","groups","groups_order","option_html","html_children","has_create_option","$active","$active_before","$create","active_before","maxOptions","optgroupField","lockOptgroupOrder","a_order","$order","b_order","canCreate","addPrecedence","valueField","optgroupValueField","addOptionGroup","removeOptionGroup","clearOptionGroups","$item_new","value_new","index_item","cache_items","cache_options","order_old","getItem","replaceWith","removeOption","removeItem","clearOptions","getElementWithValue","$els","getAttribute","isPending","value_next","wasFull","insertAtCaret","persist","caret","unlock","output","invalid","refreshClasses","isEmptyObject","visibility","display","option_select","$option_select","$tail","onDelete","tail","valueLength","cursorAtEdge","advanceCaret","$adj","$child","templateName","cache","regex_tag","clearCache","createFilter","allowEmptyOption","dataAttr","settings_user","attr_data","field_value","field_optgroup_label","field_optgroup_value","init_textbox","settings_element","data_raw","JSON","init_select","optionsMap","readData","addGroup","$optgroup","instance","tag_name","sortable","forcePlaceholderSize","ui","helper","overflow","title","headerClass","titleRowClass","labelClass","closeClass","$dropdown_header","equalizeWidth","equalizeHeight","prev","getScrollbarWidth","div","doc","firstChild","offsetWidth","clientWidth","removeChild","equalizeSizes","height_max","width_last","width_parent","$optgroups","innerWidth","html_container","html_element","render_item","aliases","LA_Modernizr","Boolean","_config","classPrefix","baseVal","enableJSClass","enableClasses","createElementNS","fake","styleSheet","cssText","createTextNode","background","offsetHeight","CSS","supports","modElem","_version","usePrefixes","_q","addTest","addAsyncTest","documentElement","nodeName","_cssomPrefixes","_domPrefixes","elem","testAllProps","eval","_T","rotate","deg","rad","PI","costheta","cos","sintheta","sin","$M","skew","dx","dy","radX","radY","translate","fromString","AwesomePanel","shiftFixed","scrollLeft","bh","wh","$offsetP","nu","oLeft","oTop","coords","newCSS","_b","transf","$t","isIE","transProp","translation","isFF","right","toChangeHor","toChangeVert","htmlMargins","$win","stringify","unshiftFixed","newCss","defTranslationStr","transitionProperty","getVendorPropertyName","vendorProp","prefixes","prop_","item_id","model_name","content_url","overlayvisible","$html","panel","animation","scroll_left","$fixed","cssanimations","callback_close","html_pool","appendHTML","showHTML","callback_open","bindActions","load_model","load_content","callback_success","callback_error","error_handler","publish_model","delete_model","security","success","responseArray","wpAjax","parseAjaxResponse","errors","responses","success_error_handler","AwesomeDrag","sortableEl","employers_panel","cloneEmployers","$clone","ats_employers_clone","ats_employers","fadeOut","all_employers","model_employers","findWhere","$push_all_btn","ats_panel","bind_clone","updateElements","reset","employers","initSortable","zIndex","connectWith","cursor","cursorAt","img","parentElement","$employers_field","employers_ids","foto","teams_count","ID","post_title","isNumeric","fill_blocks_order","fill_team_grid_blocks_order","fill_team_table_blocks_order","fill_team_employers","ids","fill_color","fill_team_styles_button_color","fill_team_styles_button_hover_color","fill_team_styles_button_text_color","fill_team_styles_button_text_hover_color","fill_team_styles_base_color","fill_team_styles_card_base_color","fill_team_styles_card_border_color","fill_team_styles_card_divider_color","fill_team_styles_card_shadow_color","fill_team_styles_card_even_row_color","fill_team_styles_panel_color","fill_visibility","fill_team_styles_slider","fill_team_styles_slider_autoplay","fill_team_styles_slider_adaptive","fill_team_styles_filter","fill_team_styles_search","fill_team_styles_panel","fill_team_styles_panel_contacts_visible","fill_team_styles_panel_social_visible","fill_team_styles_reveal","fill_team_styles_body_visible","fill_team_styles_photo_visible","fill_team_styles_name_visible","fill_team_styles_divider_visible","fill_team_styles_position_visible","fill_team_styles_short_bio_visible","fill_team_styles_phone_visible","fill_team_styles_email_visible","fill_team_styles_skype_visible","fill_team_styles_link_visible","fill_team_styles_location_visible","fill_team_styles_social_visible","fill_team_styles_skills_visible","fill_employer_foto","fill_employer_panel_text","employer_panel_text_dfd","tinyMCE","tinymce","editors","tinyMCEPreInit","mceInit","editor","getContent","quicktags","qtInit","fill_checkbox","fill_team_styles_filter_bold","fill_team_styles_name_bold","fill_team_styles_position_bold","fill_team_styles_short_bio_bold","fill_team_styles_contacts_bold","fill_team_styles_filter_italic","fill_team_styles_name_italic","fill_team_styles_position_italic","fill_team_styles_short_bio_italic","fill_team_styles_contacts_italic","fill_select","fsdropdown","fill_team_template","layout","set_employer_photo","size","set_team_employers","init_departments","taxonomy","ats_employers_taxonomy_terms","get_employer_form","AwesomeForm","fill","fill_rules","dfd","rules","form_key","console","log","bb_model","viewport","replace_tags","show_field","$tooltip","blocks","field_name","center","ATS_Animation","browser","msie","version","notice","settings_open_callback","preview","AwesomeSettings","settings_close_callback","settings_panel","form","$alert","message","bind_template_change","bind_layout_change","add_team_open_callback","AwesomeTeam","done","edit_team_open_callback","show_shortcode_button","edit_team_close_callback","set_team_employers_callback","images","$employers","update_team_card","model_team","ats_animation","locked","team_model","$icon","confirm","mouseenter","mouseleave","colorpickers","random","update_colorpicker","target_id","employer_load_model","dfd1","selectize_instance","onInitialize","when","v1","v2","edit_employer_open_callback","AwesomeEmployer","edit_employer_close_callback","set_employer_photo_callback","update_employer_card","post_id","model_employer","$panel","$head","$field","gaps","members","limits","card_width","photo_shape","photo_size","photo_width","card_colors","text_colors","text_transforms","font_sizes","bolds","italics","top_margins","grid","exclude","table","AwesomeRandom","number","floor","percent","radio","shuffle","color_delta","range","invert_color","black_or_white","lightness","seed_color","arg","unset_array","make_seed","seed","seed_card_color","inner_value","inverted","random_values","Employer","Employers","bind_form","settings_form_view","SettingsForm","setElement","tooltip_hint","tooltips","photo","hint","short_bio","divider","social","contacts","skills","card_divider_color","show_fields","insert_preview_html","model_field","opened","team_form_view","TeamForm","bind_preview","preview_view","TeamPreview","init_sortable_fields","card","forceHelperSize","$wrap","block","set_rgba_color","model_base","init_colorpicker","bind_tooltips","option_name","$toolptip","view_name","init_tooltips","init_help","destroy_colorpickers","reinit","def2","def3","def4","def5","def6","def7","toggle_pair","select_radio","$counter","toggle_visibility","photo_settings","$custom_width","$top_margin","photo_sizes","a-full","$shape","$photo","font_settings","$elc","card_body_settings","border","shadow","bindAll","_this","before_render","after_render","icon_max_size","fill_max_width","icon_max_width","button","TeamTooltipPhoto","field_model","TeamTooltipFont","TeamTooltipDivider","TeamTooltipSocial","TeamTooltipSkills","file_frame","json","wp","media","frames","frame","state","sizes","$img","update_skill_order","make_skill","$name","skill","bind_skills","$skill","employer_form_view","edit_skill","$text","skills_order","new_order","containment","EmployerForm","star_options","buttons","edit","star","select_value","cf","skills_ordered","employer_view"],"mappings":"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","file":"all.min.js","sourcesContent":["/**\r\n * System functions\r\n */\r\nvar AwesomeUtil = {\r\n    // detect OS\r\n    detect_os: function () {\r\n        var os_name = \"Unknown OS\";\r\n        if (navigator.appVersion.indexOf(\"Win\") != -1) os_name = \"Windows\";\r\n        if (navigator.appVersion.indexOf(\"Mac\") != -1) os_name = \"MacOS\";\r\n        if (navigator.appVersion.indexOf(\"X11\") != -1) os_name = \"UNIX\";\r\n        if (navigator.appVersion.indexOf(\"Linux\") != -1) os_name = \"Linux\";\r\n        return os_name;\r\n    },\r\n\r\n    // convert array to object\r\n    toObject: function (arr) {\r\n        var rv = {};\r\n        for (var i = 0; i < arr.length; ++i) {\r\n            if (typeof arr[i] === 'object') {\r\n                rv[i] = AwesomeUtil.toObject(arr[i]);\r\n            } else {\r\n                rv[i] = arr[i];\r\n            }\r\n        }\r\n        return rv;\r\n    },\r\n\r\n    // helper function to find some value in array of objects\r\n    find_in_array_of_objects: function (array, key, value){\r\n        var result = false;\r\n        jQuery.each(array, function(index, item){\r\n            if(item.hasOwnProperty(key) && item[key] == value){\r\n                result = true;\r\n            }\r\n        });\r\n        return result;\r\n    },\r\n\r\n    // convert HEX color to RGB color\r\n    hex_to_rgb: function (hex){\r\n        hex = parseInt(hex, 16);\r\n        var r = hex >> 16;\r\n        var g = hex >> 8 & 0xFF;\r\n        var b = hex & 0xFF;\r\n        return [r,g,b];\r\n    },\r\n\r\n    // calculate size properly\r\n    calc_size: function (raw){\r\n        raw = ''+raw;\r\n        if(raw.endsWith('%') || raw.endsWith('px')){\r\n            return raw;\r\n        }\r\n        var result = raw.replace('/[^0-9]/', '');\r\n        return result + 'px';\r\n    },\r\n\r\n    // clean number from non-digit characters\r\n    clean_number: function (raw) {\r\n        return parseInt(raw.replace(/\\D+/g, ''));\r\n    },\r\n\r\n    get_keys: function (obj){\r\n        var result = {};\r\n        var i = 0;\r\n        _.each(obj, function (value, key, list) {\r\n            if(typeof value === 'object'){\r\n                result[i] = AwesomeUtil.get_keys(value);\r\n            }else{\r\n                result[i] = key;\r\n            }\r\n            i++;\r\n        });\r\n        return result;\r\n    },\r\n\r\n    find_key_by_value: function (needle, haystack) {\r\n        var result;\r\n        _.find(haystack, function(value, key){\r\n            if(typeof value === 'object'){\r\n                result = AwesomeUtil.find_key_by_value(needle, value);\r\n            }else{\r\n                if (value === needle) {\r\n                    result = key;\r\n                    return true;\r\n                }else{\r\n                    return false;\r\n                }\r\n            }\r\n        });\r\n        return result;\r\n    },\r\n\r\n    find_index_by_value: function (needle, haystack) {\r\n        var keys = AwesomeUtil.get_keys(haystack);\r\n        var key = AwesomeUtil.find_key_by_value(needle, haystack);\r\n        var result = AwesomeUtil.find_key_by_value(key, keys);\r\n\r\n        return result;\r\n    },\r\n\r\n    removeClass: function (el, start_with) {\r\n        jQuery(el).removeClass (function (index, css) {\r\n            var regex = new RegExp('(^|\\\\s)' + start_with + '\\\\S+', 'g');\r\n            return (css.match (regex) || []).join(' ');\r\n        });\r\n    }\r\n};\r\n\r\n// smart replace for templates\r\nString.prototype.replace_all = function(find, replace){\r\n    return this.replace(new RegExp(find, 'g'), replace);\r\n};\r\n\r\n// capitalize\r\nString.prototype.capitalize = function () {\r\n    return this.charAt(0).toUpperCase() + this.slice(1);\r\n};\r\n\r\n// check string ends with special characters\r\nString.prototype.endsWith = function(end){\r\n    return this.indexOf(end, this.length - end.length) !== -1;\r\n};\r\n\r\n// Array last item\r\nif (!Array.prototype.last){\r\n    Array.prototype.last = function(){\r\n        return this[this.length - 1];\r\n    };\r\n};\r\n\r\nvar $ = jQuery;\r\n// check if element visible on screen\r\n$.fn.isVisible = function (parent) {\r\n    var $parent = parent !== 'undefined' ? $(parent) : $(window);\r\n    var windowScrollTopView = $parent.scrollTop();\r\n    var elemTop = $(this).height();\r\n    return (\r\n        elemTop >= windowScrollTopView\r\n    );\r\n};","(function ($) {\r\n    'use strict';\r\n    var os_name = AwesomeUtil.detect_os(); // detect user OS\r\n\r\n    // if MAC => addClass to fix hidden scroll\r\n    // MUST ADDS before page load to prevent flickering content\r\n    if (os_name == 'MacOS') $('html').addClass('mac');\r\n\r\n    $(function () {\r\n        var panel;\r\n        var a_ajax = new AwesomeAjax('ats');\r\n        var ats_ajax = new ATS_Ajax();\r\n\r\n        self.spinner = $('#main-spinner');\r\n        self.content = $('#a-team-showcase')\r\n\r\n\r\n        // Show spinner animation\r\n        self.animation_start = function () {\r\n            // show spinner animation\r\n            self.spinner.addClass('fade-animation-in');\r\n        };\r\n\r\n        // Hide spinner animation\r\n        self.animation_end = function () {\r\n            self.spinner.removeClass('fade-animation-in'); // hide spinner animation\r\n        };\r\n\r\n        // Hide panel content\r\n        self.hide_content = function () {\r\n            self.content.removeClass('fade-animation-in');\r\n        };\r\n\r\n        // Show panel content\r\n        self.show_content = function () {\r\n            self.content.addClass('fade-animation-in');\r\n        };\r\n\r\n        self.animation_start();\r\n\r\n        a_ajax.ajax({\r\n            action: 'ats_get_settings',\r\n            success_handler: function (data) {\r\n                self.show_content();\r\n                self.animation_end();\r\n                window.settings_model = new AwesomeModel(data); // set window model to Backbone model\r\n            }\r\n        });\r\n\r\n        // Prevent form submit on Enter hitting\r\n        $('[data-action=\"add-model\"]').on('keypress', function (e) {\r\n            return e.keyCode != 13;\r\n        });\r\n\r\n        // Add new Employer or Team from field\r\n        $('input[data-action=\"add-model\"]').on('keyup', function (e) {\r\n            var $self = $(this);\r\n            var $spinner = $(this).parents('.panel-footer').find('.a-spinner');\r\n            var $form = $(this).parent('form');\r\n            var model = $(this).attr('data-model');\r\n            // if Enter keyup\r\n            if (e.keyCode == 13) {\r\n                $spinner.show();\r\n                a_ajax.ajax({\r\n                    action: 'ats_update_or_new_' + model,\r\n                    data: {\r\n                        data: {\r\n                            'name': $form.find('input').val()\r\n                        },\r\n                        'model': model\r\n                    },\r\n                    success_handler: function (data) {\r\n                        $self.val('');\r\n                        setTimeout(function () {\r\n                            window.location.reload();\r\n                        }, 500);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        $('[data-action=\"modal\"]').lightbox({\r\n            minWidth: 50,\r\n            minHeight: 100,\r\n            labels: {\r\n                close: '<svg viewBox=\"0 0 56 56\"><use xlink:href=\"#icon-delete\"></use></svg>'\r\n            }\r\n        });\r\n\r\n        // Init tooltips\r\n        var args = {\r\n            id: 'ats',\r\n            container: '#action-add-buttons',\r\n            content: '#action-add-buttons-tooltip',\r\n            width: 180,\r\n            data: {}\r\n        };\r\n        var tooltip = new AwesomeTooltip(args);\r\n        tooltip.init();\r\n\r\n        ats_ajax.get_templates();\r\n    });\r\n})(jQuery);","// Backbone.Stickit v0.9.2, MIT Licensed\n// Copyright (c) 2012-2015 The New York Times, CMS Group, Matthew DeLambo <delambo@gmail.com>\n\n(function (factory) {\n\n  // Set up Stickit appropriately for the environment. Start with AMD.\n  if (typeof define === 'function' && define.amd)\n    define(['underscore', 'backbone', 'exports'], factory);\n\n  // Next for Node.js or CommonJS.\n  else if (typeof exports === 'object')\n    factory(require('underscore'), require('backbone'), exports);\n\n  // Finally, as a browser global.\n  else\n    factory(_, Backbone, {});\n\n}(function (_, Backbone, Stickit) {\n\n  // Stickit Namespace\n  // --------------------------\n\n  // Export onto Backbone object\n  Backbone.Stickit = Stickit;\n\n  Stickit._handlers = [];\n\n  Stickit.addHandler = function(handlers) {\n    // Fill-in default values.\n    handlers = _.map(_.flatten([handlers]), function(handler) {\n      return _.defaults({}, handler, {\n        updateModel: true,\n        updateView: true,\n        updateMethod: 'text'\n      });\n    });\n    this._handlers = this._handlers.concat(handlers);\n  };\n\n  // Backbone.View Mixins\n  // --------------------\n\n  Stickit.ViewMixin = {\n\n    // Collection of model event bindings.\n    //   [{model,event,fn,config}, ...]\n    _modelBindings: null,\n\n    // Unbind the model and event bindings from `this._modelBindings` and\n    // `this.$el`. If the optional `model` parameter is defined, then only\n    // delete bindings for the given `model` and its corresponding view events.\n    unstickit: function(model, bindingSelector) {\n\n      // Support passing a bindings hash in place of bindingSelector.\n      if (_.isObject(bindingSelector)) {\n        _.each(bindingSelector, function(v, selector) {\n          this.unstickit(model, selector);\n        }, this);\n        return;\n      }\n\n      var models = [], destroyFns = [];\n      this._modelBindings = _.reject(this._modelBindings, function(binding) {\n        if (model && binding.model !== model) return;\n        if (bindingSelector && binding.config.selector != bindingSelector) return;\n\n        binding.model.off(binding.event, binding.fn);\n        destroyFns.push(binding.config._destroy);\n        models.push(binding.model);\n        return true;\n      });\n\n      // Trigger an event for each model that was unbound.\n      _.invoke(_.uniq(models), 'trigger', 'stickit:unstuck', this.cid);\n\n      // Call `_destroy` on a unique list of the binding callbacks.\n      _.each(_.uniq(destroyFns), function(fn) { fn.call(this); }, this);\n\n      this.$el.off('.stickit' + (model ? '.' + model.cid : ''), bindingSelector);\n    },\n\n    // Initilize Stickit bindings for the view. Subsequent binding additions\n    // can either call `stickit` with the new bindings, or add them directly\n    // with `addBinding`. Both arguments to `stickit` are optional.\n    stickit: function(optionalModel, optionalBindingsConfig) {\n      var model = optionalModel || this.model,\n          bindings = optionalBindingsConfig || _.result(this, \"bindings\") || {};\n\n      this._modelBindings || (this._modelBindings = []);\n\n      // Add bindings in bulk using `addBinding`.\n      this.addBinding(model, bindings);\n\n      // Wrap `view.remove` to unbind stickit model and dom events.\n      var remove = this.remove;\n      if (!remove.stickitWrapped) {\n        this.remove = function() {\n          var ret = this;\n          this.unstickit();\n          if (remove) ret = remove.apply(this, arguments);\n          return ret;\n        };\n      }\n      this.remove.stickitWrapped = true;\n      return this;\n    },\n\n    // Add a single Stickit binding or a hash of bindings to the model. If\n    // `optionalModel` is ommitted, will default to the view's `model` property.\n    addBinding: function(optionalModel, selector, binding) {\n      var model = optionalModel || this.model,\n          namespace = '.stickit.' + model.cid;\n\n      binding = binding || {};\n\n      // Support jQuery-style {key: val} event maps.\n      if (_.isObject(selector)) {\n        var bindings = selector;\n        _.each(bindings, function(val, key) {\n          this.addBinding(model, key, val);\n        }, this);\n        return;\n      }\n\n      // Special case the ':el' selector to use the view's this.$el.\n      var $el = selector === ':el' ? this.$el : this.$(selector);\n\n      // Clear any previous matching bindings.\n      this.unstickit(model, selector);\n\n      // Fail fast if the selector didn't match an element.\n      if (!$el.length) return;\n\n      // Allow shorthand setting of model attributes - `'selector':'observe'`.\n      if (_.isString(binding)) binding = {observe: binding};\n\n      // Handle case where `observe` is in the form of a function.\n      if (_.isFunction(binding.observe)) binding.observe = binding.observe.call(this);\n\n      // Find all matching Stickit handlers that could apply to this element\n      // and store in a config object.\n      var config = getConfiguration($el, binding);\n\n      // The attribute we're observing in our config.\n      var modelAttr = config.observe;\n\n      // Store needed properties for later.\n      config.selector = selector;\n      config.view = this;\n\n      // Create the model set options with a unique `bindId` so that we\n      // can avoid double-binding in the `change:attribute` event handler.\n      var bindId = config.bindId = _.uniqueId();\n\n      // Add a reference to the view for handlers of stickitChange events\n      var options = _.extend({stickitChange: config}, config.setOptions);\n\n      // Add a `_destroy` callback to the configuration, in case `destroy`\n      // is a named function and we need a unique function when unsticking.\n      config._destroy = function() {\n        applyViewFn.call(this, config.destroy, $el, model, config);\n      };\n\n      initializeAttributes($el, config, model, modelAttr);\n      initializeVisible($el, config, model, modelAttr);\n      initializeClasses($el, config, model, modelAttr);\n\n      if (modelAttr) {\n        // Setup one-way (input element -> model) bindings.\n        _.each(config.events, function(type) {\n          var eventName = type + namespace;\n          var listener = function(event) {\n            var val = applyViewFn.call(this, config.getVal, $el, event, config, slice.call(arguments, 1));\n\n            // Don't update the model if false is returned from the `updateModel` configuration.\n            var currentVal = evaluateBoolean(config.updateModel, val, event, config);\n            if (currentVal) setAttr(model, modelAttr, val, options, config);\n          };\n          var sel = selector === ':el'? '' : selector;\n          this.$el.on(eventName, sel, _.bind(listener, this));\n        }, this);\n\n        // Setup a `change:modelAttr` observer to keep the view element in sync.\n        // `modelAttr` may be an array of attributes or a single string value.\n        _.each(_.flatten([modelAttr]), function(attr) {\n          observeModelEvent(model, 'change:' + attr, config, function(m, val, options) {\n            var changeId = options && options.stickitChange && options.stickitChange.bindId;\n            if (changeId !== bindId) {\n              var currentVal = getAttr(model, modelAttr, config);\n              updateViewBindEl($el, config, currentVal, model);\n            }\n          });\n        });\n\n        var currentVal = getAttr(model, modelAttr, config);\n        updateViewBindEl($el, config, currentVal, model, true);\n      }\n\n      // After each binding is setup, call the `initialize` callback.\n      applyViewFn.call(this, config.initialize, $el, model, config);\n    }\n  };\n\n  _.extend(Backbone.View.prototype, Stickit.ViewMixin);\n\n  // Helpers\n  // -------\n\n  var slice = [].slice;\n\n  // Evaluates the given `path` (in object/dot-notation) relative to the given\n  // `obj`. If the path is null/undefined, then the given `obj` is returned.\n  var evaluatePath = function(obj, path) {\n    var parts = (path || '').split('.');\n    var result = _.reduce(parts, function(memo, i) { return memo[i]; }, obj);\n    return result == null ? obj : result;\n  };\n\n  // If the given `fn` is a string, then view[fn] is called, otherwise it is\n  // a function that should be executed.\n  var applyViewFn = function(fn) {\n    fn = _.isString(fn) ? evaluatePath(this, fn) : fn;\n    if (fn) return (fn).apply(this, slice.call(arguments, 1));\n  };\n\n  // Given a function, string (view function reference), or a boolean\n  // value, returns the truthy result. Any other types evaluate as false.\n  // The first argument must be `reference` and the last must be `config`, but\n  // middle arguments can be variadic.\n  var evaluateBoolean = function(reference, val, config) {\n    if (_.isBoolean(reference)) {\n      return reference;\n    } else if (_.isFunction(reference) || _.isString(reference)) {\n      var view = _.last(arguments).view;\n      return applyViewFn.apply(view, arguments);\n    }\n    return false;\n  };\n\n  // Setup a model event binding with the given function, and track the event\n  // in the view's _modelBindings.\n  var observeModelEvent = function(model, event, config, fn) {\n    var view = config.view;\n    model.on(event, fn, view);\n    view._modelBindings.push({model:model, event:event, fn:fn, config:config});\n  };\n\n  // Prepares the given `val`ue and sets it into the `model`.\n  var setAttr = function(model, attr, val, options, config) {\n    var value = {}, view = config.view;\n    if (config.onSet) {\n      val = applyViewFn.call(view, config.onSet, val, config);\n    }\n\n    if (config.set) {\n      applyViewFn.call(view, config.set, attr, val, options, config);\n    } else {\n      value[attr] = val;\n      // If `observe` is defined as an array and `onSet` returned\n      // an array, then map attributes to their values.\n      if (_.isArray(attr) && _.isArray(val)) {\n        value = _.reduce(attr, function(memo, attribute, index) {\n          memo[attribute] = _.has(val, index) ? val[index] : null;\n          return memo;\n        }, {});\n      }\n      model.set(value, options);\n    }\n  };\n\n  // Returns the given `attr`'s value from the `model`, escaping and\n  // formatting if necessary. If `attr` is an array, then an array of\n  // respective values will be returned.\n  var getAttr = function(model, attr, config) {\n    var view = config.view;\n    var retrieveVal = function(field) {\n      return model[config.escape ? 'escape' : 'get'](field);\n    };\n    var sanitizeVal = function(val) {\n      return val == null ? '' : val;\n    };\n    var val = _.isArray(attr) ? _.map(attr, retrieveVal) : retrieveVal(attr);\n    if (config.onGet) val = applyViewFn.call(view, config.onGet, val, config);\n    return _.isArray(val) ? _.map(val, sanitizeVal) : sanitizeVal(val);\n  };\n\n  // Find handlers in `Backbone.Stickit._handlers` with selectors that match\n  // `$el` and generate a configuration by mixing them in the order that they\n  // were found with the given `binding`.\n  var getConfiguration = Stickit.getConfiguration = function($el, binding) {\n    var handlers = [{\n      updateModel: false,\n      updateMethod: 'text',\n      update: function($el, val, m, opts) { if ($el[opts.updateMethod]) $el[opts.updateMethod](val); },\n      getVal: function($el, e, opts) { return $el[opts.updateMethod](); }\n    }];\n    handlers = handlers.concat(_.filter(Stickit._handlers, function(handler) {\n      return $el.is(handler.selector);\n    }));\n    handlers.push(binding);\n\n    // Merge handlers into a single config object. Last props in wins.\n    var config = _.extend.apply(_, handlers);\n\n    // `updateView` is defaulted to false for configutrations with\n    // `visible`; otherwise, `updateView` is defaulted to true.\n    if (!_.has(config, 'updateView')) config.updateView = !config.visible;\n    return config;\n  };\n\n  // Setup the attributes configuration - a list that maps an attribute or\n  // property `name`, to an `observe`d model attribute, using an optional\n  // `onGet` formatter.\n  //\n  //     attributes: [{\n  //       name: 'attributeOrPropertyName',\n  //       observe: 'modelAttrName'\n  //       onGet: function(modelAttrVal, modelAttrName) { ... }\n  //     }, ...]\n  //\n  var initializeAttributes = function($el, config, model, modelAttr) {\n    var props = ['autofocus', 'autoplay', 'async', 'checked', 'controls',\n      'defer', 'disabled', 'hidden', 'indeterminate', 'loop', 'multiple',\n      'open', 'readonly', 'required', 'scoped', 'selected'];\n\n    var view = config.view;\n\n    _.each(config.attributes || [], function(attrConfig) {\n      attrConfig = _.clone(attrConfig);\n      attrConfig.view = view;\n\n      var lastClass = '';\n      var observed = attrConfig.observe || (attrConfig.observe = modelAttr);\n      var updateAttr = function() {\n        var updateType = _.contains(props, attrConfig.name) ? 'prop' : 'attr',\n            val = getAttr(model, observed, attrConfig);\n\n        // If it is a class then we need to remove the last value and add the new.\n        if (attrConfig.name === 'class') {\n          $el.removeClass(lastClass).addClass(val);\n          lastClass = val;\n        } else {\n          $el[updateType](attrConfig.name, val);\n        }\n      };\n\n      _.each(_.flatten([observed]), function(attr) {\n        observeModelEvent(model, 'change:' + attr, config, updateAttr);\n      });\n\n      // Initialize the matched element's state.\n      updateAttr();\n    });\n  };\n\n  var initializeClasses = function($el, config, model, modelAttr) {\n    _.each(config.classes || [], function(classConfig, name) {\n      if (_.isString(classConfig)) classConfig = {observe: classConfig};\n      classConfig.view = config.view;\n\n      var observed = classConfig.observe;\n      var updateClass = function() {\n        var val = getAttr(model, observed, classConfig);\n        $el.toggleClass(name, !!val);\n      };\n\n      _.each(_.flatten([observed]), function(attr) {\n        observeModelEvent(model, 'change:' + attr, config, updateClass);\n      });\n      updateClass();\n    });\n  };\n\n  // If `visible` is configured, then the view element will be shown/hidden\n  // based on the truthiness of the modelattr's value or the result of the\n  // given callback. If a `visibleFn` is also supplied, then that callback\n  // will be executed to manually handle showing/hiding the view element.\n  //\n  //     observe: 'isRight',\n  //     visible: true, // or function(val, options) {}\n  //     visibleFn: function($el, isVisible, options) {} // optional handler\n  //\n  var initializeVisible = function($el, config, model, modelAttr) {\n    if (config.visible == null) return;\n    var view = config.view;\n\n    var visibleCb = function() {\n      var visible = config.visible,\n          visibleFn = config.visibleFn,\n          val = getAttr(model, modelAttr, config),\n          isVisible = !!val;\n\n      // If `visible` is a function then it should return a boolean result to show/hide.\n      if (_.isFunction(visible) || _.isString(visible)) {\n        isVisible = !!applyViewFn.call(view, visible, val, config);\n      }\n\n      // Either use the custom `visibleFn`, if provided, or execute the standard show/hide.\n      if (visibleFn) {\n        applyViewFn.call(view, visibleFn, $el, isVisible, config);\n      } else {\n        $el.toggle(isVisible);\n      }\n    };\n\n    _.each(_.flatten([modelAttr]), function(attr) {\n      observeModelEvent(model, 'change:' + attr, config, visibleCb);\n    });\n\n    visibleCb();\n  };\n\n  // Update the value of `$el` using the given configuration and trigger the\n  // `afterUpdate` callback. This action may be blocked by `config.updateView`.\n  //\n  //     update: function($el, val, model, options) {},  // handler for updating\n  //     updateView: true, // defaults to true\n  //     afterUpdate: function($el, val, options) {} // optional callback\n  //\n  var updateViewBindEl = function($el, config, val, model, isInitializing) {\n    var view = config.view;\n    if (!evaluateBoolean(config.updateView, val, config)) return;\n    applyViewFn.call(view, config.update, $el, val, model, config);\n    if (!isInitializing) applyViewFn.call(view, config.afterUpdate, $el, val, config);\n  };\n\n  // Default Handlers\n  // ----------------\n\n  Stickit.addHandler([{\n    selector: '[contenteditable]',\n    updateMethod: 'html',\n    events: ['input', 'change']\n  }, {\n    selector: 'input',\n    events: ['propertychange', 'input', 'change'],\n    update: function($el, val) { $el.val(val); },\n    getVal: function($el) {\n      return $el.val();\n    }\n  }, {\n    selector: 'textarea',\n    events: ['propertychange', 'input', 'change'],\n    update: function($el, val) { $el.val(val); },\n    getVal: function($el) { return $el.val(); }\n  }, {\n    selector: 'input[type=\"radio\"]',\n    events: ['change'],\n    update: function($el, val) {\n      $el.filter('[value=\"'+val+'\"]').prop('checked', true);\n    },\n    getVal: function($el) {\n      return $el.filter(':checked').val();\n    }\n  }, {\n    selector: 'input[type=\"checkbox\"]',\n    events: ['change'],\n    update: function($el, val, model, options) {\n      if ($el.length > 1) {\n        // There are multiple checkboxes so we need to go through them and check\n        // any that have value attributes that match what's in the array of `val`s.\n        val || (val = []);\n        $el.each(function(i, el) {\n          var checkbox = Backbone.$(el);\n          var checkboxVal = checkbox.val();\n          var checked = _.some(val, function(item) { return ''+item === checkboxVal; });\n          checkbox.prop('checked', checked);\n        });\n      } else {\n        var checked = _.isBoolean(val) ? val : ''+val === $el.val();\n        $el.prop('checked', checked);\n      }\n    },\n    getVal: function($el) {\n      var val;\n      if ($el.length > 1) {\n        val = _.reduce($el, function(memo, el) {\n          var checkbox = Backbone.$(el);\n          if (checkbox.prop('checked')) memo.push(checkbox.val());\n          return memo;\n        }, []);\n      } else {\n        val = $el.prop('checked');\n        // If the checkbox has a value attribute defined, then\n        // use that value. Most browsers use \"on\" as a default.\n        var boxval = $el.val();\n        if (boxval !== 'on' && boxval != null) {\n          val = val ? $el.val() : null;\n        }\n      }\n      return val;\n    }\n  }, {\n    selector: 'select',\n    events: ['change'],\n    update: function($el, val, model, options) {\n      var optList,\n        selectConfig = options.selectOptions,\n        list = selectConfig && selectConfig.collection || undefined,\n        isMultiple = $el.prop('multiple');\n\n      // If there are no `selectOptions` then we assume that the `<select>`\n      // is pre-rendered and that we need to generate the collection.\n      if (!selectConfig) {\n        selectConfig = {};\n        var getList = function($el) {\n          return $el.map(function(index, option) {\n            // Retrieve the text and value of the option, preferring \"stickit-bind-val\"\n            // data attribute over value property.\n            var dataVal = Backbone.$(option).data('stickit-bind-val');\n            return {\n              value: dataVal !== undefined ? dataVal : option.value,\n              label: option.text\n            };\n          }).get();\n        };\n        if ($el.find('optgroup').length) {\n          list = {opt_labels:[]};\n          // Search for options without optgroup\n          if ($el.find('> option').length) {\n            list.opt_labels.push(undefined);\n            _.each($el.find('> option'), function(el) {\n              list[undefined] = getList(Backbone.$(el));\n            });\n          }\n          _.each($el.find('optgroup'), function(el) {\n            var label = Backbone.$(el).attr('label');\n            list.opt_labels.push(label);\n            list[label] = getList(Backbone.$(el).find('option'));\n          });\n        } else {\n          list = getList($el.find('option'));\n        }\n      }\n\n      // Fill in default label and path values.\n      selectConfig.valuePath = selectConfig.valuePath || 'value';\n      selectConfig.labelPath = selectConfig.labelPath || 'label';\n      selectConfig.disabledPath = selectConfig.disabledPath || 'disabled';\n\n      var addSelectOptions = function(optList, $el, fieldVal) {\n        _.each(optList, function(obj) {\n          var option = Backbone.$('<option/>'), optionVal = obj;\n\n          var fillOption = function(text, val, disabled) {\n            option.text(text);\n            optionVal = val;\n            // Save the option value as data so that we can reference it later.\n            option.data('stickit-bind-val', optionVal);\n            if (!_.isArray(optionVal) && !_.isObject(optionVal)) option.val(optionVal);\n\n            if (disabled === true) option.prop('disabled', 'disabled');\n          };\n\n          var text, val, disabled;\n          if (obj === '__default__') {\n            text = fieldVal.label,\n            val = fieldVal.value,\n            disabled = fieldVal.disabled;\n          } else {\n            text = evaluatePath(obj, selectConfig.labelPath),\n            val = evaluatePath(obj, selectConfig.valuePath),\n            disabled = evaluatePath(obj, selectConfig.disabledPath);\n          }\n          fillOption(text, val, disabled);\n\n          // Determine if this option is selected.\n          var isSelected = function() {\n            if (!isMultiple && optionVal != null && fieldVal != null && optionVal === fieldVal) {\n              return true;\n            } else if (_.isObject(fieldVal) && _.isEqual(optionVal, fieldVal)) {\n              return true;\n            }\n            return false;\n          };\n\n          if (isSelected()) {\n            option.prop('selected', true);\n          } else if (isMultiple && _.isArray(fieldVal)) {\n            _.each(fieldVal, function(val) {\n              if (_.isObject(val)) val = evaluatePath(val, selectConfig.valuePath);\n              if (val === optionVal || (_.isObject(val) && _.isEqual(optionVal, val)))\n                option.prop('selected', true);\n            });\n          }\n\n          $el.append(option);\n        });\n      };\n\n      $el.find('*').remove();\n\n      // The `list` configuration is a function that returns the options list or a string\n      // which represents the path to the list relative to `window` or the view/`this`.\n      if (_.isString(list)) {\n        var context = window;\n        if (list.indexOf('this.') === 0) context = this;\n        list = list.replace(/^[a-z]*\\.(.+)$/, '$1');\n        optList = evaluatePath(context, list);\n      } else if (_.isFunction(list)) {\n        optList = applyViewFn.call(this, list, $el, options);\n      } else {\n        optList = list;\n      }\n\n      // Support Backbone.Collection and deserialize.\n      if (optList instanceof Backbone.Collection) {\n        var collection = optList;\n        var refreshSelectOptions = function() {\n          var currentVal = getAttr(model, options.observe, options);\n          applyViewFn.call(this, options.update, $el, currentVal, model, options);\n        };\n        // We need to call this function after unstickit and after an update so we don't end up\n        // with multiple listeners doing the same thing\n        var removeCollectionListeners = function() {\n          collection.off('add remove reset sort', refreshSelectOptions);\n        };\n        var removeAllListeners = function() {\n          removeCollectionListeners();\n          collection.off('stickit:selectRefresh');\n          collection.off('stickit:selectRefreshForView');\n          model.off('stickit:selectRefresh');\n        };\n        collection.trigger('stickit:selectRefreshForView', this.cid);\n        // Compare the view cid on the event to this.cid to ensure we don't\n        // remove events from the collection that are tied to other views.\n        collection.once('stickit:selectRefreshForView', function(viewCid) {\n          if(this.cid == viewCid){\n            // Remove previously set event listeners by triggering a custom event\n            collection.trigger('stickit:selectRefresh');\n          }\n        }, this);\n        collection.once('stickit:selectRefresh', removeCollectionListeners, this);\n\n        // Listen to the collection and trigger an update of the select options\n        collection.on('add remove reset sort', refreshSelectOptions, this);\n\n        // Remove the previous model event listener\n        model.trigger('stickit:selectRefresh');\n        model.once('stickit:selectRefresh', function() {\n          model.off('stickit:unstuck', removeAllListeners);\n        });\n        // Remove collection event listeners once this binding is unstuck\n        model.once('stickit:unstuck', removeAllListeners, this);\n        optList = optList.toJSON();\n      }\n\n      if (selectConfig.defaultOption) {\n        var option = _.isFunction(selectConfig.defaultOption) ?\n          selectConfig.defaultOption.call(this, $el, options) :\n          selectConfig.defaultOption;\n        addSelectOptions([\"__default__\"], $el, option);\n      }\n\n      if (_.isArray(optList)) {\n        addSelectOptions(optList, $el, val);\n      } else if (optList.opt_labels) {\n        // To define a select with optgroups, format selectOptions.collection as an object\n        // with an 'opt_labels' property, as in the following:\n        //\n        //     {\n        //       'opt_labels': ['Looney Tunes', 'Three Stooges'],\n        //       'Looney Tunes': [{id: 1, name: 'Bugs Bunny'}, {id: 2, name: 'Donald Duck'}],\n        //       'Three Stooges': [{id: 3, name : 'moe'}, {id: 4, name : 'larry'}, {id: 5, name : 'curly'}]\n        //     }\n        //\n        _.each(optList.opt_labels, function(label) {\n          var $group = Backbone.$('<optgroup/>').attr('label', label);\n          addSelectOptions(optList[label], $group, val);\n          $el.append($group);\n        });\n        // With no 'opt_labels' parameter, the object is assumed to be a simple value-label map.\n        // Pass a selectOptions.comparator to override the default order of alphabetical by label.\n      } else {\n        var opts = [], opt;\n        for (var i in optList) {\n          opt = {};\n          opt[selectConfig.valuePath] = i;\n          opt[selectConfig.labelPath] = optList[i];\n          opts.push(opt);\n        }\n        opts = _.sortBy(opts, selectConfig.comparator || selectConfig.labelPath);\n        addSelectOptions(opts, $el, val);\n      }\n    },\n    getVal: function($el) {\n      var selected = $el.find('option:selected');\n\n      if ($el.prop('multiple')) {\n        return _.map(selected, function(el) {\n          return Backbone.$(el).data('stickit-bind-val');\n        });\n      } else {\n        return selected.data('stickit-bind-val');\n      }\n    }\n  }]);\n\n  return Stickit;\n\n}));\n","/**\n * Backbone-Nested 2.0.3 - An extension of Backbone.js that keeps track of nested attributes\n *\n * http://afeld.github.com/backbone-nested/\n *\n * Copyright (c) 2011-2012 Aidan Feldman\n * MIT Licensed (LICENSE)\n */\n/*global define, require, module */\n(function(root, factory){\n  if (typeof exports !== 'undefined') {\n      // Define as CommonJS export:\n      module.exports = factory(require(\"jquery\"), require(\"underscore\"), require(\"backbone\"));\n  } else if (typeof define === 'function' && define.amd) {\n      // Define as AMD:\n      define([\"jquery\", \"underscore\", \"backbone\"], factory);\n  } else {\n      // Just run it:\n      factory(root.$, root._, root.Backbone);\n  }\n}(this, function($, _, Backbone) {\n  'use strict';\n\n  var _delayedTriggers = [],\n    nestedChanges;\n\n  Backbone.NestedModel = Backbone.Model.extend({\n\n    get: function(attrStrOrPath){\n      return Backbone.NestedModel.walkThenGet(this.attributes, attrStrOrPath);\n    },\n\n    previous: function(attrStrOrPath){\n      return Backbone.NestedModel.walkThenGet(this._previousAttributes, attrStrOrPath);\n    },\n\n    has: function(attr){\n      // for some reason this is not how Backbone.Model is implemented - it accesses the attributes object directly\n      var result = this.get(attr);\n      return !(result === null || _.isUndefined(result));\n    },\n\n    set: function(key, value, opts){\n      var newAttrs = Backbone.NestedModel.deepClone(this.attributes),\n        attrPath,\n        unsetObj,\n        validated;\n\n      if (_.isString(key)){\n        // Backbone 0.9.0+ syntax: `model.set(key, val)` - convert the key to an attribute path\n        attrPath = Backbone.NestedModel.attrPath(key);\n      } else if (_.isArray(key)){\n        // attribute path\n        attrPath = key;\n      }\n\n      if (attrPath){\n        opts = opts || {};\n        this._setAttr(newAttrs, attrPath, value, opts);\n      } else { // it's an Object\n        opts = value || {};\n        var attrs = key;\n        for (var _attrStr in attrs) {\n          if (attrs.hasOwnProperty(_attrStr)) {\n            this._setAttr(newAttrs,\n                          Backbone.NestedModel.attrPath(_attrStr),\n                          opts.unset ? void 0 : attrs[_attrStr],\n                          opts);\n          }\n        }\n      }\n\n      nestedChanges = Backbone.NestedModel.__super__.changedAttributes.call(this);\n\n      if (opts.unset && attrPath && attrPath.length === 1){ // assume it is a singular attribute being unset\n        // unsetting top-level attribute\n        unsetObj = {};\n        unsetObj[key] = void 0;\n        nestedChanges = _.omit(nestedChanges, _.keys(unsetObj));\n        validated = Backbone.NestedModel.__super__.set.call(this, unsetObj, opts);\n      } else {\n        unsetObj = newAttrs;\n\n        // normal set(), or an unset of nested attribute\n        if (opts.unset && attrPath){\n          // make sure Backbone.Model won't unset the top-level attribute\n          opts = _.extend({}, opts);\n          delete opts.unset;\n        } else if (opts.unset && _.isObject(key)) {\n          unsetObj = key;\n        }\n        nestedChanges = _.omit(nestedChanges, _.keys(unsetObj));\n        validated = Backbone.NestedModel.__super__.set.call(this, unsetObj, opts);\n      }\n\n\n      if (!validated){\n        // reset changed attributes\n        this.changed = {};\n        nestedChanges = {};\n        return false;\n      }\n\n\n      this._runDelayedTriggers();\n      return this;\n    },\n\n    unset: function(attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n    },\n\n    clear: function(options) {\n      nestedChanges = {};\n\n      // Mostly taken from Backbone.Model.set, modified to work for NestedModel.\n      options = options || {};\n      // clone attributes so validate method can't mutate it from underneath us.\n      var attrs = _.clone(this.attributes);\n      if (!options.silent && this.validate && !this.validate(attrs, options)) {\n        return false; // Should maybe return this instead?\n      }\n\n      var changed = this.changed = {};\n      var model = this;\n\n      var setChanged = function(obj, prefix, options) {\n        // obj will be an Array or an Object\n        _.each(obj, function(val, attr){\n          var changedPath = prefix;\n          if (_.isArray(obj)){\n            // assume there is a prefix\n            changedPath += '[' + attr + ']';\n          } else if (prefix){\n            changedPath += '.' + attr;\n          } else {\n            changedPath = attr;\n          }\n\n          val = obj[attr];\n          if (_.isObject(val)) { // clear child attrs\n            setChanged(val, changedPath, options);\n          }\n          if (!options.silent) model._delayedChange(changedPath, null, options);\n          changed[changedPath] = null;\n        });\n      };\n      setChanged(this.attributes, '', options);\n\n      this.attributes = {};\n\n      // Fire the `\"change\"` events.\n      if (!options.silent) this._delayedTrigger('change');\n\n      this._runDelayedTriggers();\n      return this;\n    },\n\n    add: function(attrStr, value, opts){\n      var current = this.get(attrStr);\n      if (!_.isArray(current)) throw new Error('current value is not an array');\n      return this.set(attrStr + '[' + current.length + ']', value, opts);\n    },\n\n    remove: function(attrStr, opts){\n      opts = opts || {};\n\n      var attrPath = Backbone.NestedModel.attrPath(attrStr),\n        aryPath = _.initial(attrPath),\n        val = this.get(aryPath),\n        i = _.last(attrPath);\n\n      if (!_.isArray(val)){\n        throw new Error(\"remove() must be called on a nested array\");\n      }\n\n      // only trigger if an element is actually being removed\n      var trigger = !opts.silent && (val.length >= i + 1),\n        oldEl = val[i];\n\n      // remove the element from the array\n      val.splice(i, 1);\n      opts.silent = true; // Triggers should only be fired in trigger section below\n      this.set(aryPath, val, opts);\n\n      if (trigger){\n        attrStr = Backbone.NestedModel.createAttrStr(aryPath);\n        this.trigger('remove:' + attrStr, this, oldEl);\n        for (var aryCount = aryPath.length; aryCount >= 1; aryCount--) {\n          attrStr = Backbone.NestedModel.createAttrStr(_.first(aryPath, aryCount));\n          this.trigger('change:' + attrStr, this, oldEl);\n        }\n        this.trigger('change', this, oldEl);\n      }\n\n      return this;\n    },\n\n    changedAttributes: function(diff) {\n      var backboneChanged = Backbone.NestedModel.__super__.changedAttributes.call(this, diff);\n      if (_.isObject(backboneChanged)) {\n        return _.extend({}, nestedChanges, backboneChanged);\n      }\n      return false;\n    },\n\n    toJSON: function(){\n      return Backbone.NestedModel.deepClone(this.attributes);\n    },\n\n\n    // private\n    _delayedTrigger: function(/* the trigger args */){\n      _delayedTriggers.push(arguments);\n    },\n\n    _delayedChange: function(attrStr, newVal, options){\n      this._delayedTrigger('change:' + attrStr, this, newVal, options);\n\n      // Check if `change` even *exists*, as it won't when the model is\n      // freshly created.\n      if (!this.changed) {\n        this.changed = {};\n      }\n\n      this.changed[attrStr] = newVal;\n    },\n\n    _runDelayedTriggers: function(){\n      while (_delayedTriggers.length > 0){\n        this.trigger.apply(this, _delayedTriggers.shift());\n      }\n    },\n\n    // note: modifies `newAttrs`\n    _setAttr: function(newAttrs, attrPath, newValue, opts){\n      opts = opts || {};\n\n      var fullPathLength = attrPath.length;\n      var model = this;\n\n      Backbone.NestedModel.walkPath(newAttrs, attrPath, function(val, path, next){\n        var attr = _.last(path);\n        var attrStr = Backbone.NestedModel.createAttrStr(path);\n\n        // See if this is a new value being set\n        var isNewValue = !_.isEqual(val[attr], newValue);\n\n        if (path.length === fullPathLength){\n          // reached the attribute to be set\n\n          if (opts.unset){\n            // unset the value\n            delete val[attr];\n\n            // Trigger Remove Event if array being set to null\n            if (_.isArray(val)){\n              var parentPath = Backbone.NestedModel.createAttrStr(_.initial(attrPath));\n              model._delayedTrigger('remove:' + parentPath, model, val[attr]);\n            }\n          } else {\n            // Set the new value\n            val[attr] = newValue;\n          }\n\n          // Trigger Change Event if new values are being set\n          if (!opts.silent && _.isObject(newValue) && isNewValue){\n            var visited = [];\n            var checkChanges = function(obj, prefix) {\n              // Don't choke on circular references\n              if(_.indexOf(visited, obj) > -1) {\n                return;\n              } else {\n                visited.push(obj);\n              }\n\n              var nestedAttr, nestedVal;\n              for (var a in obj){\n                if (obj.hasOwnProperty(a)) {\n                  nestedAttr = prefix + '.' + a;\n                  nestedVal = obj[a];\n                  if (!_.isEqual(model.get(nestedAttr), nestedVal)) {\n                    model._delayedChange(nestedAttr, nestedVal, opts);\n                  }\n                  if (_.isObject(nestedVal)) {\n                    checkChanges(nestedVal, nestedAttr);\n                  }\n                }\n              }\n            };\n            checkChanges(newValue, attrStr);\n\n          }\n\n\n        } else if (!val[attr]){\n          if (_.isNumber(next)){\n            val[attr] = [];\n          } else {\n            val[attr] = {};\n          }\n        }\n\n        if (!opts.silent){\n          // let the superclass handle change events for top-level attributes\n          if (path.length > 1 && isNewValue){\n            model._delayedChange(attrStr, val[attr], opts);\n          }\n\n          if (_.isArray(val[attr])){\n            model._delayedTrigger('add:' + attrStr, model, val[attr]);\n          }\n        }\n      });\n    }\n\n  }, {\n    // class methods\n\n    attrPath: function(attrStrOrPath){\n      var path;\n\n      if (_.isString(attrStrOrPath)){\n        // TODO this parsing can probably be more efficient\n        path = (attrStrOrPath === '') ? [''] : attrStrOrPath.match(/[^\\.\\[\\]]+/g);\n        path = _.map(path, function(val){\n          // convert array accessors to numbers\n          return val.match(/^\\d+$/) ? parseInt(val, 10) : val;\n        });\n      } else {\n        path = attrStrOrPath;\n      }\n\n      return path;\n    },\n\n    createAttrStr: function(attrPath){\n      var attrStr = attrPath[0];\n      _.each(_.rest(attrPath), function(attr){\n        attrStr += _.isNumber(attr) ? ('[' + attr + ']') : ('.' + attr);\n      });\n\n      return attrStr;\n    },\n\n    deepClone: function(obj){\n      return $.extend(true, {}, obj);\n    },\n\n    walkPath: function(obj, attrPath, callback, scope){\n      var val = obj,\n        childAttr;\n\n      // walk through the child attributes\n      for (var i = 0; i < attrPath.length; i++){\n        callback.call(scope || this, val, attrPath.slice(0, i + 1), attrPath[i + 1]);\n\n        childAttr = attrPath[i];\n        val = val[childAttr];\n        if (!val) break; // at the leaf\n      }\n    },\n\n    walkThenGet: function(attributes, attrStrOrPath){\n      var attrPath = Backbone.NestedModel.attrPath(attrStrOrPath),\n        result;\n\n      Backbone.NestedModel.walkPath(attributes, attrPath, function(val, path){\n        var attr = _.last(path);\n        if (path.length === attrPath.length){\n          // attribute found\n          result = val[attr];\n        }\n      });\n\n      return result;\n    }\n\n  });\n\n  return Backbone;\n}));\n","/*! formstone v1.0.1 [core.js] 2016-03-25 | MIT License | formstone.it */\n\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):a(jQuery)}(function(a){\"use strict\";function b(a){m.Plugins[a].initialized||(m.Plugins[a].methods._setup.call(document),m.Plugins[a].initialized=!0)}function c(a,b,c,d){var e,f={raw:{}};d=d||{};for(e in d)d.hasOwnProperty(e)&&(\"classes\"===a?(f.raw[d[e]]=b+\"-\"+d[e],f[d[e]]=\".\"+b+\"-\"+d[e]):(f.raw[e]=d[e],f[e]=d[e]+\".\"+b));for(e in c)c.hasOwnProperty(e)&&(\"classes\"===a?(f.raw[e]=c[e].replace(/{ns}/g,b),f[e]=c[e].replace(/{ns}/g,\".\"+b)):(f.raw[e]=c[e].replace(/.{ns}/g,\"\"),f[e]=c[e].replace(/{ns}/g,b)));return f}function d(){var a,b={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"otransitionend\",transition:\"transitionend\"},c=[\"transition\",\"-webkit-transition\"],d={transform:\"transform\",MozTransform:\"-moz-transform\",OTransform:\"-o-transform\",msTransform:\"-ms-transform\",webkitTransform:\"-webkit-transform\"},e=\"transitionend\",f=\"\",g=\"\",h=document.createElement(\"div\");for(a in b)if(b.hasOwnProperty(a)&&a in h.style){e=b[a],m.support.transition=!0;break}p.transitionEnd=e+\".{ns}\";for(a in c)if(c.hasOwnProperty(a)&&c[a]in h.style){f=c[a];break}m.transition=f;for(a in d)if(d.hasOwnProperty(a)&&d[a]in h.style){m.support.transform=!0,g=d[a];break}m.transform=g}function e(){m.windowWidth=m.$window.width(),m.windowHeight=m.$window.height(),q=l.startTimer(q,r,f)}function f(){for(var a in m.ResizeHandlers)m.ResizeHandlers.hasOwnProperty(a)&&m.ResizeHandlers[a].callback.call(window,m.windowWidth,m.windowHeight)}function g(){if(m.support.raf){m.window.requestAnimationFrame(g);for(var a in m.RAFHandlers)m.RAFHandlers.hasOwnProperty(a)&&m.RAFHandlers[a].callback.call(window)}}function h(a,b){return parseInt(a.priority)-parseInt(b.priority)}var i=\"undefined\"!=typeof window?window:this,j=i.document,k=function(){this.Version=\"1.0.1\",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=i,this.$window=a(i),this.document=j,this.$document=a(j),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!(!window.matchMedia&&!window.msMatchMedia),pointer:!!window.PointerEvent,raf:!(!window.requestAnimationFrame||!window.cancelAnimationFrame),touch:!!(\"ontouchstart\"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}},l={killEvent:function(a,b){try{a.preventDefault(),a.stopPropagation(),b&&a.stopImmediatePropagation()}catch(c){}},startTimer:function(a,b,c,d){return l.clearTimer(a),d?setInterval(c,b):setTimeout(c,b)},clearTimer:function(a,b){a&&(b?clearInterval(a):clearTimeout(a),a=null)},sortAsc:function(a,b){return parseInt(a,10)-parseInt(b,10)},sortDesc:function(a,b){return parseInt(b,10)-parseInt(a,10)},decodeEntities:function(a){var b=m.document.createElement(\"textarea\");return b.innerHTML=a,b.value},parseQueryString:function(a){for(var b={},c=a.slice(a.indexOf(\"?\")+1).split(\"&\"),d=0;d<c.length;d++){var e=c[d].split(\"=\");b[e[0]]=e[1]}return b}},m=new k,n=a.Deferred(),o={base:\"{ns}\",element:\"{ns}-element\"},p={namespace:\".{ns}\",beforeUnload:\"beforeunload.{ns}\",blur:\"blur.{ns}\",change:\"change.{ns}\",click:\"click.{ns}\",dblClick:\"dblclick.{ns}\",drag:\"drag.{ns}\",dragEnd:\"dragend.{ns}\",dragEnter:\"dragenter.{ns}\",dragLeave:\"dragleave.{ns}\",dragOver:\"dragover.{ns}\",dragStart:\"dragstart.{ns}\",drop:\"drop.{ns}\",error:\"error.{ns}\",focus:\"focus.{ns}\",focusIn:\"focusin.{ns}\",focusOut:\"focusout.{ns}\",input:\"input.{ns}\",keyDown:\"keydown.{ns}\",keyPress:\"keypress.{ns}\",keyUp:\"keyup.{ns}\",load:\"load.{ns}\",mouseDown:\"mousedown.{ns}\",mouseEnter:\"mouseenter.{ns}\",mouseLeave:\"mouseleave.{ns}\",mouseMove:\"mousemove.{ns}\",mouseOut:\"mouseout.{ns}\",mouseOver:\"mouseover.{ns}\",mouseUp:\"mouseup.{ns}\",panStart:\"panstart.{ns}\",pan:\"pan.{ns}\",panEnd:\"panend.{ns}\",resize:\"resize.{ns}\",scaleStart:\"scalestart.{ns}\",scaleEnd:\"scaleend.{ns}\",scale:\"scale.{ns}\",scroll:\"scroll.{ns}\",select:\"select.{ns}\",swipe:\"swipe.{ns}\",touchCancel:\"touchcancel.{ns}\",touchEnd:\"touchend.{ns}\",touchLeave:\"touchleave.{ns}\",touchMove:\"touchmove.{ns}\",touchStart:\"touchstart.{ns}\"};k.prototype.NoConflict=function(){m.DontConflict=!0;for(var b in m.Plugins)m.Plugins.hasOwnProperty(b)&&(a[b]=m.Conflicts[b],a.fn[b]=m.Conflicts.fn[b])},k.prototype.Plugin=function(d,e){return m.Plugins[d]=function(b,d){function e(c){var e,f,h,i=\"object\"===a.type(c),j=this,k=a();for(c=a.extend(!0,{},d.defaults||{},i?c:{}),f=0,h=j.length;h>f;f++)if(e=j.eq(f),!g(e)){var l=\"__\"+d.guid++,m=d.classes.raw.base+l,n=e.data(b+\"-options\"),o=a.extend(!0,{$el:e,guid:l,rawGuid:m,dotGuid:\".\"+m},c,\"object\"===a.type(n)?n:{});e.addClass(d.classes.raw.element).data(r,o),d.methods._construct.apply(e,[o].concat(Array.prototype.slice.call(arguments,i?1:0))),k=k.add(e)}for(f=0,h=k.length;h>f;f++)e=k.eq(f),d.methods._postConstruct.apply(e,[g(e)]);return j}function f(){d.functions.iterate.apply(this,[d.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(d.classes.raw.element).removeData(r)}function g(a){return a.data(r)}function i(b){if(this instanceof a){var c=d.methods[b];return\"object\"!==a.type(b)&&b?c&&0!==b.indexOf(\"_\")?d.functions.iterate.apply(this,[c].concat(Array.prototype.slice.call(arguments,1))):this:e.apply(this,arguments)}}function j(b){var c=d.utilities[b]||d.utilities._initialize||!1;return c?c.apply(window,Array.prototype.slice.call(arguments,\"object\"===a.type(b)?0:1)):void 0}function k(b){d.defaults=a.extend(!0,d.defaults,b||{})}function n(b){for(var c=this,d=0,e=c.length;e>d;d++){var f=c.eq(d),h=g(f)||{};\"undefined\"!==a.type(h.$el)&&b.apply(f,[h].concat(Array.prototype.slice.call(arguments,1)))}return c}var q=\"fs-\"+b,r=\"fs\"+b.replace(/(^|\\s)([a-z])/g,function(a,b,c){return b+c.toUpperCase()});return d.initialized=!1,d.priority=d.priority||10,d.classes=c(\"classes\",q,o,d.classes),d.events=c(\"events\",b,p,d.events),d.functions=a.extend({getData:g,iterate:n},l,d.functions),d.methods=a.extend(!0,{_setup:a.noop,_construct:a.noop,_postConstruct:a.noop,_destruct:a.noop,_resize:!1,destroy:f},d.methods),d.utilities=a.extend(!0,{_initialize:!1,_delegate:!1,defaults:k},d.utilities),d.widget&&(m.Conflicts.fn[b]=a.fn[b],a.fn[r]=i,m.DontConflict||(a.fn[b]=a.fn[r])),m.Conflicts[b]=a[b],a[r]=d.utilities._delegate||j,m.DontConflict||(a[b]=a[r]),d.namespace=b,d.namespaceClean=r,d.guid=0,d.methods._resize&&(m.ResizeHandlers.push({namespace:b,priority:d.priority,callback:d.methods._resize}),m.ResizeHandlers.sort(h)),d.methods._raf&&(m.RAFHandlers.push({namespace:b,priority:d.priority,callback:d.methods._raf}),m.RAFHandlers.sort(h)),d}(d,e),n.then(function(){b(d)}),m.Plugins[d]};var q=null,r=20;return m.$window.on(\"resize.fs\",e),e(),g(),a(function(){m.$body=a(\"body\"),n.resolve(),m.support.nativeMatchMedia=m.support.matchMedia&&!a(\"html\").hasClass(\"no-matchmedia\")}),p.clickTouchStart=p.click+\" \"+p.touchStart,d(),window.Formstone=m,m});","/*! formstone v1.0.1 [touch.js] 2016-03-25 | MIT License | formstone.it */\n\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\",\"./core\"],a):a(jQuery,Formstone)}(function(a,b){\"use strict\";function c(a){if(a.touches=[],a.touching=!1,this.on(q.dragStart,r.killEvent),a.swipe&&(a.pan=!0),a.scale&&(a.axis=!1),a.axisX=\"x\"===a.axis,a.axisY=\"y\"===a.axis,b.support.pointer){var c=\"\";!a.axis||a.axisX&&a.axisY?c=\"none\":(a.axisX&&(c+=\" pan-y\"),a.axisY&&(c+=\" pan-x\")),n(this,c),this.on(q.pointerDown,a,e)}else this.on(q.touchStart,a,e).on(q.mouseDown,a,f)}function d(){this.off(q.namespace),n(this,\"\")}function e(a){a.preventManipulation&&a.preventManipulation();var b=a.data,c=a.originalEvent;if(c.type.match(/(up|end|cancel)$/i))return void j(a);if(c.pointerId){var d=!1;for(var e in b.touches)b.touches[e].id===c.pointerId&&(d=!0,b.touches[e].pageX=c.pageX,b.touches[e].pageY=c.pageY);d||b.touches.push({id:c.pointerId,pageX:c.pageX,pageY:c.pageY})}else b.touches=c.touches;c.type.match(/(down|start)$/i)?f(a):c.type.match(/move$/i)&&g(a)}function f(c){var d=c.data,f=\"undefined\"!==a.type(d.touches)?d.touches[0]:null;d.touching||(d.startE=c.originalEvent,d.startX=f?f.pageX:c.pageX,d.startY=f?f.pageY:c.pageY,d.startT=(new Date).getTime(),d.scaleD=1,d.passed=!1),d.$links&&d.$links.off(q.click);var h=k(d.scale?q.scaleStart:q.panStart,c,d.startX,d.startY,d.scaleD,0,0,\"\",\"\");if(d.scale&&d.touches&&d.touches.length>=2){var i=d.touches;d.pinch={startX:l(i[0].pageX,i[1].pageX),startY:l(i[0].pageY,i[1].pageY),startD:m(i[1].pageX-i[0].pageX,i[1].pageY-i[0].pageY)},h.pageX=d.startX=d.pinch.startX,h.pageY=d.startY=d.pinch.startY}d.touching||(d.touching=!0,d.pan&&s.on(q.mouseMove,d,g).on(q.mouseUp,d,j),b.support.pointer?s.on([q.pointerMove,q.pointerUp,q.pointerCancel].join(\" \"),d,e):s.on([q.touchMove,q.touchEnd,q.touchCancel].join(\" \"),d,e),d.$el.trigger(h))}function g(b){var c=b.data,d=\"undefined\"!==a.type(c.touches)?c.touches[0]:null,e=d?d.pageX:b.pageX,f=d?d.pageY:b.pageY,g=e-c.startX,h=f-c.startY,i=g>0?\"right\":\"left\",n=h>0?\"down\":\"up\",o=Math.abs(g)>t,p=Math.abs(h)>t;if(!c.passed&&c.axis&&(c.axisX&&p||c.axisY&&o))j(b);else{!c.passed&&(!c.axis||c.axis&&c.axisX&&o||c.axisY&&p)&&(c.passed=!0),c.passed&&(r.killEvent(b),r.killEvent(c.startE));var s=!0,u=k(c.scale?q.scale:q.pan,b,e,f,c.scaleD,g,h,i,n);if(c.scale)if(c.touches&&c.touches.length>=2){var v=c.touches;c.pinch.endX=l(v[0].pageX,v[1].pageX),c.pinch.endY=l(v[0].pageY,v[1].pageY),c.pinch.endD=m(v[1].pageX-v[0].pageX,v[1].pageY-v[0].pageY),c.scaleD=c.pinch.endD/c.pinch.startD,u.pageX=c.pinch.endX,u.pageY=c.pinch.endY,u.scale=c.scaleD,u.deltaX=c.pinch.endX-c.pinch.startX,u.deltaY=c.pinch.endY-c.pinch.startY}else c.pan||(s=!1);s&&c.$el.trigger(u)}}function h(b,c){b.on(q.click,c,i);var d=a._data(b[0],\"events\").click;d.unshift(d.pop())}function i(a){r.killEvent(a,!0),a.data.$links.off(q.click)}function j(b){var c=b.data,d=\"undefined\"!==a.type(c.touches)?c.touches[0]:null,e=d?d.pageX:b.pageX,f=d?d.pageY:b.pageY,g=e-c.startX,i=f-c.startY,j=(new Date).getTime(),l=c.scale?q.scaleEnd:q.panEnd,m=g>0?\"right\":\"left\",n=i>0?\"down\":\"up\",o=Math.abs(g)>1,p=Math.abs(i)>1;if(c.swipe&&Math.abs(g)>t&&j-c.startT<u&&(l=q.swipe),c.axis&&(c.axisX&&p||c.axisY&&o)||o||p){c.$links=c.$el.find(\"a\");for(var r=0,v=c.$links.length;v>r;r++)h(c.$links.eq(r),c)}var w=k(l,b,e,f,c.scaleD,g,i,m,n);s.off([q.touchMove,q.touchEnd,q.touchCancel,q.mouseMove,q.mouseUp,q.pointerMove,q.pointerUp,q.pointerCancel].join(\" \")),c.$el.trigger(w),c.touches=[],c.scale,c.touching=!1}function k(b,c,d,e,f,g,h,i,j){return a.Event(b,{originalEvent:c,bubbles:!0,pageX:d,pageY:e,scale:f,deltaX:g,deltaY:h,directionX:i,directionY:j})}function l(a,b){return(a+b)/2}function m(a,b){return Math.sqrt(a*a+b*b)}function n(a,b){a.css({\"-ms-touch-action\":b,\"touch-action\":b})}var o=!b.window.PointerEvent,p=b.Plugin(\"touch\",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1},methods:{_construct:c,_destruct:d},events:{pointerDown:o?\"MSPointerDown\":\"pointerdown\",pointerUp:o?\"MSPointerUp\":\"pointerup\",pointerMove:o?\"MSPointerMove\":\"pointermove\",pointerCancel:o?\"MSPointerCancel\":\"pointercancel\"}}),q=p.events,r=p.functions,s=b.$window,t=10,u=50;q.pan=\"pan\",q.panStart=\"panstart\",q.panEnd=\"panend\",q.scale=\"scale\",q.scaleStart=\"scalestart\",q.scaleEnd=\"scaleend\",q.swipe=\"swipe\"});","/*! formstone v1.0.1 [transition.js] 2016-03-25 | MIT License | formstone.it */\n\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\",\"./core\"],a):a(jQuery,Formstone)}(function(a,b){\"use strict\";function c(a,c){if(c){a.$target=this.find(a.target),a.$check=a.target?a.$target:this,a.callback=c,a.styles=h(a.$check),a.timer=null;var d=a.$check.css(b.transition+\"-duration\"),f=parseFloat(d);b.support.transition&&d&&f?this.on(k.transitionEnd,a,e):a.timer=l.startTimer(a.timer,50,function(){g(a)},!0)}}function d(a){l.clearTimer(a.timer,!0),this.off(k.namespace)}function e(b){b.stopPropagation(),b.preventDefault();var c=b.data,d=b.originalEvent,e=c.target?c.$target:c.$el;c.property&&d.propertyName!==c.property||!a(d.target).is(e)||f(c)}function f(a){a.always||a.$el[j.namespaceClean](\"destroy\"),a.callback.apply(a.$el)}function g(a){var b=h(a.$check);i(a.styles,b)||f(a),a.styles=b}function h(b){var c,d,e,f={};if(b instanceof a&&(b=b[0]),m.getComputedStyle){c=m.getComputedStyle(b,null);for(var g=0,h=c.length;h>g;g++)d=c[g],e=c.getPropertyValue(d),f[d]=e}else if(b.currentStyle){c=b.currentStyle;for(d in c)c[d]&&(f[d]=c[d])}return f}function i(b,c){if(a.type(b)!==a.type(c))return!1;for(var d in b)if(!b.hasOwnProperty(d)||!c.hasOwnProperty(d)||b[d]!==c[d])return!1;return!0}var j=b.Plugin(\"transition\",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:c,_destruct:d,resolve:f}}),k=j.events,l=j.functions,m=b.window});","/* global define */\r\n\r\n(function(factory) {\r\n        if (typeof define === \"function\" && define.amd) {\r\n            define([\r\n                \"jquery\",\r\n                \"./core\",\r\n                \"./scrollbar\",\r\n                \"./touch\"\r\n            ], factory);\r\n        } else {\r\n            factory(jQuery, Formstone);\r\n        }\r\n    }(function($, Formstone) {\r\n\r\n        \"use strict\";\r\n\r\n        /**\r\n         * @method private\r\n         * @name setup\r\n         * @description Setup plugin.\r\n         */\r\n\r\n        function setup() {\r\n            $Body = Formstone.$body;\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name construct\r\n         * @description Builds instance.\r\n         * @param data [object] \"Instance data\"\r\n         */\r\n\r\n        function construct(data) {\r\n            data.multiple  = this.prop(\"multiple\");\r\n            data.disabled  = this.is(\":disabled\") || this.is(\"[readonly]\");\r\n            data.lastIndex = false;\r\n\r\n            if (data.multiple) {\r\n                data.links = false;\r\n            } else if (data.external) {\r\n                data.links = true;\r\n            }\r\n\r\n            // Grab true original index, only if selected attribute exits\r\n            var $trueOriginal   = this.find(\"[selected]\").not(\":disabled\"),\r\n                $originalOption = this.find(\":selected\").not(\":disabled\"),\r\n                originalLabel = $originalOption.text(),\r\n                originalIndex = this.find(\"option\").index($originalOption);\r\n\r\n            if (!data.multiple && data.label !== \"\" && !$trueOriginal.length) {\r\n                $originalOption = this.prepend('<option value=\"\" class=\"' + RawClasses.item_placeholder + '\" selected>' + data.label + '</option>');\r\n                originalLabel = data.label;\r\n                originalIndex = 0;\r\n            } else {\r\n                data.label = \"\";\r\n            }\r\n\r\n            // Build options array\r\n            var $allOptions = this.find(\"option, optgroup\"),\r\n                $options    = $allOptions.filter(\"option\"),\r\n                $label      = $(\"[for=\" + this.attr(\"id\") + \"]\");\r\n\r\n            // Swap tab index, no more interacting with the actual input!\r\n            data.tabIndex = this[0].tabIndex;\r\n            this[0].tabIndex = -1;\r\n\r\n            if ($label.length) {\r\n                $label[0].tabIndex = -1;\r\n            }\r\n\r\n            // Build wrapper\r\n            var wrapperClasses = [\r\n                RawClasses.base,\r\n                data.theme,\r\n                data.customClass\r\n            ];\r\n\r\n            if (data.mobile || Formstone.isMobile) {\r\n                wrapperClasses.push(RawClasses.mobile);\r\n            } else if (data.cover) {\r\n                wrapperClasses.push(RawClasses.cover);\r\n            }\r\n            if (data.multiple) {\r\n                wrapperClasses.push(RawClasses.multiple);\r\n            }\r\n            if (data.disabled) {\r\n                wrapperClasses.push(RawClasses.disabled);\r\n            }\r\n\r\n            // Build html\r\n            var wrapperHtml = '<div class=\"' + wrapperClasses.join(\" \") + '\" tabindex=\"' + data.tabIndex + '\"></div>',\r\n                innerHtml = \"\";\r\n\r\n            // Build inner\r\n            if (!data.multiple) {\r\n                innerHtml += '<button type=\"button\" class=\"' + RawClasses.selected + '\" tabindex=\"-1\">';\r\n                innerHtml += $('<span></span>').text( trimText(originalLabel, data.trim) ).html();\r\n                innerHtml += '</button>';\r\n            }\r\n            innerHtml += '<div class=\"' + RawClasses.options + '\">';\r\n            innerHtml += '</div>';\r\n\r\n            // Modify DOM\r\n            this.wrap(wrapperHtml)\r\n                .after(innerHtml);\r\n\r\n            // Store plugin data\r\n            data.$dropdown        = this.parent(Classes.base);\r\n            data.$label           = $label;\r\n            data.$allOptions      = $allOptions;\r\n            data.$options         = $options;\r\n            data.$selected        = data.$dropdown.find(Classes.selected);\r\n            data.$wrapper         = data.$dropdown.find(Classes.options);\r\n            data.$placeholder     = data.$dropdown.find(Classes.placeholder);\r\n            data.index            = -1;\r\n            data.closed           = true;\r\n            data.focused          = false;\r\n\r\n            buildOptions(data);\r\n\r\n            if (data.links) {\r\n                this.attr(\"aria-hidden\", \"true\");\r\n            } else {\r\n                data.$selected.add(data.$wrapper).attr(\"aria-hidden\", \"true\");\r\n            }\r\n\r\n            if (!data.multiple) {\r\n                updateOption(originalIndex, data);\r\n            }\r\n\r\n            // Scrollbar support\r\n            if ($.fn.fsScrollbar !== undefined) {\r\n                data.$wrapper.fsScrollbar({\r\n                    theme: data.theme\r\n                });\r\n            }\r\n\r\n            // Bind events\r\n            data.$selected.on(Events.click, data, onClick);\r\n\r\n            data.$dropdown.on(Events.click, Classes.item, data, onSelect)\r\n                .on(Events.close, data, onClose);\r\n\r\n            // Change events\r\n            this.on(Events.change, data, onChange);\r\n\r\n            // Focus/Blur events\r\n            if (!Formstone.isMobile) {\r\n\r\n                // Handle clicks to associated labels\r\n                this.on(Events.focusIn, data, function(e) {\r\n                    e.data.$dropdown.trigger(Events.raw.focus);\r\n                });\r\n\r\n                data.$dropdown.on(Events.focusIn, data, onFocusIn)\r\n                    .on(Events.focusOut, data, onFocusOut);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name destruct\r\n         * @description Tears down instance.\r\n         * @param data [object] \"Instance data\"\r\n         */\r\n\r\n        function destruct(data) {\r\n            if (data.$dropdown.hasClass(RawClasses.open)) {\r\n                data.$selected.trigger(Events.click);\r\n            }\r\n\r\n            // Scrollbar support\r\n            if ($.fn.fsScrollbar !== undefined) {\r\n                data.$wrapper.fsScrollbar(\"destroy\");\r\n            }\r\n\r\n            if (data.links) {\r\n                this.removeAttr(\"aria-hidden\");\r\n            }\r\n\r\n            data.$el[0].tabIndex = data.tabIndex;\r\n\r\n            if (data.$label.length) {\r\n                data.$label[0].tabIndex = data.tabIndex;\r\n            }\r\n\r\n            data.$dropdown.off(Events.namespace);\r\n            data.$options.off(Events.namespace);\r\n\r\n            data.$placeholder.remove();\r\n            data.$selected.remove();\r\n            data.$wrapper.remove();\r\n\r\n            data.$el.off(Events.namespace)\r\n                .show()\r\n                .unwrap();\r\n        }\r\n\r\n        /**\r\n         * @method\r\n         * @name disable\r\n         * @description Disables target instance or option.\r\n         * @param option [string] <null> \"Target option value\"\r\n         * @example $(\".target\").dropdown(\"disable\", \"1\");\r\n         */\r\n\r\n        function disableDropdown(data, option) {\r\n            if (typeof option !== \"undefined\") {\r\n                var index = data.$items.index( data.$items.filter(\"[data-value=\" + option + \"]\") );\r\n\r\n                data.$items.eq(index).addClass(RawClasses.item_disabled);\r\n                data.$options.eq(index).prop(\"disabled\", true);\r\n            } else {\r\n                if (data.$dropdown.hasClass(RawClasses.open)) {\r\n                    data.$selected.trigger(Events.click);\r\n                }\r\n\r\n                data.$dropdown.addClass(RawClasses.disabled);\r\n                data.$el.prop(\"disabled\", true);\r\n\r\n                data.disabled = true;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method\r\n         * @name enable\r\n         * @description Enables target instance or option.\r\n         * @param option [string] <null> \"Target option value\"\r\n         * @example $(\".target\").dropdown(\"enable\", \"1\");\r\n         */\r\n\r\n        function enableDropdown(data, option) {\r\n            if (typeof option !== \"undefined\") {\r\n                var index = data.$items.index( data.$items.filter(\"[data-value=\" + option + \"]\") );\r\n                data.$items.eq(index).removeClass(RawClasses.item_disabled);\r\n                data.$options.eq(index).prop(\"disabled\", false);\r\n            } else {\r\n                data.$dropdown.removeClass(RawClasses.disabled);\r\n                data.$el.prop(\"disabled\", false);\r\n\r\n                data.disabled = false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method\r\n         * @name update\r\n         * @description Updates instance.\r\n         * @example $(\".target\").dropdown(\"update\");\r\n         */\r\n\r\n        function updateDropdown(data) {\r\n            // Scrollbar support\r\n            if ($.fn.fsScrollbar !== undefined) {\r\n                data.$wrapper.fsScrollbar(\"destroy\");\r\n            }\r\n\r\n            var index = data.index;\r\n\r\n            data.$allOptions = data.$el.find(\"option, optgroup\");\r\n            data.$options = data.$allOptions.filter(\"option\");\r\n            data.index = -1;\r\n\r\n            index = data.$options.index(data.$options.filter(\":selected\"));\r\n\r\n            buildOptions(data);\r\n\r\n            if (!data.multiple) {\r\n                updateOption(index, data);\r\n            }\r\n\r\n            // Scrollbar support\r\n            if ($.fn.fsScrollbar !== undefined) {\r\n                data.$wrapper.fsScrollbar();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name buildOptions\r\n         * @description Builds instance's option set.\r\n         * @param data [object] \"Instance data\"\r\n         */\r\n\r\n        function buildOptions(data) {\r\n            var html = '',\r\n                j    = 0;\r\n\r\n            for (var i = 0, count = data.$allOptions.length; i < count; i++) {\r\n                var $option = data.$allOptions.eq(i),\r\n                    classes = [];\r\n\r\n                // Option group\r\n                if ($option[0].tagName === \"OPTGROUP\") {\r\n                    classes.push(RawClasses.group);\r\n\r\n                    // Disabled groups\r\n                    if ($option.is(\":disabled\")) {\r\n                        classes.push(RawClasses.disabled);\r\n                    }\r\n\r\n                    html += '<span class=\"' + classes.join(\" \") + '\">' + $option.attr(\"label\") + '</span>';\r\n                } else {\r\n                    var opVal   = $option.val(),\r\n                        opLabel = $option.data(\"label\"),\r\n                        opType  = (data.links) ? \"a\" : 'button type=\"button\"';\r\n\r\n                    if (!$option.attr(\"value\")) {\r\n                        $option.attr(\"value\", opVal);\r\n                    }\r\n\r\n                    classes.push(RawClasses.item);\r\n\r\n                    if ($option.hasClass(RawClasses.item_placeholder)) {\r\n                        classes.push(RawClasses.item_placeholder);\r\n\r\n                        opType = \"span\";\r\n                    }\r\n                    if ($option.is(\":selected\")) {\r\n                        classes.push(RawClasses.item_selected);\r\n                    }\r\n                    if ($option.is(\":disabled\")) {\r\n                        classes.push(RawClasses.item_disabled);\r\n                    }\r\n\r\n                    html += '<' + opType + ' class=\"' + classes.join(\" \") + '\"';\r\n\r\n                    if (data.links) {\r\n                        if (opType === \"span\") {\r\n                            html += ' aria-hidden=\"true\"';\r\n                        } else {\r\n                            html += ' href=\"' + opVal + '\"';\r\n\r\n                            if (data.external) {\r\n                                html += ' target=\"_blank\"';\r\n                            }\r\n                        }\r\n                    } else {\r\n                        html += ' data-value=\"' + opVal + '\"';\r\n                    }\r\n\r\n                    html += ' tabindex=\"-1\">';\r\n\r\n                    if (opLabel) {\r\n                        html += opLabel;\r\n                    } else {\r\n                        html += Functions.decodeEntities( trimText($option.text(), data.trim) );\r\n                    }\r\n\r\n                    html += '</' + opType + '>';\r\n\r\n                    j++;\r\n                }\r\n            }\r\n\r\n            data.$items = data.$wrapper.html( $.parseHTML(html) )\r\n                .find(Classes.item);\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name onClick\r\n         * @description Handles click to selected item.\r\n         * @param e [object] \"Event data\"\r\n         */\r\n\r\n        function onClick(e) {\r\n            Functions.killEvent(e);\r\n\r\n            var data = e.data;\r\n\r\n            if (!data.disabled) {\r\n                // Handle mobile, but not Firefox, unless desktop forced\r\n                if (!data.mobile && Formstone.isMobile && !Formstone.isFirefoxMobile && !Formstone.isIEMobile) {\r\n                    var el = data.$el[0];\r\n\r\n                    if (Document.createEvent) { // All\r\n                        var evt = Document.createEvent(\"MouseEvents\");\r\n                        evt.initMouseEvent(\"mousedown\", false, true, Window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\r\n                        el.dispatchEvent(evt);\r\n                    } else if (el.fireEvent) { // IE\r\n                        el.fireEvent(\"onmousedown\");\r\n                    }\r\n                } else {\r\n                    // Delegate intent\r\n                    if (data.closed) {\r\n                        openOptions(data);\r\n                    } else {\r\n                        closeOptions(data);\r\n                    }\r\n                }\r\n            }\r\n\r\n            closeOthers(data);\r\n        }\r\n\r\n        function closeOthers(data) {\r\n            $(Classes.base).not(data.$dropdown).trigger(Events.close, [ data ]);\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name openOptions\r\n         * @description Opens option set.\r\n         * @param data [object] \"Instance data\"\r\n         */\r\n\r\n        /**\r\n         * @method\r\n         * @name open\r\n         * @description Opens target instance.\r\n         * @example $(\".target\").dropdown(\"open\");\r\n         */\r\n\r\n        function openOptions(data) {\r\n            // Make sure it's not already open\r\n            if (data.closed) {\r\n                var offset = data.$dropdown.offset(),\r\n                    bodyHeight = $Body.outerHeight(),\r\n                    optionsHeight = data.$wrapper.outerHeight(true),\r\n                    selectedOffset = (data.index >= 0) ? data.$items.eq(data.index).position() : { left: 0, top: 0 };\r\n\r\n                // Calculate bottom of document\r\n                if (offset.top + optionsHeight > bodyHeight - data.bottomEdge) {\r\n                    data.$dropdown.addClass(RawClasses.bottom);\r\n                }\r\n\r\n                // Bind Events\r\n                $Body.on(Events.click + data.dotGuid, \":not(\" + Classes.options + \")\", data, closeOptionsHelper);\r\n\r\n                data.$dropdown.trigger(Events.focusIn);\r\n\r\n                data.$dropdown.addClass(RawClasses.open);\r\n                scrollOptions(data);\r\n\r\n                data.closed = false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name closeOptions\r\n         * @description Closes option set.\r\n         * @param data [object] \"Instance data\"\r\n         */\r\n\r\n        /**\r\n         * @method\r\n         * @name close\r\n         * @description Closes target instance.\r\n         * @example $(\".target\").dropdown(\"close\");\r\n         */\r\n\r\n        function closeOptions(data) {\r\n            // Make sure it's actually open\r\n            if (data && !data.closed) {\r\n                $Body.off(Events.click + data.dotGuid);\r\n\r\n                data.$dropdown.removeClass( [RawClasses.open, RawClasses.bottom].join(\" \") );\r\n\r\n                data.closed = true;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name closeOptionsHelper\r\n         * @description Determines if event target is outside instance before closing\r\n         * @param e [object] \"Event data\"\r\n         */\r\n\r\n        function closeOptionsHelper(e) {\r\n            Functions.killEvent(e);\r\n\r\n            var data = e.data;\r\n\r\n            if (data && $(e.currentTarget).parents(Classes.base).length === 0) {\r\n                closeOptions(data);\r\n\r\n                data.$dropdown.trigger(Events.focusOut);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name onClose\r\n         * @description Handles close event.\r\n         * @param e [object] \"Event data\"\r\n         */\r\n\r\n        function onClose(e) {\r\n            var data = e.data;\r\n\r\n            if (data) {\r\n                closeOptions(data);\r\n\r\n                data.$dropdown.trigger(Events.focusOut);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name onSelect\r\n         * @description Handles option select.\r\n         * @param e [object] \"Event data\"\r\n         */\r\n\r\n        function onSelect(e) {\r\n            var $target = $(this),\r\n                data = e.data;\r\n\r\n            Functions.killEvent(e);\r\n\r\n            if (!data.disabled) {\r\n                var index = data.$items.index($target);\r\n\r\n                data.focusIndex = index;\r\n\r\n                if (data.$wrapper.is(\":visible\")) {\r\n                    updateOption(index, data, e.shiftKey, e.metaKey || e.ctrlKey);\r\n                    handleChange(data);\r\n                }\r\n\r\n                if (!data.multiple) {\r\n                    closeOptions(data);\r\n                }\r\n\r\n                data.$dropdown.trigger(Events.focus);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name onChange\r\n         * @description Handles external changes.\r\n         * @param e [object] \"Event data\"\r\n         */\r\n\r\n        function onChange(e, internal) {\r\n            var $target = $(this),\r\n                data = e.data;\r\n\r\n            if (!internal && !data.multiple) {\r\n                var index = data.$options.index( data.$options.filter(\"[value='\" + escapeText($target.val()) + \"']\") );\r\n\r\n                data.focusIndex = index;\r\n\r\n                updateOption(index, data);\r\n                handleChange(data);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name onFocusIn\r\n         * @description Handles instance focusIn.\r\n         * @param e [object] \"Event data\"\r\n         */\r\n\r\n        function onFocusIn(e) {\r\n            Functions.killEvent(e);\r\n\r\n            var $target = $(e.currentTarget),\r\n                data    = e.data;\r\n\r\n            if (!data.disabled && !data.multiple && !data.focused) {\r\n                closeOthers(data);\r\n\r\n                data.focused = true;\r\n                data.focusIndex = data.index;\r\n                data.input = '';\r\n\r\n                data.$dropdown.addClass(RawClasses.focus)\r\n                    .on(Events.keyDown + data.dotGuid, data, onKeypress);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name onFocusOut\r\n         * @description Handles instance focusOut.\r\n         * @param e [object] \"Event data\"\r\n         */\r\n\r\n        function onFocusOut(e, internal) {\r\n            Functions.killEvent(e);\r\n\r\n            var $target = $(e.currentTarget),\r\n                data    = e.data;\r\n\r\n            if (data.focused && data.closed) {\r\n                data.focused = false;\r\n\r\n                data.$dropdown.removeClass(RawClasses.focus)\r\n                    .off(Events.keyDown + data.dotGuid);\r\n\r\n                if (!data.multiple) {\r\n                    // Clean up\r\n                    closeOptions(data);\r\n\r\n                    if (data.index !== data.focusIndex) {\r\n                        handleChange(data);\r\n\r\n                        data.focusIndex = data.index;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name onKeypress\r\n         * @description Handles instance keypress, once focused.\r\n         * @param e [object] \"Event data\"\r\n         */\r\n\r\n        function onKeypress(e) {\r\n            var data = e.data;\r\n\r\n            data.keyTimer = Functions.startTimer(data.keyTimer, 1000, function() {\r\n                data.input = '';\r\n            });\r\n\r\n            if (e.keyCode === 13) {\r\n                if (!data.closed) {\r\n                    closeOptions(data);\r\n                    updateOption(data.index, data);\r\n                }\r\n                handleChange(data);\r\n            } else if (e.keyCode !== 9 && (!e.metaKey && !e.altKey && !e.ctrlKey && !e.shiftKey)) {\r\n                // Ignore modifiers & tabs\r\n                Functions.killEvent(e);\r\n\r\n                var total = data.$items.length - 1,\r\n                    index = (data.index < 0) ? 0 : data.index;\r\n\r\n                // Firefox left/right support thanks to Kylemade\r\n                if ($.inArray(e.keyCode, (Formstone.isFirefox) ? [38, 40, 37, 39] : [38, 40]) > -1) {\r\n                    // Increment / decrement using the arrow keys\r\n                    index = index + ((e.keyCode === 38 || (Formstone.isFirefox && e.keyCode === 37)) ? -1 : 1);\r\n\r\n                    if (index < 0) {\r\n                        index = 0;\r\n                    }\r\n                    if (index > total) {\r\n                        index = total;\r\n                    }\r\n                } else {\r\n                    var input = String.fromCharCode(e.keyCode).toUpperCase(),\r\n                        check,\r\n                        i;\r\n\r\n                    // Store more than 1 input letter\r\n                    data.input += input;\r\n\r\n                    // Search for input from original index\r\n                    for (i = data.index + 1; i <= total; i++) {\r\n                        check = data.$options.eq(i).text().substr(0, data.input.length).toUpperCase();\r\n\r\n                        if (check === data.input) {\r\n                            index = i;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // If not, start from the beginning\r\n                    if (index < 0 || index === data.index) {\r\n                        for (i = 0; i <= total; i++) {\r\n                            check = data.$options.eq(i).text().substr(0, data.input.length).toUpperCase();\r\n\r\n                            if (check === data.input) {\r\n                                index = i;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Update\r\n                if (index >= 0) {\r\n                    updateOption(index, data);\r\n                    scrollOptions(data);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name updateOption\r\n         * @description Updates instance based on new target index.\r\n         * @param index [int] \"Selected option index\"\r\n         * @param data [object] \"instance data\"\r\n         */\r\n\r\n        function updateOption(index, data, shiftKey, metaKey) {\r\n            var $item      = data.$items.eq(index),\r\n                $option    = data.$options.eq(index),\r\n                isSelected = $item.hasClass(RawClasses.item_selected),\r\n                isDisabled = $item.hasClass(RawClasses.item_disabled);\r\n\r\n            // Check for disabled options\r\n            if (!isDisabled) {\r\n                if (data.multiple) {\r\n                    if (Formstone.isMobile) {\r\n                        if (!isDisabled) {\r\n                            if (isSelected) {\r\n                                $option.prop(\"selected\", null);\r\n                                $item.removeClass(RawClasses.item_selected);\r\n                            } else {\r\n                                $option.prop(\"selected\", true);\r\n                                $item.addClass(RawClasses.item_selected);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (shiftKey && data.lastIndex !== false) {\r\n                            var start = (data.lastIndex > index)  ? index : data.lastIndex,\r\n                                end   = ((data.lastIndex > index) ? data.lastIndex : index) + 1;\r\n\r\n                            data.$options.prop(\"selected\", null);\r\n                            data.$items.filter(Classes.item_selected)\r\n                                .removeClass(RawClasses.item_selected);\r\n\r\n                            data.$options.slice(start, end).not(\"[disabled]\").prop(\"selected\", true);\r\n                            data.$items.slice(start, end).not(Classes.item_disabled).addClass(RawClasses.item_selected);\r\n                        } else if (metaKey) {\r\n                            if (isSelected) {\r\n                                $option.prop(\"selected\", null);\r\n                                $item.removeClass(RawClasses.item_selected);\r\n                            } else {\r\n                                $option.prop(\"selected\", true);\r\n                                $item.addClass(RawClasses.item_selected);\r\n                            }\r\n\r\n                            data.lastIndex = index;\r\n                        } else {\r\n                            data.$options.prop(\"selected\", null);\r\n                            data.$items.filter(Classes.item_selected)\r\n                                .removeClass(RawClasses.item_selected);\r\n\r\n                            $option.prop(\"selected\", true);\r\n                            $item.addClass(RawClasses.item_selected);\r\n\r\n                            data.lastIndex = index;\r\n                        }\r\n                    }\r\n                } else if (index > -1 && index < data.$items.length) {\r\n                    if (index !== data.index) {\r\n                        var label = $option.data(\"label\") || $item.html();\r\n\r\n                        data.$selected.html(label)\r\n                            .removeClass(Classes.item_placeholder);\r\n\r\n                        data.$items.filter(Classes.item_selected)\r\n                            .removeClass(RawClasses.item_selected);\r\n\r\n                        data.$el[0].selectedIndex = index;\r\n\r\n                        $item.addClass(RawClasses.item_selected);\r\n                        data.index = index;\r\n                    }\r\n                } else if (data.label !== \"\") {\r\n                    data.$selected.html(data.label);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name scrollOptions\r\n         * @description Scrolls options wrapper to specific option.\r\n         * @param data [object] \"Instance data\"\r\n         */\r\n\r\n        function scrollOptions(data) {\r\n            var $selected      = data.$items.eq(data.index),\r\n                selectedOffset = (data.index >= 0 && !$selected.hasClass(RawClasses.item_placeholder)) ? $selected.position() : { left: 0, top: 0 },\r\n                buffer         = (data.$wrapper.outerHeight() - $selected.outerHeight()) / 2;\r\n\r\n            if ($.fn.fsScrollbar !== undefined) {\r\n                data.$wrapper.fsScrollbar(\"resize\")\r\n                    .fsScrollbar(\"scroll\", (data.$wrapper.find(\".fs-scrollbar-content\").scrollTop() + selectedOffset.top) );\r\n            } else {\r\n                data.$wrapper.scrollTop( data.$wrapper.scrollTop() + selectedOffset.top - buffer );\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name handleChange\r\n         * @description Handles change events.\r\n         * @param data [object] \"Instance data\"\r\n         */\r\n\r\n        function handleChange(data) {\r\n            if (data.links) {\r\n                launchLink(data);\r\n            } else {\r\n                data.$el.trigger(Events.raw.change, [ true ]);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name launchLink\r\n         * @description Launches link.\r\n         * @param data [object] \"Instance data\"\r\n         */\r\n\r\n        function launchLink(data) {\r\n            var url = data.$el.val();\r\n\r\n            if (data.external) {\r\n                // Open link in a new tab/window\r\n                Window.open(url);\r\n            } else {\r\n                // Open link in same tab/window\r\n                Window.location.href = url;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name trimText\r\n         * @description Trims text, if specified length is greater then 0.\r\n         * @param length [int] \"Length to trim at\"\r\n         * @param text [string] \"Text to trim\"\r\n         * @return [string] \"Trimmed string\"\r\n         */\r\n\r\n        function trimText(text, length) {\r\n            if (length === 0) {\r\n                return text;\r\n            } else {\r\n                if (text.length > length) {\r\n                    return text.substring(0, length) + \"...\";\r\n                } else {\r\n                    return text;\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @method private\r\n         * @name escapeText\r\n         * @description Escapes text.\r\n         * @param text [string] \"Text to escape\"\r\n         */\r\n\r\n        function escapeText(text) {\r\n            return (typeof text === \"string\") ? text.replace(/([;&,\\.\\+\\*\\~':\"\\!\\^#$%@\\[\\]\\(\\)=>\\|])/g, '\\\\$1') : text;\r\n        }\r\n\r\n        /**\r\n         * @plugin\r\n         * @name Dropdown\r\n         * @description A jQuery plugin for custom select elements.\r\n         * @type widget\r\n         * @main dropdown.js\r\n         * @main dropdown.css\r\n         * @dependency jQuery\r\n         * @dependency core.js\r\n         * @dependency scrollbar.js (optional)\r\n         * @dependency touch.js (for scrollbar, optional)\r\n         */\r\n\r\n        var Plugin = Formstone.Plugin(\"fsdropdown\", {\r\n                widget: true,\r\n\r\n                /**\r\n                 * @options\r\n                 * @param bottomEdge [int] <0> \"Threshold for bottom position”\r\n                 * @param cover [boolean] <false> \"Cover handle with option set\"\r\n                 * @param customClass [string] <''> \"Class applied to instance\"\r\n                 * @param label [string] <''> \"Label displayed before selection\"\r\n                 * @param external [boolean] <false> \"Open options as links in new window\"\r\n                 * @param links [boolean] <false> \"Open options as links in same window\"\r\n                 * @param mobile [boolean] <false> \"Force desktop interaction on mobile\"\r\n                 * @param theme [string] <\"fs-light\"> \"Theme class name\"\r\n                 * @param trim [int] <0> \"Trim options to specified length; 0 to disable”\r\n                 */\r\n                defaults: {\r\n                    bottomEdge     : 0,\r\n                    cover          : false,\r\n                    customClass    : \"\",\r\n                    label          : \"\",\r\n                    external       : false,\r\n                    links          : false,\r\n                    mobile         : false,\r\n                    theme          : \"fs-light\",\r\n                    trim           : 0\r\n                },\r\n\r\n                methods: {\r\n                    _setup        : setup,\r\n                    _construct    : construct,\r\n                    _destruct     : destruct,\r\n\r\n                    disable       : disableDropdown,\r\n                    enable        : enableDropdown,\r\n                    update        : updateDropdown,\r\n                    open          : openOptions,\r\n                    close         : closeOptions\r\n                },\r\n\r\n                classes: [\r\n                    \"cover\",\r\n                    \"bottom\",\r\n                    \"multiple\",\r\n                    \"mobile\",\r\n\r\n                    \"open\",\r\n                    \"disabled\",\r\n                    \"focus\",\r\n\r\n                    \"selected\",\r\n                    \"options\",\r\n                    \"group\",\r\n                    \"item\",\r\n\r\n                    \"item_disabled\",\r\n                    \"item_selected\",\r\n                    \"item_placeholder\"\r\n                ],\r\n\r\n                events: {\r\n                    close: \"close\"\r\n                }\r\n            }),\r\n\r\n        // Localize References\r\n\r\n            Classes       = Plugin.classes,\r\n            RawClasses    = Classes.raw,\r\n            Events        = Plugin.events,\r\n            Functions     = Plugin.functions,\r\n\r\n        // Local\r\n\r\n            Window        = Formstone.window,\r\n            $Window       = Formstone.$window,\r\n            Document      = Formstone.document,\r\n            $Body         = null;\r\n\r\n    })\r\n\r\n);","/*! formstone v1.0.1 [lightbox.js] 2016-03-25 | MIT License | formstone.it */\n\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\",\"./core\",\"./touch\",\"./transition\"],a):a(jQuery,Formstone)}(function(a,b){\"use strict\";function c(){Y=b.$body,Z=a(\"html, body\"),$=b.window.location.hash.replace(\"#\",\"\")}function d(){aa&&i()}function e(a){this.on(U.click,a,h);var b=this.data(Q+\"-gallery\");!_&&$&&b===$&&(_=!0,this.trigger(U.click))}function f(){j(),this.off(U.namespace)}function g(b,c){b instanceof a&&h.apply(W,[{data:a.extend(!0,{},{$object:b},R,c||{})}])}function h(c){if(!aa){var d=c.data;aa=a.extend({},{visible:!1,gallery:{active:!1},isMobile:b.isMobile||d.mobile,isTouch:b.support.touch,isAnimating:!0,oldContentHeight:0,oldContentWidth:0},d);var e=d.$el,f=d.$object,g=e&&e[0].href?e[0].href||\"\":\"\",h=e&&e[0].hash?e[0].hash||\"\":\"\",i=(g.toLowerCase().split(\".\").pop().split(/\\#|\\?/),e?e.data(Q+\"-type\"):\"\"),k=\"image\"===i||g.match(d.fileTypes)||\"data:image\"===g.substr(0,10),l=O(g),n=\"url\"===i||!k&&!l&&\"http\"===g.substr(0,4)&&!h,p=\"element\"===i||!k&&!l&&!n&&\"#\"===h.substr(0,1),q=\"undefined\"!=typeof f;if(p&&(g=h),!(k||l||n||p||q))return void(aa=null);if(V.killEvent(c),aa.touch=d.touch&&aa.isMobile&&aa.isTouch,aa.margin*=2,aa.type=k?\"image\":l?\"video\":\"element\",k||l){var s=e.data(Q+\"-gallery\");s&&(aa.gallery.active=!0,aa.gallery.id=s,aa.gallery.$items=a(\"a[data-lightbox-gallery= \"+aa.gallery.id+\"], a[rel= \"+aa.gallery.id+\"]\"),aa.gallery.index=aa.gallery.$items.index(aa.$el),aa.gallery.total=aa.gallery.$items.length-1)}var t=\"\";aa.isMobile||(t+='<div class=\"'+[S.raw.overlay,aa.theme,aa.customClass].join(\" \")+'\"></div>');var u=[S.raw.base,S.raw.loading,S.raw.animating,aa.theme,aa.customClass];aa.fixed&&u.push(S.raw.fixed),aa.isMobile&&u.push(S.raw.mobile),aa.isTouch&&u.push(S.raw.touch),n&&u.push(S.raw.iframed),(p||q)&&u.push(S.raw.inline),t+='<div class=\"'+u.join(\" \")+'\">',t+='<button type=\"button\" class=\"'+S.raw.close+'\">'+aa.labels.close+\"</button>\",t+='<span class=\"'+S.raw.loading_icon+'\"></span>',t+='<div class=\"'+S.raw.container+'\">',t+='<div class=\"'+S.raw.content+'\">',(k||l)&&(t+='<div class=\"'+S.raw.tools+'\">',t+='<div class=\"'+S.raw.controls+'\">',aa.gallery.active&&(t+='<button type=\"button\" class=\"'+[S.raw.control,S.raw.control_previous].join(\" \")+'\">'+aa.labels.previous+\"</button>\",t+='<button type=\"button\" class=\"'+[S.raw.control,S.raw.control_next].join(\" \")+'\">'+aa.labels.next+\"</button>\"),aa.isMobile&&aa.isTouch&&(t+='<button type=\"button\" class=\"'+[S.raw.caption_toggle].join(\" \")+'\">'+aa.labels.captionClosed+\"</button>\"),t+=\"</div>\",t+='<div class=\"'+S.raw.meta+'\">',aa.gallery.active&&(t+='<p class=\"'+S.raw.position+'\"',aa.gallery.total<1&&(t+=' style=\"display: none;\"'),t+=\">\",t+='<span class=\"'+S.raw.position_current+'\">'+(aa.gallery.index+1)+\"</span> \",t+=aa.labels.count,t+=' <span class=\"'+S.raw.position_total+'\">'+(aa.gallery.total+1)+\"</span>\",t+=\"</p>\"),t+='<div class=\"'+S.raw.caption+'\">',t+=aa.formatter.call(e,d),t+=\"</div></div>\",t+=\"</div>\"),t+=\"</div></div></div>\",Y.append(t),aa.$overlay=a(S.overlay),aa.$lightbox=a(S.base),aa.$close=a(S.close),aa.$container=a(S.container),aa.$content=a(S.content),aa.$tools=a(S.tools),aa.$meta=a(S.meta),aa.$position=a(S.position),aa.$caption=a(S.caption),aa.$controlBox=a(S.controls),aa.$controls=a(S.control),aa.isMobile?(aa.paddingVertical=aa.$close.outerHeight(),aa.paddingHorizontal=0,aa.mobilePaddingVertical=parseInt(aa.$content.css(\"paddingTop\"),10)+parseInt(aa.$content.css(\"paddingBottom\"),10),aa.mobilePaddingHorizontal=parseInt(aa.$content.css(\"paddingLeft\"),10)+parseInt(aa.$content.css(\"paddingRight\"),10)):(aa.paddingVertical=parseInt(aa.$lightbox.css(\"paddingTop\"),10)+parseInt(aa.$lightbox.css(\"paddingBottom\"),10),aa.paddingHorizontal=parseInt(aa.$lightbox.css(\"paddingLeft\"),10)+parseInt(aa.$lightbox.css(\"paddingRight\"),10),aa.mobilePaddingVertical=0,aa.mobilePaddingHorizontal=0),aa.contentHeight=aa.$lightbox.outerHeight()-aa.paddingVertical,aa.contentWidth=aa.$lightbox.outerWidth()-aa.paddingHorizontal,aa.controlHeight=aa.$controls.outerHeight(),m(),aa.gallery.active&&(aa.$lightbox.addClass(T.has_controls),F()),X.on(U.keyDown,G),Y.on(U.click,[S.overlay,S.close].join(\", \"),j),aa.gallery.active&&aa.$lightbox.on(U.click,S.control,E),aa.isMobile&&aa.isTouch&&aa.$lightbox.on(U.click,S.caption_toggle,o),aa.$lightbox.fsTransition({property:\"opacity\"},function(){k?r(g):l?B(g):n?J(g):p?H(g):q&&K(aa.$object)}).addClass(S.raw.open),aa.$overlay.addClass(S.raw.open)}}function i(a){\"object\"!=typeof a&&(aa.targetHeight=arguments[0],aa.targetWidth=arguments[1]),\"element\"===aa.type?L(aa.$content.find(\"> :first-child\")):\"image\"===aa.type?x():\"video\"===aa.type&&C(),l()}function j(a){V.killEvent(a),aa&&(aa.$lightbox.fsTransition(\"destroy\"),aa.$container.fsTransition(\"destroy\"),s(),aa.$lightbox.addClass(S.raw.animating).fsTransition({property:\"opacity\"},function(){\"undefined\"!=typeof aa.$inlineTarget&&aa.$inlineTarget.length&&I(),aa.$lightbox.off(U.namespace),aa.$container.off(U.namespace),X.off(U.keyDown),Y.off(U.namespace),aa.$overlay.remove(),aa.$lightbox.remove(),aa=null,X.trigger(U.close)}),aa.$lightbox.removeClass(S.raw.open),aa.$overlay.removeClass(S.raw.open),aa.isMobile&&Z.removeClass(T.lock))}function k(){{var a=n();aa.isMobile?0:aa.duration}aa.isMobile||aa.$controls.css({marginTop:(aa.contentHeight-aa.controlHeight-aa.metaHeight)/2}),aa.$lightbox.fsTransition({property:aa.contentHeight!==aa.oldContentHeight?\"height\":\"width\"},function(){aa.$container.fsTransition({property:\"opacity\"},function(){aa.$lightbox.removeClass(S.raw.animating),aa.isAnimating=!1}),aa.$lightbox.removeClass(S.raw.loading),aa.visible=!0,X.trigger(U.open),aa.gallery.active&&D()}),aa.isMobile||aa.$lightbox.css({height:aa.contentHeight+aa.paddingVertical,width:aa.contentWidth+aa.paddingHorizontal,top:aa.fixed?0:a.top});var b=aa.oldContentHeight!==aa.contentHeight||aa.oldContentWidth!==aa.contentWidth;(aa.isMobile||!b)&&aa.$lightbox.fsTransition(\"resolve\"),aa.oldContentHeight=aa.contentHeight,aa.oldContentWidth=aa.contentWidth,aa.isMobile&&Z.addClass(T.lock)}function l(){if(aa.visible&&!aa.isMobile){var a=n();aa.$controls.css({marginTop:(aa.contentHeight-aa.controlHeight-aa.metaHeight)/2}),aa.$lightbox.css({height:aa.contentHeight+aa.paddingVertical,width:aa.contentWidth+aa.paddingHorizontal,top:aa.fixed?0:a.top})}}function m(){var a=n();aa.$lightbox.css({top:aa.fixed?0:a.top})}function n(){if(aa.isMobile)return{left:0,top:0};var a={left:(b.windowWidth-aa.contentWidth-aa.paddingHorizontal)/2,top:aa.top<=0?(b.windowHeight-aa.contentHeight-aa.paddingVertical)/2:aa.top};return aa.fixed!==!0&&(a.top+=X.scrollTop()),a}function o(a){V.killEvent(a),aa.captionOpen?p():(aa.$lightbox.addClass(S.raw.caption_open).find(S.caption_toggle).text(aa.labels.captionOpen),aa.captionOpen=!0)}function p(){aa.$lightbox.removeClass(S.raw.caption_open).find(S.caption_toggle).text(aa.labels.captionClosed),aa.captionOpen=!1}function q(){var a=this.attr(\"title\"),b=void 0!==a&&a?a.replace(/^\\s+|\\s+$/g,\"\"):!1;return b?'<p class=\"caption\">'+b+\"</p>\":\"\"}function r(b){aa.hasScaled=!1,aa.$imageContainer=a('<div class=\"'+S.raw.image_container+'\"><img></div>'),aa.$image=aa.$imageContainer.find(\"img\"),aa.$image.one(U.load,function(){var a=N(aa.$image);aa.naturalHeight=a.naturalHeight,aa.naturalWidth=a.naturalWidth,aa.retina&&(aa.naturalHeight/=2,aa.naturalWidth/=2),aa.$content.prepend(aa.$imageContainer),\"\"===aa.$caption.html()?(aa.$caption.hide(),aa.$lightbox.removeClass(T.has_caption)):(aa.$caption.show(),aa.$lightbox.addClass(T.has_caption)),x(),k(),aa.touch&&(t(),v({scale:1,deltaX:0,deltaY:0}),w(),aa.$container.fsTouch({pan:!0,scale:!0}).on(U.scaleStart,u).on(U.scaleEnd,w).on(U.scale,v))}).error(M).attr(\"src\",b).addClass(S.raw.image),(aa.$image[0].complete||4===aa.$image[0].readyState)&&aa.$image.trigger(U.load)}function s(){aa.$image&&aa.$image.length&&aa.$container.fsTouch(\"destroy\")}function t(){aa.scalePosition=aa.$imageContainer.position(),aa.scaleY=aa.scalePosition.top,aa.scaleX=aa.scalePosition.left,aa.scaleHeight=aa.$image.outerHeight(),aa.scaleWidth=aa.$image.outerWidth()}function u(){t(),aa.$lightbox.removeClass(S.raw.animating)}function v(a){aa.targetContainerY=aa.scaleY+a.deltaY,aa.targetContainerX=aa.scaleX+a.deltaX,aa.targetImageHeight=aa.scaleHeight*a.scale,aa.targetImageWidth=aa.scaleWidth*a.scale,aa.targetImageHeight<aa.scaleMinHeight&&(aa.targetImageHeight=aa.scaleMinHeight),aa.targetImageHeight>aa.scaleMaxHeight&&(aa.targetImageHeight=aa.scaleMaxHeight),aa.targetImageWidth<aa.scaleMinWidth&&(aa.targetImageWidth=aa.scaleMinWidth),aa.targetImageWidth>aa.scaleMaxWidth&&(aa.targetImageWidth=aa.scaleMaxWidth),aa.hasScaled=!0,aa.isScaling=!0,aa.$imageContainer.css({top:aa.targetContainerY,left:aa.targetContainerX}),aa.$image.css({height:aa.targetImageHeight,width:aa.targetImageWidth,top:-(aa.targetImageHeight/2),left:-(aa.targetImageWidth/2)})}function w(){t(),aa.isScaling=!1;var a=aa.$container.outerHeight()-aa.metaHeight,b=aa.$container.outerWidth();aa.scaleMinY=a-aa.scaleHeight/2,aa.scaleMinX=b-aa.scaleWidth/2,aa.scaleMaxY=aa.scaleHeight/2,aa.scaleMaxX=aa.scaleWidth/2,aa.scaleHeight<a?aa.scalePosition.top=a/2:(aa.scalePosition.top<aa.scaleMinY&&(aa.scalePosition.top=aa.scaleMinY),aa.scalePosition.top>aa.scaleMaxY&&(aa.scalePosition.top=aa.scaleMaxY)),aa.scaleWidth<b?aa.scalePosition.left=b/2:(aa.scalePosition.left<aa.scaleMinX&&(aa.scalePosition.left=aa.scaleMinX),aa.scalePosition.left>aa.scaleMaxX&&(aa.scalePosition.left=aa.scaleMaxX)),aa.$lightbox.addClass(S.raw.animating),aa.$imageContainer.css({left:aa.scalePosition.left,top:aa.scalePosition.top})}function x(){if(aa.$image){var a=0;for(aa.windowHeight=aa.viewportHeight=b.windowHeight-aa.mobilePaddingVertical-aa.paddingVertical,aa.windowWidth=aa.viewportWidth=b.windowWidth-aa.mobilePaddingHorizontal-aa.paddingHorizontal,aa.contentHeight=1/0,aa.contentWidth=1/0,aa.imageMarginTop=0,aa.imageMarginLeft=0;aa.contentHeight>aa.viewportHeight&&2>a;)aa.imageHeight=0===a?aa.naturalHeight:aa.$image.outerHeight(),aa.imageWidth=0===a?aa.naturalWidth:aa.$image.outerWidth(),aa.metaHeight=0===a?0:aa.metaHeight,aa.spacerHeight=0===a?0:aa.spacerHeight,0===a&&(aa.ratioHorizontal=aa.imageHeight/aa.imageWidth,aa.ratioVertical=aa.imageWidth/aa.imageHeight,aa.isWide=aa.imageWidth>aa.imageHeight),aa.imageHeight<aa.minHeight&&(aa.minHeight=aa.imageHeight),aa.imageWidth<aa.minWidth&&(aa.minWidth=aa.imageWidth),aa.isMobile?(aa.isTouch?(aa.$controlBox.css({width:b.windowWidth}),aa.spacerHeight=aa.$controls.outerHeight(!0)):(aa.$tools.css({width:b.windowWidth}),aa.spacerHeight=aa.$tools.outerHeight(!0)),aa.contentHeight=aa.viewportHeight,aa.contentWidth=aa.viewportWidth,y(),aa.imageMarginTop=(aa.contentHeight-aa.targetImageHeight-aa.spacerHeight)/2,aa.imageMarginLeft=(aa.contentWidth-aa.targetImageWidth)/2):(0===a&&(aa.viewportHeight-=aa.margin+aa.paddingVertical,aa.viewportWidth-=aa.margin+aa.paddingHorizontal),aa.viewportHeight-=aa.metaHeight,y(),aa.contentHeight=aa.targetImageHeight,aa.contentWidth=aa.targetImageWidth),aa.isMobile||aa.isTouch||aa.$meta.css({width:aa.contentWidth}),aa.hasScaled||(aa.$image.css({height:aa.targetImageHeight,width:aa.targetImageWidth}),aa.$image.css(aa.touch?{top:-(aa.targetImageHeight/2),left:-(aa.targetImageWidth/2)}:{marginTop:aa.imageMarginTop,marginLeft:aa.imageMarginLeft})),aa.isMobile||(aa.metaHeight=aa.$meta.outerHeight(!0),aa.contentHeight+=aa.metaHeight),a++;aa.touch&&(aa.scaleMinHeight=aa.targetImageHeight,aa.scaleMinWidth=aa.targetImageWidth,aa.scaleMaxHeight=aa.naturalHeight,aa.scaleMaxWidth=aa.naturalWidth)}}function y(){var a=aa.isMobile?aa.contentHeight-aa.spacerHeight:aa.viewportHeight,b=aa.isMobile?aa.contentWidth:aa.viewportWidth;aa.isWide?(aa.targetImageWidth=b,aa.targetImageHeight=aa.targetImageWidth*aa.ratioHorizontal,aa.targetImageHeight>a&&(aa.targetImageHeight=a,aa.targetImageWidth=aa.targetImageHeight*aa.ratioVertical)):(aa.targetImageHeight=a,aa.targetImageWidth=aa.targetImageHeight*aa.ratioVertical,aa.targetImageWidth>b&&(aa.targetImageWidth=b,aa.targetImageHeight=aa.targetImageWidth*aa.ratioHorizontal)),(aa.targetImageWidth>aa.imageWidth||aa.targetImageHeight>aa.imageHeight)&&(aa.targetImageHeight=aa.imageHeight,aa.targetImageWidth=aa.imageWidth),(aa.targetImageWidth<aa.minWidth||aa.targetImageHeight<aa.minHeight)&&(aa.targetImageWidth<aa.minWidth?(aa.targetImageWidth=aa.minWidth,aa.targetImageHeight=aa.targetImageWidth*aa.ratioHorizontal):(aa.targetImageHeight=aa.minHeight,aa.targetImageWidth=aa.targetImageHeight*aa.ratioVertical))}function z(a){return\"//www.youtube.com/embed/\"+a[1]}function A(a){return\"//player.vimeo.com/video/\"+a[3]}function B(b){var c=O(b),d=b.split(\"?\");c?(d.length>=2&&(c+=\"?\"+d.slice(1)[0].trim()),aa.$videoWrapper=a('<div class=\"'+S.raw.video_wrapper+'\"></div>'),aa.$video=a('<iframe class=\"'+S.raw.video+'\" frameborder=\"0\" seamless=\"seamless\" allowfullscreen></iframe>'),aa.$video.attr(\"src\",c).addClass(S.raw.video).prependTo(aa.$videoWrapper),aa.$content.prepend(aa.$videoWrapper),C(),k()):M()}function C(){aa.windowHeight=aa.viewportHeight=b.windowHeight-aa.mobilePaddingVertical-aa.paddingVertical,aa.windowWidth=aa.viewportWidth=b.windowWidth-aa.mobilePaddingHorizontal-aa.paddingHorizontal,aa.videoMarginTop=0,aa.videoMarginLeft=0,aa.isMobile?(aa.isTouch?(aa.$controlBox.css({width:b.windowWidth}),aa.spacerHeight=aa.$controls.outerHeight(!0)):(aa.$tools.css({width:b.windowWidth}),aa.spacerHeight=aa.$tools.outerHeight(!0)),aa.viewportHeight-=aa.spacerHeight,aa.targetVideoWidth=aa.viewportWidth,aa.targetVideoHeight=aa.targetVideoWidth*aa.videoRatio,aa.targetVideoHeight>aa.viewportHeight&&(aa.targetVideoHeight=aa.viewportHeight,aa.targetVideoWidth=aa.targetVideoHeight/aa.videoRatio),aa.videoMarginTop=(aa.viewportHeight-aa.targetVideoHeight)/2,aa.videoMarginLeft=(aa.viewportWidth-aa.targetVideoWidth)/2):(aa.viewportHeight=aa.windowHeight-aa.margin,aa.viewportWidth=aa.windowWidth-aa.margin,aa.targetVideoWidth=aa.videoWidth>aa.viewportWidth?aa.viewportWidth:aa.videoWidth,aa.targetVideoWidth<aa.minWidth&&(aa.targetVideoWidth=aa.minWidth),aa.targetVideoHeight=aa.targetVideoWidth*aa.videoRatio,aa.contentHeight=aa.targetVideoHeight,aa.contentWidth=aa.targetVideoWidth),aa.isMobile||aa.isTouch||aa.$meta.css({width:aa.contentWidth}),aa.$videoWrapper.css({height:aa.targetVideoHeight,width:aa.targetVideoWidth,marginTop:aa.videoMarginTop,marginLeft:aa.videoMarginLeft}),aa.isMobile||(aa.metaHeight=aa.$meta.outerHeight(!0),aa.contentHeight=aa.targetVideoHeight+aa.metaHeight)}function D(){var b=\"\";aa.gallery.index>0&&(b=aa.gallery.$items.eq(aa.gallery.index-1).attr(\"href\"),O(b)||a('<img src=\"'+b+'\">')),aa.gallery.index<aa.gallery.total&&(b=aa.gallery.$items.eq(aa.gallery.index+1).attr(\"href\"),O(b)||a('<img src=\"'+b+'\">'))}function E(b){V.killEvent(b);var c=a(b.currentTarget);aa.isAnimating||c.hasClass(S.raw.control_disabled)||(aa.isAnimating=!0,s(),p(),aa.gallery.index+=c.hasClass(S.raw.control_next)?1:-1,aa.gallery.index>aa.gallery.total&&(aa.gallery.index=aa.infinite?0:aa.gallery.total),aa.gallery.index<0&&(aa.gallery.index=aa.infinite?aa.gallery.total:0),aa.$lightbox.addClass(S.raw.animating),aa.$container.fsTransition({property:\"opacity\"},function(){\"undefined\"!=typeof aa.$imageContainer&&aa.$imageContainer.remove(),\"undefined\"!=typeof aa.$videoWrapper&&aa.$videoWrapper.remove(),aa.$el=aa.gallery.$items.eq(aa.gallery.index),aa.$caption.html(aa.formatter.call(aa.$el,aa)),aa.$position.find(S.position_current).html(aa.gallery.index+1);var a=aa.$el.attr(\"href\"),b=O(a);b?(aa.type=\"video\",B(a)):(aa.type=\"image\",r(a)),F()}),aa.$lightbox.addClass(S.raw.loading))}function F(){aa.$controls.removeClass(S.raw.control_disabled),aa.infinite||(0===aa.gallery.index&&aa.$controls.filter(S.control_previous).addClass(T.control_disabled),aa.gallery.index===aa.gallery.total&&aa.$controls.filter(S.control_next).addClass(T.control_disabled))}function G(a){!aa.gallery.active||37!==a.keyCode&&39!==a.keyCode?27===a.keyCode&&aa.$close.trigger(U.click):(V.killEvent(a),aa.$controls.filter(37===a.keyCode?S.control_previous:S.control_next).trigger(U.click))}function H(b){aa.$inlineTarget=a(b),aa.$inlineContents=aa.$inlineTarget.children().detach(),K(aa.$inlineContents)}function I(){aa.$inlineTarget.append(aa.$inlineContents.detach())}function J(b){b+=b.indexOf(\"?\")>-1?\"&\"+aa.requestKey+\"=true\":\"?\"+aa.requestKey+\"=true\";var c=a('<iframe class=\"'+S.raw.iframe+'\" src=\"'+b+'\"></iframe>');K(c)}function K(a){aa.$content.append(a),L(a),k()}function L(a){aa.windowHeight=b.windowHeight-aa.mobilePaddingVertical-aa.paddingVertical,aa.windowWidth=b.windowWidth-aa.mobilePaddingHorizontal-aa.paddingHorizontal,aa.objectHeight=a.outerHeight(!0),aa.objectWidth=a.outerWidth(!0),aa.targetHeight=aa.targetHeight||(aa.$el?aa.$el.data(Q+\"-height\"):null),aa.targetWidth=aa.targetWidth||(aa.$el?aa.$el.data(Q+\"-width\"):null),aa.maxHeight=aa.windowHeight<0?aa.minHeight:aa.windowHeight,aa.isIframe=a.is(\"iframe\"),aa.objectMarginTop=0,aa.objectMarginLeft=0,aa.isMobile||(aa.windowHeight-=aa.margin,aa.windowWidth-=aa.margin),aa.contentHeight=aa.targetHeight?aa.targetHeight:aa.isIframe||aa.isMobile?aa.windowHeight:aa.objectHeight,aa.contentWidth=aa.targetWidth?aa.targetWidth:aa.isIframe||aa.isMobile?aa.windowWidth:aa.objectWidth,(aa.isIframe||aa.isObject)&&aa.isMobile?(aa.contentHeight=aa.windowHeight,aa.contentWidth=aa.windowWidth):aa.isObject&&(aa.contentHeight=aa.contentHeight>aa.windowHeight?aa.windowHeight:aa.contentHeight,aa.contentWidth=aa.contentWidth>aa.windowWidth?aa.windowWidth:aa.contentWidth)}function M(){var b=a('<div class=\"'+S.raw.error+'\"><p>Error Loading Resource</p></div>');aa.type=\"element\",aa.$tools.remove(),aa.$image.off(U.namespace),K(b)}function N(a){var b=a[0],c=new Image;return\"undefined\"!=typeof b.naturalHeight?{naturalHeight:b.naturalHeight,naturalWidth:b.naturalWidth}:\"img\"===b.tagName.toLowerCase()?(c.src=b.src,{naturalHeight:c.height,naturalWidth:c.width}):!1}function O(a){var b,c=aa.videoFormatter;for(var d in c)if(c.hasOwnProperty(d)&&(b=a.match(c[d].pattern),null!==b))return c[d].format.call(aa,b);return!1}var P=b.Plugin(\"lightbox\",{widget:!0,defaults:{customClass:\"\",fileTypes:/\\.(jpg|sjpg|jpeg|png|gif)$/i,fixed:!1,formatter:q,infinite:!1,labels:{close:\"Close\",count:\"of\",next:\"Next\",previous:\"Previous\",captionClosed:\"View Caption\",captionOpen:\"Close Caption\"},margin:50,minHeight:100,minWidth:100,mobile:!1,retina:!1,requestKey:\"fs-lightbox\",theme:\"fs-light\",top:0,touch:!0,videoFormatter:{youtube:{pattern:/(?:youtube\\.com\\/(?:[^\\/]+\\/.+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([^\"&?\\/ ]{11})/,format:z},vimeo:{pattern:/(?:www\\.|player\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|video\\/|)(\\d+)(?:$|\\/|\\?)/,format:A}},videoRatio:.5625,videoWidth:800},classes:[\"loading\",\"animating\",\"fixed\",\"mobile\",\"touch\",\"inline\",\"iframed\",\"open\",\"overlay\",\"close\",\"loading_icon\",\"container\",\"content\",\"image\",\"image_container\",\"video\",\"video_wrapper\",\"tools\",\"meta\",\"controls\",\"control\",\"control_previous\",\"control_next\",\"control_disabled\",\"position\",\"position_current\",\"position_total\",\"caption_toggle\",\"caption\",\"caption_open\",\"has_controls\",\"has_caption\",\"iframe\",\"error\",\"lock\"],events:{open:\"open\",close:\"close\"},methods:{_setup:c,_construct:e,_destruct:f,_resize:d,resize:i},utilities:{_initialize:g,close:j}}),Q=P.namespace,R=P.defaults,S=P.classes,T=S.raw,U=P.events,V=P.functions,W=b.window,X=b.$window,Y=null,Z=null,$=!1,_=!1,aa=null});","/*!\r\n * Bootstrap Colorpicker\r\n * http://mjolnic.github.io/bootstrap-colorpicker/\r\n *\r\n * Originally written by (c) 2012 Stefan Petre\r\n * Licensed under the Apache License v2.0\r\n * http://www.apache.org/licenses/LICENSE-2.0.txt\r\n *\r\n * @todo Update DOCS\r\n */\r\n\r\n(function(factory) {\r\n    \"use strict\";\r\n    if (typeof exports === 'object') {\r\n        module.exports = factory(window.jQuery);\r\n    } else if (typeof define === 'function' && define.amd) {\r\n        define(['jquery'], factory);\r\n    } else if (window.jQuery && !window.jQuery.fn.colorpicker) {\r\n        factory(window.jQuery);\r\n    }\r\n}\r\n(function($) {\r\n    'use strict';\r\n\r\n    // Color object\r\n    var Color = function(val, customColors) {\r\n        this.value = {\r\n            h: 0,\r\n            s: 0,\r\n            b: 0,\r\n            a: 1\r\n        };\r\n        this.origFormat = null; // original string format\r\n        if (customColors) {\r\n            $.extend(this.colors, customColors);\r\n        }\r\n        if (val) {\r\n            if (val.toLowerCase !== undefined) {\r\n                // cast to string\r\n                val = val + '';\r\n                this.setColor(val);\r\n            } else if (val.h !== undefined) {\r\n                this.value = val;\r\n            }\r\n        }\r\n    };\r\n\r\n    Color.prototype = {\r\n        constructor: Color,\r\n        // 140 predefined colors from the HTML Colors spec\r\n        colors: {\r\n            \"aliceblue\": \"#f0f8ff\",\r\n            \"antiquewhite\": \"#faebd7\",\r\n            \"aqua\": \"#00ffff\",\r\n            \"aquamarine\": \"#7fffd4\",\r\n            \"azure\": \"#f0ffff\",\r\n            \"beige\": \"#f5f5dc\",\r\n            \"bisque\": \"#ffe4c4\",\r\n            \"black\": \"#000000\",\r\n            \"blanchedalmond\": \"#ffebcd\",\r\n            \"blue\": \"#0000ff\",\r\n            \"blueviolet\": \"#8a2be2\",\r\n            \"brown\": \"#a52a2a\",\r\n            \"burlywood\": \"#deb887\",\r\n            \"cadetblue\": \"#5f9ea0\",\r\n            \"chartreuse\": \"#7fff00\",\r\n            \"chocolate\": \"#d2691e\",\r\n            \"coral\": \"#ff7f50\",\r\n            \"cornflowerblue\": \"#6495ed\",\r\n            \"cornsilk\": \"#fff8dc\",\r\n            \"crimson\": \"#dc143c\",\r\n            \"cyan\": \"#00ffff\",\r\n            \"darkblue\": \"#00008b\",\r\n            \"darkcyan\": \"#008b8b\",\r\n            \"darkgoldenrod\": \"#b8860b\",\r\n            \"darkgray\": \"#a9a9a9\",\r\n            \"darkgreen\": \"#006400\",\r\n            \"darkkhaki\": \"#bdb76b\",\r\n            \"darkmagenta\": \"#8b008b\",\r\n            \"darkolivegreen\": \"#556b2f\",\r\n            \"darkorange\": \"#ff8c00\",\r\n            \"darkorchid\": \"#9932cc\",\r\n            \"darkred\": \"#8b0000\",\r\n            \"darksalmon\": \"#e9967a\",\r\n            \"darkseagreen\": \"#8fbc8f\",\r\n            \"darkslateblue\": \"#483d8b\",\r\n            \"darkslategray\": \"#2f4f4f\",\r\n            \"darkturquoise\": \"#00ced1\",\r\n            \"darkviolet\": \"#9400d3\",\r\n            \"deeppink\": \"#ff1493\",\r\n            \"deepskyblue\": \"#00bfff\",\r\n            \"dimgray\": \"#696969\",\r\n            \"dodgerblue\": \"#1e90ff\",\r\n            \"firebrick\": \"#b22222\",\r\n            \"floralwhite\": \"#fffaf0\",\r\n            \"forestgreen\": \"#228b22\",\r\n            \"fuchsia\": \"#ff00ff\",\r\n            \"gainsboro\": \"#dcdcdc\",\r\n            \"ghostwhite\": \"#f8f8ff\",\r\n            \"gold\": \"#ffd700\",\r\n            \"goldenrod\": \"#daa520\",\r\n            \"gray\": \"#808080\",\r\n            \"green\": \"#008000\",\r\n            \"greenyellow\": \"#adff2f\",\r\n            \"honeydew\": \"#f0fff0\",\r\n            \"hotpink\": \"#ff69b4\",\r\n            \"indianred\": \"#cd5c5c\",\r\n            \"indigo\": \"#4b0082\",\r\n            \"ivory\": \"#fffff0\",\r\n            \"khaki\": \"#f0e68c\",\r\n            \"lavender\": \"#e6e6fa\",\r\n            \"lavenderblush\": \"#fff0f5\",\r\n            \"lawngreen\": \"#7cfc00\",\r\n            \"lemonchiffon\": \"#fffacd\",\r\n            \"lightblue\": \"#add8e6\",\r\n            \"lightcoral\": \"#f08080\",\r\n            \"lightcyan\": \"#e0ffff\",\r\n            \"lightgoldenrodyellow\": \"#fafad2\",\r\n            \"lightgrey\": \"#d3d3d3\",\r\n            \"lightgreen\": \"#90ee90\",\r\n            \"lightpink\": \"#ffb6c1\",\r\n            \"lightsalmon\": \"#ffa07a\",\r\n            \"lightseagreen\": \"#20b2aa\",\r\n            \"lightskyblue\": \"#87cefa\",\r\n            \"lightslategray\": \"#778899\",\r\n            \"lightsteelblue\": \"#b0c4de\",\r\n            \"lightyellow\": \"#ffffe0\",\r\n            \"lime\": \"#00ff00\",\r\n            \"limegreen\": \"#32cd32\",\r\n            \"linen\": \"#faf0e6\",\r\n            \"magenta\": \"#ff00ff\",\r\n            \"maroon\": \"#800000\",\r\n            \"mediumaquamarine\": \"#66cdaa\",\r\n            \"mediumblue\": \"#0000cd\",\r\n            \"mediumorchid\": \"#ba55d3\",\r\n            \"mediumpurple\": \"#9370d8\",\r\n            \"mediumseagreen\": \"#3cb371\",\r\n            \"mediumslateblue\": \"#7b68ee\",\r\n            \"mediumspringgreen\": \"#00fa9a\",\r\n            \"mediumturquoise\": \"#48d1cc\",\r\n            \"mediumvioletred\": \"#c71585\",\r\n            \"midnightblue\": \"#191970\",\r\n            \"mintcream\": \"#f5fffa\",\r\n            \"mistyrose\": \"#ffe4e1\",\r\n            \"moccasin\": \"#ffe4b5\",\r\n            \"navajowhite\": \"#ffdead\",\r\n            \"navy\": \"#000080\",\r\n            \"oldlace\": \"#fdf5e6\",\r\n            \"olive\": \"#808000\",\r\n            \"olivedrab\": \"#6b8e23\",\r\n            \"orange\": \"#ffa500\",\r\n            \"orangered\": \"#ff4500\",\r\n            \"orchid\": \"#da70d6\",\r\n            \"palegoldenrod\": \"#eee8aa\",\r\n            \"palegreen\": \"#98fb98\",\r\n            \"paleturquoise\": \"#afeeee\",\r\n            \"palevioletred\": \"#d87093\",\r\n            \"papayawhip\": \"#ffefd5\",\r\n            \"peachpuff\": \"#ffdab9\",\r\n            \"peru\": \"#cd853f\",\r\n            \"pink\": \"#ffc0cb\",\r\n            \"plum\": \"#dda0dd\",\r\n            \"powderblue\": \"#b0e0e6\",\r\n            \"purple\": \"#800080\",\r\n            \"red\": \"#ff0000\",\r\n            \"rosybrown\": \"#bc8f8f\",\r\n            \"royalblue\": \"#4169e1\",\r\n            \"saddlebrown\": \"#8b4513\",\r\n            \"salmon\": \"#fa8072\",\r\n            \"sandybrown\": \"#f4a460\",\r\n            \"seagreen\": \"#2e8b57\",\r\n            \"seashell\": \"#fff5ee\",\r\n            \"sienna\": \"#a0522d\",\r\n            \"silver\": \"#c0c0c0\",\r\n            \"skyblue\": \"#87ceeb\",\r\n            \"slateblue\": \"#6a5acd\",\r\n            \"slategray\": \"#708090\",\r\n            \"snow\": \"#fffafa\",\r\n            \"springgreen\": \"#00ff7f\",\r\n            \"steelblue\": \"#4682b4\",\r\n            \"tan\": \"#d2b48c\",\r\n            \"teal\": \"#008080\",\r\n            \"thistle\": \"#d8bfd8\",\r\n            \"tomato\": \"#ff6347\",\r\n            \"turquoise\": \"#40e0d0\",\r\n            \"violet\": \"#ee82ee\",\r\n            \"wheat\": \"#f5deb3\",\r\n            \"white\": \"#ffffff\",\r\n            \"whitesmoke\": \"#f5f5f5\",\r\n            \"yellow\": \"#ffff00\",\r\n            \"yellowgreen\": \"#9acd32\",\r\n            \"transparent\": \"transparent\"\r\n        },\r\n        _sanitizeNumber: function(val) {\r\n            if (typeof val === 'number') {\r\n                return val;\r\n            }\r\n            if (isNaN(val) || (val === null) || (val === '') || (val === undefined)) {\r\n                return 1;\r\n            }\r\n            if (val.toLowerCase !== undefined) {\r\n                return parseFloat(val);\r\n            }\r\n            return 1;\r\n        },\r\n        isTransparent: function(strVal) {\r\n            if (!strVal) {\r\n                return false;\r\n            }\r\n            strVal = strVal.toLowerCase().trim();\r\n            return (strVal === 'transparent') || (strVal.match(/#?00000000/)) || (strVal.match(/(rgba|hsla)\\(0,0,0,0?\\.?0\\)/));\r\n        },\r\n        rgbaIsTransparent: function(rgba) {\r\n            return ((rgba.r === 0) && (rgba.g === 0) && (rgba.b === 0) && (rgba.a === 0));\r\n        },\r\n        //parse a string to HSB\r\n        setColor: function(strVal) {\r\n            strVal = strVal.toLowerCase().trim();\r\n            if (strVal) {\r\n                if (this.isTransparent(strVal)) {\r\n                    this.value = {\r\n                        h: 0,\r\n                        s: 0,\r\n                        b: 0,\r\n                        a: 0\r\n                    };\r\n                } else {\r\n                    this.value = this.stringToHSB(strVal) || {\r\n                            h: 0,\r\n                            s: 0,\r\n                            b: 0,\r\n                            a: 1\r\n                        }; // if parser fails, defaults to black\r\n                }\r\n            }\r\n        },\r\n        stringToHSB: function(strVal) {\r\n            strVal = strVal.toLowerCase();\r\n            var alias;\r\n            if (typeof this.colors[strVal] !== 'undefined') {\r\n                strVal = this.colors[strVal];\r\n                alias = 'alias';\r\n            }\r\n            var that = this,\r\n                result = false;\r\n            $.each(this.stringParsers, function(i, parser) {\r\n                var match = parser.re.exec(strVal),\r\n                    values = match && parser.parse.apply(that, [match]),\r\n                    format = alias || parser.format || 'rgba';\r\n                if (values) {\r\n                    if (format.match(/hsla?/)) {\r\n                        result = that.RGBtoHSB.apply(that, that.HSLtoRGB.apply(that, values));\r\n                    } else {\r\n                        result = that.RGBtoHSB.apply(that, values);\r\n                    }\r\n                    that.origFormat = format;\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n            return result;\r\n        },\r\n        setHue: function(h) {\r\n            this.value.h = 1 - h;\r\n        },\r\n        setSaturation: function(s) {\r\n            this.value.s = s;\r\n        },\r\n        setBrightness: function(b) {\r\n            this.value.b = 1 - b;\r\n        },\r\n        setAlpha: function(a) {\r\n            this.value.a = parseInt((1 - a) * 100, 10) / 100;\r\n        },\r\n        toRGB: function(h, s, b, a) {\r\n            if (!h) {\r\n                h = this.value.h;\r\n                s = this.value.s;\r\n                b = this.value.b;\r\n            }\r\n            h *= 360;\r\n            var R, G, B, X, C;\r\n            h = (h % 360) / 60;\r\n            C = b * s;\r\n            X = C * (1 - Math.abs(h % 2 - 1));\r\n            R = G = B = b - C;\r\n\r\n            h = ~~h;\r\n            R += [C, X, 0, 0, X, C][h];\r\n            G += [X, C, C, X, 0, 0][h];\r\n            B += [0, 0, X, C, C, X][h];\r\n            return {\r\n                r: Math.round(R * 255),\r\n                g: Math.round(G * 255),\r\n                b: Math.round(B * 255),\r\n                a: a || this.value.a\r\n            };\r\n        },\r\n        toHex: function(h, s, b, a) {\r\n            var rgb = this.toRGB(h, s, b, a);\r\n            if (this.rgbaIsTransparent(rgb)) {\r\n                return 'transparent';\r\n            }\r\n            return '#' + ((1 << 24) | (parseInt(rgb.r) << 16) | (parseInt(rgb.g) << 8) | parseInt(rgb.b)).toString(16).substr(1);\r\n        },\r\n        toHSL: function(h, s, b, a) {\r\n            h = h || this.value.h;\r\n            s = s || this.value.s;\r\n            b = b || this.value.b;\r\n            a = a || this.value.a;\r\n\r\n            var H = h,\r\n                L = (2 - s) * b,\r\n                S = s * b;\r\n            if (L > 0 && L <= 1) {\r\n                S /= L;\r\n            } else {\r\n                S /= 2 - L;\r\n            }\r\n            L /= 2;\r\n            if (S > 1) {\r\n                S = 1;\r\n            }\r\n            return {\r\n                h: isNaN(H) ? 0 : H,\r\n                s: isNaN(S) ? 0 : S,\r\n                l: isNaN(L) ? 0 : L,\r\n                a: isNaN(a) ? 0 : a\r\n            };\r\n        },\r\n        toAlias: function(r, g, b, a) {\r\n            var rgb = this.toHex(r, g, b, a);\r\n            for (var alias in this.colors) {\r\n                if (this.colors[alias] === rgb) {\r\n                    return alias;\r\n                }\r\n            }\r\n            return false;\r\n        },\r\n        RGBtoHSB: function(r, g, b, a) {\r\n            r /= 255;\r\n            g /= 255;\r\n            b /= 255;\r\n\r\n            var H, S, V, C;\r\n            V = Math.max(r, g, b);\r\n            C = V - Math.min(r, g, b);\r\n            H = (C === 0 ? null :\r\n                    V === r ? (g - b) / C :\r\n                        V === g ? (b - r) / C + 2 :\r\n                        (r - g) / C + 4\r\n            );\r\n            H = ((H + 360) % 6) * 60 / 360;\r\n            S = C === 0 ? 0 : C / V;\r\n            return {\r\n                h: this._sanitizeNumber(H),\r\n                s: S,\r\n                b: V,\r\n                a: this._sanitizeNumber(a)\r\n            };\r\n        },\r\n        HueToRGB: function(p, q, h) {\r\n            if (h < 0) {\r\n                h += 1;\r\n            } else if (h > 1) {\r\n                h -= 1;\r\n            }\r\n            if ((h * 6) < 1) {\r\n                return p + (q - p) * h * 6;\r\n            } else if ((h * 2) < 1) {\r\n                return q;\r\n            } else if ((h * 3) < 2) {\r\n                return p + (q - p) * ((2 / 3) - h) * 6;\r\n            } else {\r\n                return p;\r\n            }\r\n        },\r\n        HSLtoRGB: function(h, s, l, a) {\r\n            if (s < 0) {\r\n                s = 0;\r\n            }\r\n            var q;\r\n            if (l <= 0.5) {\r\n                q = l * (1 + s);\r\n            } else {\r\n                q = l + s - (l * s);\r\n            }\r\n\r\n            var p = 2 * l - q;\r\n\r\n            var tr = h + (1 / 3);\r\n            var tg = h;\r\n            var tb = h - (1 / 3);\r\n\r\n            var r = Math.round(this.HueToRGB(p, q, tr) * 255);\r\n            var g = Math.round(this.HueToRGB(p, q, tg) * 255);\r\n            var b = Math.round(this.HueToRGB(p, q, tb) * 255);\r\n            return [r, g, b, this._sanitizeNumber(a)];\r\n        },\r\n        toString: function(format) {\r\n            format = format || 'rgba';\r\n            var c = false;\r\n            switch (format) {\r\n                case 'rgb':\r\n                {\r\n                    c = this.toRGB();\r\n                    if (this.rgbaIsTransparent(c)) {\r\n                        return 'transparent';\r\n                    }\r\n                    return 'rgb(' + c.r + ',' + c.g + ',' + c.b + ')';\r\n                }\r\n                    break;\r\n                case 'rgba':\r\n                {\r\n                    c = this.toRGB();\r\n                    return 'rgba(' + c.r + ',' + c.g + ',' + c.b + ',' + c.a + ')';\r\n                }\r\n                    break;\r\n                case 'hsl':\r\n                {\r\n                    c = this.toHSL();\r\n                    return 'hsl(' + Math.round(c.h * 360) + ',' + Math.round(c.s * 100) + '%,' + Math.round(c.l * 100) + '%)';\r\n                }\r\n                    break;\r\n                case 'hsla':\r\n                {\r\n                    c = this.toHSL();\r\n                    return 'hsla(' + Math.round(c.h * 360) + ',' + Math.round(c.s * 100) + '%,' + Math.round(c.l * 100) + '%,' + c.a + ')';\r\n                }\r\n                    break;\r\n                case 'hex':\r\n                {\r\n                    return this.toHex();\r\n                }\r\n                    break;\r\n                case 'alias':\r\n                    return this.toAlias() || this.toHex();\r\n                default:\r\n                {\r\n                    return c;\r\n                }\r\n                    break;\r\n            }\r\n        },\r\n        // a set of RE's that can match strings and generate color tuples.\r\n        // from John Resig color plugin\r\n        // https://github.com/jquery/jquery-color/\r\n        stringParsers: [{\r\n            re: /rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*?\\)/,\r\n            format: 'rgb',\r\n            parse: function(execResult) {\r\n                return [\r\n                    execResult[1],\r\n                    execResult[2],\r\n                    execResult[3],\r\n                    1\r\n                ];\r\n            }\r\n        }, {\r\n            re: /rgb\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*?\\)/,\r\n            format: 'rgb',\r\n            parse: function(execResult) {\r\n                return [\r\n                    2.55 * execResult[1],\r\n                    2.55 * execResult[2],\r\n                    2.55 * execResult[3],\r\n                    1\r\n                ];\r\n            }\r\n        }, {\r\n            re: /rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,\r\n            format: 'rgba',\r\n            parse: function(execResult) {\r\n                return [\r\n                    execResult[1],\r\n                    execResult[2],\r\n                    execResult[3],\r\n                    execResult[4]\r\n                ];\r\n            }\r\n        }, {\r\n            re: /rgba\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,\r\n            format: 'rgba',\r\n            parse: function(execResult) {\r\n                return [\r\n                    2.55 * execResult[1],\r\n                    2.55 * execResult[2],\r\n                    2.55 * execResult[3],\r\n                    execResult[4]\r\n                ];\r\n            }\r\n        }, {\r\n            re: /hsl\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*?\\)/,\r\n            format: 'hsl',\r\n            parse: function(execResult) {\r\n                return [\r\n                    execResult[1] / 360,\r\n                    execResult[2] / 100,\r\n                    execResult[3] / 100,\r\n                    execResult[4]\r\n                ];\r\n            }\r\n        }, {\r\n            re: /hsla\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,\r\n            format: 'hsla',\r\n            parse: function(execResult) {\r\n                return [\r\n                    execResult[1] / 360,\r\n                    execResult[2] / 100,\r\n                    execResult[3] / 100,\r\n                    execResult[4]\r\n                ];\r\n            }\r\n        }, {\r\n            re: /#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,\r\n            format: 'hex',\r\n            parse: function(execResult) {\r\n                return [\r\n                    parseInt(execResult[1], 16),\r\n                    parseInt(execResult[2], 16),\r\n                    parseInt(execResult[3], 16),\r\n                    1\r\n                ];\r\n            }\r\n        }, {\r\n            re: /#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,\r\n            format: 'hex',\r\n            parse: function(execResult) {\r\n                return [\r\n                    parseInt(execResult[1] + execResult[1], 16),\r\n                    parseInt(execResult[2] + execResult[2], 16),\r\n                    parseInt(execResult[3] + execResult[3], 16),\r\n                    1\r\n                ];\r\n            }\r\n        }],\r\n        colorNameToHex: function(name) {\r\n            if (typeof this.colors[name.toLowerCase()] !== 'undefined') {\r\n                return this.colors[name.toLowerCase()];\r\n            }\r\n            return false;\r\n        }\r\n    };\r\n\r\n\r\n    var defaults = {\r\n        horizontal: false, // horizontal mode layout ?\r\n        inline: false, //forces to show the colorpicker as an inline element\r\n        color: false, //forces a color\r\n        format: false, //forces a format\r\n        input: 'input', // children input selector\r\n        container: false, // container selector\r\n        component: '.add-on, .input-group-addon', // children component selector\r\n        sliders: {\r\n            saturation: {\r\n                maxLeft: 100,\r\n                maxTop: 100,\r\n                callLeft: 'setSaturation',\r\n                callTop: 'setBrightness'\r\n            },\r\n            hue: {\r\n                maxLeft: 0,\r\n                maxTop: 100,\r\n                callLeft: false,\r\n                callTop: 'setHue'\r\n            },\r\n            alpha: {\r\n                maxLeft: 0,\r\n                maxTop: 100,\r\n                callLeft: false,\r\n                callTop: 'setAlpha'\r\n            }\r\n        },\r\n        slidersHorz: {\r\n            saturation: {\r\n                maxLeft: 100,\r\n                maxTop: 100,\r\n                callLeft: 'setSaturation',\r\n                callTop: 'setBrightness'\r\n            },\r\n            hue: {\r\n                maxLeft: 100,\r\n                maxTop: 0,\r\n                callLeft: 'setHue',\r\n                callTop: false\r\n            },\r\n            alpha: {\r\n                maxLeft: 100,\r\n                maxTop: 0,\r\n                callLeft: 'setAlpha',\r\n                callTop: false\r\n            }\r\n        },\r\n        template: '<div class=\"colorpicker dropdown-menu\">' +\r\n        '<div class=\"colorpicker-saturation\"><i><b></b></i></div>' +\r\n        '<div class=\"colorpicker-hue\"><i></i></div>' +\r\n        '<div class=\"colorpicker-alpha\"><i></i></div>' +\r\n        '<div class=\"colorpicker-color\"><div /></div>' +\r\n        '<div class=\"colorpicker-selectors\"></div>' +\r\n        '</div>',\r\n        align: 'right',\r\n        customClass: null,\r\n        colorSelectors: null\r\n    };\r\n\r\n    var Colorpicker = function(element, options) {\r\n        this.element = $(element).addClass('colorpicker-element');\r\n        this.options = $.extend(true, {}, defaults, this.element.data(), options);\r\n        this.component = this.options.component;\r\n        this.component = (this.component !== false) ? this.element.find(this.component) : false;\r\n        if (this.component && (this.component.length === 0)) {\r\n            this.component = false;\r\n        }\r\n        this.container = (this.options.container === true) ? this.element : this.options.container;\r\n        this.container = (this.container !== false) ? $(this.container) : false;\r\n\r\n        // Is the element an input? Should we search inside for any input?\r\n        this.input = this.element.is('input') ? this.element : (this.options.input ?\r\n            this.element.find(this.options.input) : false);\r\n        if (this.input && (this.input.length === 0)) {\r\n            this.input = false;\r\n        }\r\n        // Set HSB color\r\n        this.color = new Color(this.options.color !== false ? this.options.color : this.getValue(), this.options.colorSelectors);\r\n        this.format = this.options.format !== false ? this.options.format : this.color.origFormat;\r\n\r\n        // Setup picker\r\n        this.picker = $(this.options.template);\r\n        if (this.options.customClass) {\r\n            this.picker.addClass(this.options.customClass);\r\n        }\r\n        if (this.options.inline) {\r\n            this.picker.addClass('colorpicker-inline colorpicker-visible');\r\n        } else {\r\n            this.picker.addClass('colorpicker-hidden');\r\n        }\r\n        if (this.options.horizontal) {\r\n            this.picker.addClass('colorpicker-horizontal');\r\n        }\r\n        if (this.format === 'rgba' || this.format === 'hsla' || this.options.format === false) {\r\n            this.picker.addClass('colorpicker-with-alpha');\r\n        }\r\n        if (this.options.align === 'right') {\r\n            this.picker.addClass('colorpicker-right');\r\n        }\r\n        if (this.options.colorSelectors) {\r\n            var colorpicker = this;\r\n            $.each(this.options.colorSelectors, function(name, color) {\r\n                var $btn = $('<i />').css('background-color', color).data('class', name);\r\n                $btn.click(function() {\r\n                    colorpicker.setValue($(this).css('background-color'));\r\n                });\r\n                colorpicker.picker.find('.colorpicker-selectors').append($btn);\r\n            });\r\n            this.picker.find('.colorpicker-selectors').show();\r\n        }\r\n        this.picker.on('mousedown.colorpicker touchstart.colorpicker', $.proxy(this.mousedown, this));\r\n        this.picker.appendTo(this.container ? this.container : $('body'));\r\n\r\n        // Bind events\r\n        if (this.input !== false) {\r\n            this.input.on({\r\n                'keyup.colorpicker': $.proxy(this.keyup, this)\r\n            });\r\n            this.input.on({\r\n                'change.colorpicker': $.proxy(this.change, this)\r\n            });\r\n            if (this.component === false) {\r\n                this.element.on({\r\n                    'focus.colorpicker': $.proxy(this.show, this)\r\n                });\r\n            }\r\n            if (this.options.inline === false) {\r\n                this.element.on({\r\n                    'focusout.colorpicker': $.proxy(this.hide, this)\r\n                });\r\n            }\r\n        }\r\n\r\n        if (this.component !== false) {\r\n            this.component.on({\r\n                'click.colorpicker': $.proxy(this.show, this)\r\n            });\r\n        }\r\n\r\n        if ((this.input === false) && (this.component === false)) {\r\n            this.element.on({\r\n                'click.colorpicker': $.proxy(this.show, this)\r\n            });\r\n        }\r\n\r\n        // for HTML5 input[type='color']\r\n        if ((this.input !== false) && (this.component !== false) && (this.input.attr('type') === 'color')) {\r\n\r\n            this.input.on({\r\n                'click.colorpicker': $.proxy(this.show, this),\r\n                'focus.colorpicker': $.proxy(this.show, this)\r\n            });\r\n        }\r\n        this.update();\r\n\r\n        $($.proxy(function() {\r\n            this.element.trigger('create');\r\n        }, this));\r\n    };\r\n\r\n    Colorpicker.Color = Color;\r\n\r\n    Colorpicker.prototype = {\r\n        constructor: Colorpicker,\r\n        destroy: function() {\r\n            this.picker.remove();\r\n            this.element.removeData('colorpicker').off('.colorpicker');\r\n            if (this.input !== false) {\r\n                this.input.off('.colorpicker');\r\n            }\r\n            if (this.component !== false) {\r\n                this.component.off('.colorpicker');\r\n            }\r\n            this.element.removeClass('colorpicker-element');\r\n            this.element.trigger({\r\n                type: 'destroy'\r\n            });\r\n        },\r\n        reposition: function() {\r\n            if (this.options.inline !== false || this.options.container) {\r\n                return false;\r\n            }\r\n            var type = this.container && this.container[0] !== document.body ? 'position' : 'offset';\r\n            var element = this.component || this.element;\r\n            var offset = element[type]();\r\n            if (this.options.align === 'right') {\r\n                offset.left -= this.picker.outerWidth() - element.outerWidth();\r\n            }\r\n            this.picker.css({\r\n                top: offset.top + element.outerHeight(),\r\n                left: offset.left\r\n            });\r\n        },\r\n        show: function(e) {\r\n            if (this.isDisabled()) {\r\n                return false;\r\n            }\r\n            this.picker.addClass('colorpicker-visible').removeClass('colorpicker-hidden');\r\n            this.reposition();\r\n            $(window).on('resize.colorpicker', $.proxy(this.reposition, this));\r\n            if (e && (!this.hasInput() || this.input.attr('type') === 'color')) {\r\n                if (e.stopPropagation && e.preventDefault) {\r\n                    e.stopPropagation();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n            if (this.options.inline === false) {\r\n                $(window.document).on({\r\n                    'mousedown.colorpicker': $.proxy(this.hide, this)\r\n                });\r\n            }\r\n            this.element.trigger({\r\n                type: 'showPicker',\r\n                color: this.color\r\n            });\r\n        },\r\n        hide: function() {\r\n            this.picker.addClass('colorpicker-hidden').removeClass('colorpicker-visible');\r\n            $(window).off('resize.colorpicker', this.reposition);\r\n            $(document).off({\r\n                'mousedown.colorpicker': this.hide\r\n            });\r\n            this.update();\r\n            this.element.trigger({\r\n                type: 'hidePicker',\r\n                color: this.color\r\n            });\r\n        },\r\n        updateData: function(val) {\r\n            val = val || this.color.toString(this.format);\r\n            this.element.data('color', val);\r\n            return val;\r\n        },\r\n        updateInput: function(val) {\r\n            val = val || this.color.toString(this.format);\r\n            if (this.input !== false) {\r\n                if (this.options.colorSelectors) {\r\n                    var color = new Color(val, this.options.colorSelectors);\r\n                    var alias = color.toAlias();\r\n                    if (typeof this.options.colorSelectors[alias] !== 'undefined') {\r\n                        val = alias;\r\n                    }\r\n                }\r\n                this.input.prop('value', val);\r\n            }\r\n            return val;\r\n        },\r\n        updatePicker: function(val) {\r\n            if (val !== undefined) {\r\n                this.color = new Color(val, this.options.colorSelectors);\r\n            }\r\n            var sl = (this.options.horizontal === false) ? this.options.sliders : this.options.slidersHorz;\r\n            var icns = this.picker.find('i');\r\n            if (icns.length === 0) {\r\n                return;\r\n            }\r\n            if (this.options.horizontal === false) {\r\n                sl = this.options.sliders;\r\n                icns.eq(1).css('top', sl.hue.maxTop * (1 - this.color.value.h)).end()\r\n                    .eq(2).css('top', sl.alpha.maxTop * (1 - this.color.value.a));\r\n            } else {\r\n                sl = this.options.slidersHorz;\r\n                icns.eq(1).css('left', sl.hue.maxLeft * (1 - this.color.value.h)).end()\r\n                    .eq(2).css('left', sl.alpha.maxLeft * (1 - this.color.value.a));\r\n            }\r\n            icns.eq(0).css({\r\n                'top': sl.saturation.maxTop - this.color.value.b * sl.saturation.maxTop,\r\n                'left': this.color.value.s * sl.saturation.maxLeft\r\n            });\r\n            this.picker.find('.colorpicker-saturation').css('backgroundColor', this.color.toHex(this.color.value.h, 1, 1, 1));\r\n            this.picker.find('.colorpicker-alpha').css('backgroundColor', this.color.toHex());\r\n            this.picker.find('.colorpicker-color, .colorpicker-color div').css('backgroundColor', this.color.toString(this.format));\r\n            return val;\r\n        },\r\n        updateComponent: function(val) {\r\n            val = val || this.color.toString(this.format);\r\n            if (this.component !== false) {\r\n                var icn = this.component.find('i').eq(0);\r\n                if (icn.length > 0) {\r\n                    icn.css({\r\n                        'backgroundColor': val\r\n                    });\r\n                } else {\r\n                    this.component.css({\r\n                        'backgroundColor': val\r\n                    });\r\n                }\r\n            }\r\n            return val;\r\n        },\r\n        update: function(force) {\r\n            var val;\r\n            if ((this.getValue(false) !== false) || (force === true)) {\r\n                // Update input/data only if the current value is not empty\r\n                val = this.updateComponent();\r\n                this.updateInput(val);\r\n                this.updateData(val);\r\n                this.updatePicker(); // only update picker if value is not empty\r\n            }\r\n            return val;\r\n\r\n        },\r\n        setValue: function(val) { // set color manually\r\n            this.color = new Color(val, this.options.colorSelectors);\r\n            this.update(true);\r\n            this.element.trigger({\r\n                type: 'changeColor',\r\n                color: this.color,\r\n                value: val\r\n            });\r\n        },\r\n        getValue: function(defaultValue) {\r\n            defaultValue = (defaultValue === undefined) ? '#000000' : defaultValue;\r\n            var val;\r\n            if (this.hasInput()) {\r\n                val = this.input.val();\r\n            } else {\r\n                val = this.element.data('color');\r\n            }\r\n            if ((val === undefined) || (val === '') || (val === null)) {\r\n                // if not defined or empty, return default\r\n                val = defaultValue;\r\n            }\r\n            return val;\r\n        },\r\n        hasInput: function() {\r\n            return (this.input !== false);\r\n        },\r\n        isDisabled: function() {\r\n            if (this.hasInput()) {\r\n                return (this.input.prop('disabled') === true);\r\n            }\r\n            return false;\r\n        },\r\n        disable: function() {\r\n            if (this.hasInput()) {\r\n                this.input.prop('disabled', true);\r\n                this.element.trigger({\r\n                    type: 'disable',\r\n                    color: this.color,\r\n                    value: this.getValue()\r\n                });\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        enable: function() {\r\n            if (this.hasInput()) {\r\n                this.input.prop('disabled', false);\r\n                this.element.trigger({\r\n                    type: 'enable',\r\n                    color: this.color,\r\n                    value: this.getValue()\r\n                });\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        currentSlider: null,\r\n        mousePointer: {\r\n            left: 0,\r\n            top: 0\r\n        },\r\n        mousedown: function(e) {\r\n            if (!e.pageX && !e.pageY && e.originalEvent) {\r\n                e.pageX = e.originalEvent.touches[0].pageX;\r\n                e.pageY = e.originalEvent.touches[0].pageY;\r\n            }\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n\r\n            var target = $(e.target);\r\n\r\n            //detect the slider and set the limits and callbacks\r\n            var zone = target.closest('div');\r\n            var sl = this.options.horizontal ? this.options.slidersHorz : this.options.sliders;\r\n            if (!zone.is('.colorpicker')) {\r\n                if (zone.is('.colorpicker-saturation')) {\r\n                    this.currentSlider = $.extend({}, sl.saturation);\r\n                } else if (zone.is('.colorpicker-hue')) {\r\n                    this.currentSlider = $.extend({}, sl.hue);\r\n                } else if (zone.is('.colorpicker-alpha')) {\r\n                    this.currentSlider = $.extend({}, sl.alpha);\r\n                } else {\r\n                    return false;\r\n                }\r\n                var offset = zone.offset();\r\n                //reference to guide's style\r\n                this.currentSlider.guide = zone.find('i')[0].style;\r\n                this.currentSlider.left = e.pageX - offset.left;\r\n                this.currentSlider.top = e.pageY - offset.top;\r\n                this.mousePointer = {\r\n                    left: e.pageX,\r\n                    top: e.pageY\r\n                };\r\n                //trigger mousemove to move the guide to the current position\r\n                $(document).on({\r\n                    'mousemove.colorpicker': $.proxy(this.mousemove, this),\r\n                    'touchmove.colorpicker': $.proxy(this.mousemove, this),\r\n                    'mouseup.colorpicker': $.proxy(this.mouseup, this),\r\n                    'touchend.colorpicker': $.proxy(this.mouseup, this)\r\n                }).trigger('mousemove');\r\n            }\r\n            return false;\r\n        },\r\n        mousemove: function(e) {\r\n            if (!e.pageX && !e.pageY && e.originalEvent) {\r\n                e.pageX = e.originalEvent.touches[0].pageX;\r\n                e.pageY = e.originalEvent.touches[0].pageY;\r\n            }\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            var left = Math.max(\r\n                0,\r\n                Math.min(\r\n                    this.currentSlider.maxLeft,\r\n                    this.currentSlider.left + ((e.pageX || this.mousePointer.left) - this.mousePointer.left)\r\n                )\r\n            );\r\n            var top = Math.max(\r\n                0,\r\n                Math.min(\r\n                    this.currentSlider.maxTop,\r\n                    this.currentSlider.top + ((e.pageY || this.mousePointer.top) - this.mousePointer.top)\r\n                )\r\n            );\r\n            this.currentSlider.guide.left = left + 'px';\r\n            this.currentSlider.guide.top = top + 'px';\r\n            if (this.currentSlider.callLeft) {\r\n                this.color[this.currentSlider.callLeft].call(this.color, left / this.currentSlider.maxLeft);\r\n            }\r\n            if (this.currentSlider.callTop) {\r\n                this.color[this.currentSlider.callTop].call(this.color, top / this.currentSlider.maxTop);\r\n            }\r\n            // Change format dynamically\r\n            // Only occurs if user choose the dynamic format by\r\n            // setting option format to false\r\n            if (this.currentSlider.callTop === 'setAlpha' && this.options.format === false) {\r\n\r\n                // Converting from hex / rgb to rgba\r\n                if (this.color.value.a !== 1) {\r\n                    this.format = 'rgba';\r\n                    this.color.origFormat = 'rgba';\r\n                }\r\n\r\n                // Converting from rgba to hex\r\n                else {\r\n                    this.format = 'hex';\r\n                    this.color.origFormat = 'hex';\r\n                }\r\n            }\r\n            this.update(true);\r\n\r\n            this.element.trigger({\r\n                type: 'changeColor',\r\n                color: this.color\r\n            });\r\n            return false;\r\n        },\r\n        mouseup: function(e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            $(document).off({\r\n                'mousemove.colorpicker': this.mousemove,\r\n                'touchmove.colorpicker': this.mousemove,\r\n                'mouseup.colorpicker': this.mouseup,\r\n                'touchend.colorpicker': this.mouseup\r\n            });\r\n            return false;\r\n        },\r\n        change: function(e) {\r\n            this.keyup(e);\r\n        },\r\n        keyup: function(e) {\r\n            if ((e.keyCode === 38)) {\r\n                if (this.color.value.a < 1) {\r\n                    this.color.value.a = Math.round((this.color.value.a + 0.01) * 100) / 100;\r\n                }\r\n                this.update(true);\r\n            } else if ((e.keyCode === 40)) {\r\n                if (this.color.value.a > 0) {\r\n                    this.color.value.a = Math.round((this.color.value.a - 0.01) * 100) / 100;\r\n                }\r\n                this.update(true);\r\n            } else {\r\n                this.color = new Color(this.input.val(), this.options.colorSelectors);\r\n                // Change format dynamically\r\n                // Only occurs if user choose the dynamic format by\r\n                // setting option format to false\r\n                if (this.color.origFormat && this.options.format === false) {\r\n                    this.format = this.color.origFormat;\r\n                }\r\n                if (this.getValue(false) !== false) {\r\n                    this.updateData();\r\n                    this.updateComponent();\r\n                    this.updatePicker();\r\n                }\r\n            }\r\n            this.element.trigger({\r\n                type: 'changeColor',\r\n                color: this.color,\r\n                value: this.input.val()\r\n            });\r\n        }\r\n    };\r\n\r\n    $.colorpicker = Colorpicker;\r\n\r\n    $.fn.colorpicker = function(option) {\r\n        var pickerArgs = arguments,\r\n            rv;\r\n\r\n        var $returnValue = this.each(function() {\r\n            var $this = $(this),\r\n                inst = $this.data('colorpicker'),\r\n                options = ((typeof option === 'object') ? option : {});\r\n            if ((!inst) && (typeof option !== 'string')) {\r\n                $this.data('colorpicker', new Colorpicker(this, options));\r\n            } else {\r\n                if (typeof option === 'string') {\r\n                    rv = inst[option].apply(inst, Array.prototype.slice.call(pickerArgs, 1));\r\n                }\r\n            }\r\n        });\r\n        if (option === 'getValue') {\r\n            return rv;\r\n        }\r\n        return $returnValue;\r\n    };\r\n\r\n    $.fn.colorpicker.constructor = Colorpicker;\r\n\r\n}));","/**\n * sifter.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define('sifter', factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.Sifter = factory();\n    }\n}(this, function() {\n\n    /**\n     * Textually searches arrays and hashes of objects\n     * by property (or multiple properties). Designed\n     * specifically for autocomplete.\n     *\n     * @constructor\n     * @param {array|object} items\n     * @param {object} items\n     */\n    var Sifter = function(items, settings) {\n        this.items = items;\n        this.settings = settings || {diacritics: true};\n    };\n\n    /**\n     * Splits a search string into an array of individual\n     * regexps to be used to match results.\n     *\n     * @param {string} query\n     * @returns {array}\n     */\n    Sifter.prototype.tokenize = function(query) {\n        query = trim(String(query || '').toLowerCase());\n        if (!query || !query.length) return [];\n\n        var i, n, regex, letter;\n        var tokens = [];\n        var words = query.split(/ +/);\n\n        for (i = 0, n = words.length; i < n; i++) {\n            regex = escape_regex(words[i]);\n            if (this.settings.diacritics) {\n                for (letter in DIACRITICS) {\n                    if (DIACRITICS.hasOwnProperty(letter)) {\n                        regex = regex.replace(new RegExp(letter, 'g'), DIACRITICS[letter]);\n                    }\n                }\n            }\n            tokens.push({\n                string : words[i],\n                regex  : new RegExp(regex, 'i')\n            });\n        }\n\n        return tokens;\n    };\n\n    /**\n     * Iterates over arrays and hashes.\n     *\n     * ```\n     * this.iterator(this.items, function(item, id) {\n\t *    // invoked for each item\n\t * });\n     * ```\n     *\n     * @param {array|object} object\n     */\n    Sifter.prototype.iterator = function(object, callback) {\n        var iterator;\n        if (is_array(object)) {\n            iterator = Array.prototype.forEach || function(callback) {\n                    for (var i = 0, n = this.length; i < n; i++) {\n                        callback(this[i], i, this);\n                    }\n                };\n        } else {\n            iterator = function(callback) {\n                for (var key in this) {\n                    if (this.hasOwnProperty(key)) {\n                        callback(this[key], key, this);\n                    }\n                }\n            };\n        }\n\n        iterator.apply(object, [callback]);\n    };\n\n    /**\n     * Returns a function to be used to score individual results.\n     *\n     * Good matches will have a higher score than poor matches.\n     * If an item is not a match, 0 will be returned by the function.\n     *\n     * @param {object|string} search\n     * @param {object} options (optional)\n     * @returns {function}\n     */\n    Sifter.prototype.getScoreFunction = function(search, options) {\n        var self, fields, tokens, token_count;\n\n        self        = this;\n        search      = self.prepareSearch(search, options);\n        tokens      = search.tokens;\n        fields      = search.options.fields;\n        token_count = tokens.length;\n\n        /**\n         * Calculates how close of a match the\n         * given value is against a search token.\n         *\n         * @param {mixed} value\n         * @param {object} token\n         * @return {number}\n         */\n        var scoreValue = function(value, token) {\n            var score, pos;\n\n            if (!value) return 0;\n            value = String(value || '');\n            pos = value.search(token.regex);\n            if (pos === -1) return 0;\n            score = token.string.length / value.length;\n            if (pos === 0) score += 0.5;\n            return score;\n        };\n\n        /**\n         * Calculates the score of an object\n         * against the search query.\n         *\n         * @param {object} token\n         * @param {object} data\n         * @return {number}\n         */\n        var scoreObject = (function() {\n            var field_count = fields.length;\n            if (!field_count) {\n                return function() { return 0; };\n            }\n            if (field_count === 1) {\n                return function(token, data) {\n                    return scoreValue(data[fields[0]], token);\n                };\n            }\n            return function(token, data) {\n                for (var i = 0, sum = 0; i < field_count; i++) {\n                    sum += scoreValue(data[fields[i]], token);\n                }\n                return sum / field_count;\n            };\n        })();\n\n        if (!token_count) {\n            return function() { return 0; };\n        }\n        if (token_count === 1) {\n            return function(data) {\n                return scoreObject(tokens[0], data);\n            };\n        }\n\n        if (search.options.conjunction === 'and') {\n            return function(data) {\n                var score;\n                for (var i = 0, sum = 0; i < token_count; i++) {\n                    score = scoreObject(tokens[i], data);\n                    if (score <= 0) return 0;\n                    sum += score;\n                }\n                return sum / token_count;\n            };\n        } else {\n            return function(data) {\n                for (var i = 0, sum = 0; i < token_count; i++) {\n                    sum += scoreObject(tokens[i], data);\n                }\n                return sum / token_count;\n            };\n        }\n    };\n\n    /**\n     * Returns a function that can be used to compare two\n     * results, for sorting purposes. If no sorting should\n     * be performed, `null` will be returned.\n     *\n     * @param {string|object} search\n     * @param {object} options\n     * @return function(a,b)\n     */\n    Sifter.prototype.getSortFunction = function(search, options) {\n        var i, n, self, field, fields, fields_count, multiplier, multipliers, get_field, implicit_score, sort;\n\n        self   = this;\n        search = self.prepareSearch(search, options);\n        sort   = (!search.query && options.sort_empty) || options.sort;\n\n        /**\n         * Fetches the specified sort field value\n         * from a search result item.\n         *\n         * @param  {string} name\n         * @param  {object} result\n         * @return {mixed}\n         */\n        get_field = function(name, result) {\n            if (name === '$score') return result.score;\n            return self.items[result.id][name];\n        };\n\n        // parse options\n        fields = [];\n        if (sort) {\n            for (i = 0, n = sort.length; i < n; i++) {\n                if (search.query || sort[i].field !== '$score') {\n                    fields.push(sort[i]);\n                }\n            }\n        }\n\n        // the \"$score\" field is implied to be the primary\n        // sort field, unless it's manually specified\n        if (search.query) {\n            implicit_score = true;\n            for (i = 0, n = fields.length; i < n; i++) {\n                if (fields[i].field === '$score') {\n                    implicit_score = false;\n                    break;\n                }\n            }\n            if (implicit_score) {\n                fields.unshift({field: '$score', direction: 'desc'});\n            }\n        } else {\n            for (i = 0, n = fields.length; i < n; i++) {\n                if (fields[i].field === '$score') {\n                    fields.splice(i, 1);\n                    break;\n                }\n            }\n        }\n\n        multipliers = [];\n        for (i = 0, n = fields.length; i < n; i++) {\n            multipliers.push(fields[i].direction === 'desc' ? -1 : 1);\n        }\n\n        // build function\n        fields_count = fields.length;\n        if (!fields_count) {\n            return null;\n        } else if (fields_count === 1) {\n            field = fields[0].field;\n            multiplier = multipliers[0];\n            return function(a, b) {\n                return multiplier * cmp(\n                        get_field(field, a),\n                        get_field(field, b)\n                    );\n            };\n        } else {\n            return function(a, b) {\n                var i, result, a_value, b_value, field;\n                for (i = 0; i < fields_count; i++) {\n                    field = fields[i].field;\n                    result = multipliers[i] * cmp(\n                            get_field(field, a),\n                            get_field(field, b)\n                        );\n                    if (result) return result;\n                }\n                return 0;\n            };\n        }\n    };\n\n    /**\n     * Parses a search query and returns an object\n     * with tokens and fields ready to be populated\n     * with results.\n     *\n     * @param {string} query\n     * @param {object} options\n     * @returns {object}\n     */\n    Sifter.prototype.prepareSearch = function(query, options) {\n        if (typeof query === 'object') return query;\n\n        options = extend({}, options);\n\n        var option_fields     = options.fields;\n        var option_sort       = options.sort;\n        var option_sort_empty = options.sort_empty;\n\n        if (option_fields && !is_array(option_fields)) options.fields = [option_fields];\n        if (option_sort && !is_array(option_sort)) options.sort = [option_sort];\n        if (option_sort_empty && !is_array(option_sort_empty)) options.sort_empty = [option_sort_empty];\n\n        return {\n            options : options,\n            query   : String(query || '').toLowerCase(),\n            tokens  : this.tokenize(query),\n            total   : 0,\n            items   : []\n        };\n    };\n\n    /**\n     * Searches through all items and returns a sorted array of matches.\n     *\n     * The `options` parameter can contain:\n     *\n     *   - fields {string|array}\n     *   - sort {array}\n     *   - score {function}\n     *   - filter {bool}\n     *   - limit {integer}\n     *\n     * Returns an object containing:\n     *\n     *   - options {object}\n     *   - query {string}\n     *   - tokens {array}\n     *   - total {int}\n     *   - items {array}\n     *\n     * @param {string} query\n     * @param {object} options\n     * @returns {object}\n     */\n    Sifter.prototype.search = function(query, options) {\n        var self = this, value, score, search, calculateScore;\n        var fn_sort;\n        var fn_score;\n\n        search  = this.prepareSearch(query, options);\n        options = search.options;\n        query   = search.query;\n\n        // generate result scoring function\n        fn_score = options.score || self.getScoreFunction(search);\n\n        // perform search and sort\n        if (query.length) {\n            self.iterator(self.items, function(item, id) {\n                score = fn_score(item);\n                if (options.filter === false || score > 0) {\n                    search.items.push({'score': score, 'id': id});\n                }\n            });\n        } else {\n            self.iterator(self.items, function(item, id) {\n                search.items.push({'score': 1, 'id': id});\n            });\n        }\n\n        fn_sort = self.getSortFunction(search, options);\n        if (fn_sort) search.items.sort(fn_sort);\n\n        // apply limits\n        search.total = search.items.length;\n        if (typeof options.limit === 'number') {\n            search.items = search.items.slice(0, options.limit);\n        }\n\n        return search;\n    };\n\n    // utilities\n    // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n    var cmp = function(a, b) {\n        if (typeof a === 'number' && typeof b === 'number') {\n            return a > b ? 1 : (a < b ? -1 : 0);\n        }\n        a = asciifold(String(a || ''));\n        b = asciifold(String(b || ''));\n        if (a > b) return 1;\n        if (b > a) return -1;\n        return 0;\n    };\n\n    var extend = function(a, b) {\n        var i, n, k, object;\n        for (i = 1, n = arguments.length; i < n; i++) {\n            object = arguments[i];\n            if (!object) continue;\n            for (k in object) {\n                if (object.hasOwnProperty(k)) {\n                    a[k] = object[k];\n                }\n            }\n        }\n        return a;\n    };\n\n    var trim = function(str) {\n        return (str + '').replace(/^\\s+|\\s+$|/g, '');\n    };\n\n    var escape_regex = function(str) {\n        return (str + '').replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n    };\n\n    var is_array = Array.isArray || ($ && $.isArray) || function(object) {\n            return Object.prototype.toString.call(object) === '[object Array]';\n        };\n\n    var DIACRITICS = {\n        'a': '[aÀÁÂÃÄÅàáâãäåĀāąĄ]',\n        'c': '[cÇçćĆčČ]',\n        'd': '[dđĐďĎ]',\n        'e': '[eÈÉÊËèéêëěĚĒēęĘ]',\n        'i': '[iÌÍÎÏìíîïĪī]',\n        'l': '[lłŁ]',\n        'n': '[nÑñňŇńŃ]',\n        'o': '[oÒÓÔÕÕÖØòóôõöøŌō]',\n        'r': '[rřŘ]',\n        's': '[sŠšśŚ]',\n        't': '[tťŤ]',\n        'u': '[uÙÚÛÜùúûüůŮŪū]',\n        'y': '[yŸÿýÝ]',\n        'z': '[zŽžżŻźŹ]'\n    };\n\n    var asciifold = (function() {\n        var i, n, k, chunk;\n        var foreignletters = '';\n        var lookup = {};\n        for (k in DIACRITICS) {\n            if (DIACRITICS.hasOwnProperty(k)) {\n                chunk = DIACRITICS[k].substring(2, DIACRITICS[k].length - 1);\n                foreignletters += chunk;\n                for (i = 0, n = chunk.length; i < n; i++) {\n                    lookup[chunk.charAt(i)] = k;\n                }\n            }\n        }\n        var regexp = new RegExp('[' +  foreignletters + ']', 'g');\n        return function(str) {\n            return str.replace(regexp, function(foreignletter) {\n                return lookup[foreignletter];\n            }).toLowerCase();\n        };\n    })();\n\n\n    // export\n    // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n    return Sifter;\n}));\n\n\n\n/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n(function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define('microplugin', factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.MicroPlugin = factory();\n    }\n}(this, function() {\n    var MicroPlugin = {};\n\n    MicroPlugin.mixin = function(Interface) {\n        Interface.plugins = {};\n\n        /**\n         * Initializes the listed plugins (with options).\n         * Acceptable formats:\n         *\n         * List (without options):\n         *   ['a', 'b', 'c']\n         *\n         * List (with options):\n         *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n         *\n         * Hash (with options):\n         *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n         *\n         * @param {mixed} plugins\n         */\n        Interface.prototype.initializePlugins = function(plugins) {\n            var i, n, key;\n            var self  = this;\n            var queue = [];\n\n            self.plugins = {\n                names     : [],\n                settings  : {},\n                requested : {},\n                loaded    : {}\n            };\n\n            if (utils.isArray(plugins)) {\n                for (i = 0, n = plugins.length; i < n; i++) {\n                    if (typeof plugins[i] === 'string') {\n                        queue.push(plugins[i]);\n                    } else {\n                        self.plugins.settings[plugins[i].name] = plugins[i].options;\n                        queue.push(plugins[i].name);\n                    }\n                }\n            } else if (plugins) {\n                for (key in plugins) {\n                    if (plugins.hasOwnProperty(key)) {\n                        self.plugins.settings[key] = plugins[key];\n                        queue.push(key);\n                    }\n                }\n            }\n\n            while (queue.length) {\n                self.require(queue.shift());\n            }\n        };\n\n        Interface.prototype.loadPlugin = function(name) {\n            var self    = this;\n            var plugins = self.plugins;\n            var plugin  = Interface.plugins[name];\n\n            if (!Interface.plugins.hasOwnProperty(name)) {\n                throw new Error('Unable to find \"' +  name + '\" plugin');\n            }\n\n            plugins.requested[name] = true;\n            plugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n            plugins.names.push(name);\n        };\n\n        /**\n         * Initializes a plugin.\n         *\n         * @param {string} name\n         */\n        Interface.prototype.require = function(name) {\n            var self = this;\n            var plugins = self.plugins;\n\n            if (!self.plugins.loaded.hasOwnProperty(name)) {\n                if (plugins.requested[name]) {\n                    throw new Error('Plugin has circular dependency (\"' + name + '\")');\n                }\n                self.loadPlugin(name);\n            }\n\n            return plugins.loaded[name];\n        };\n\n        /**\n         * Registers a plugin.\n         *\n         * @param {string} name\n         * @param {function} fn\n         */\n        Interface.define = function(name, fn) {\n            Interface.plugins[name] = {\n                'name' : name,\n                'fn'   : fn\n            };\n        };\n    };\n\n    var utils = {\n        isArray: Array.isArray || function(vArg) {\n            return Object.prototype.toString.call(vArg) === '[object Array]';\n        }\n    };\n\n    return MicroPlugin;\n}));\n\n/**\n * selectize.js (v0.12.1)\n * Copyright (c) 2013–2015 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\n/*jshint curly:false */\n/*jshint browser:true */\n\n(function(root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define('selectize', ['jquery','sifter','microplugin'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('jquery'), require('sifter'), require('microplugin'));\n    } else {\n        root.Selectize = factory(root.jQuery, root.Sifter, root.MicroPlugin);\n    }\n}(this, function($, Sifter, MicroPlugin) {\n    'use strict';\n\n    var highlight = function($element, pattern) {\n        if (typeof pattern === 'string' && !pattern.length) return;\n        var regex = (typeof pattern === 'string') ? new RegExp(pattern, 'i') : pattern;\n\n        var highlight = function(node) {\n            var skip = 0;\n            if (node.nodeType === 3) {\n                var pos = node.data.search(regex);\n                if (pos >= 0 && node.data.length > 0) {\n                    var match = node.data.match(regex);\n                    var spannode = document.createElement('span');\n                    spannode.className = 'highlight';\n                    var middlebit = node.splitText(pos);\n                    var endbit = middlebit.splitText(match[0].length);\n                    var middleclone = middlebit.cloneNode(true);\n                    spannode.appendChild(middleclone);\n                    middlebit.parentNode.replaceChild(spannode, middlebit);\n                    skip = 1;\n                }\n            } else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) {\n                for (var i = 0; i < node.childNodes.length; ++i) {\n                    i += highlight(node.childNodes[i]);\n                }\n            }\n            return skip;\n        };\n\n        return $element.each(function() {\n            highlight(this);\n        });\n    };\n\n    var MicroEvent = function() {};\n    MicroEvent.prototype = {\n        on: function(event, fct){\n            this._events = this._events || {};\n            this._events[event] = this._events[event] || [];\n            this._events[event].push(fct);\n        },\n        off: function(event, fct){\n            var n = arguments.length;\n            if (n === 0) return delete this._events;\n            if (n === 1) return delete this._events[event];\n\n            this._events = this._events || {};\n            if (event in this._events === false) return;\n            this._events[event].splice(this._events[event].indexOf(fct), 1);\n        },\n        trigger: function(event /* , args... */){\n            this._events = this._events || {};\n            if (event in this._events === false) return;\n            for (var i = 0; i < this._events[event].length; i++){\n                this._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n            }\n        }\n    };\n\n    /**\n     * Mixin will delegate all MicroEvent.js function in the destination object.\n     *\n     * - MicroEvent.mixin(Foobar) will make Foobar able to use MicroEvent\n     *\n     * @param {object} the object which will support MicroEvent\n     */\n    MicroEvent.mixin = function(destObject){\n        var props = ['on', 'off', 'trigger'];\n        for (var i = 0; i < props.length; i++){\n            destObject.prototype[props[i]] = MicroEvent.prototype[props[i]];\n        }\n    };\n\n    var IS_MAC        = /Mac/.test(navigator.userAgent);\n\n    var KEY_A         = 65;\n    var KEY_COMMA     = 188;\n    var KEY_RETURN    = 13;\n    var KEY_ESC       = 27;\n    var KEY_LEFT      = 37;\n    var KEY_UP        = 38;\n    var KEY_P         = 80;\n    var KEY_RIGHT     = 39;\n    var KEY_DOWN      = 40;\n    var KEY_N         = 78;\n    var KEY_BACKSPACE = 8;\n    var KEY_DELETE    = 46;\n    var KEY_SHIFT     = 16;\n    var KEY_CMD       = IS_MAC ? 91 : 17;\n    var KEY_CTRL      = IS_MAC ? 18 : 17;\n    var KEY_TAB       = 9;\n\n    var TAG_SELECT    = 1;\n    var TAG_INPUT     = 2;\n\n    // for now, android support in general is too spotty to support validity\n    var SUPPORTS_VALIDITY_API = !/android/i.test(window.navigator.userAgent) && !!document.createElement('form').validity;\n\n    var isset = function(object) {\n        return typeof object !== 'undefined';\n    };\n\n    /**\n     * Converts a scalar to its best string representation\n     * for hash keys and HTML attribute values.\n     *\n     * Transformations:\n     *   'str'     -> 'str'\n     *   null      -> ''\n     *   undefined -> ''\n     *   true      -> '1'\n     *   false     -> '0'\n     *   0         -> '0'\n     *   1         -> '1'\n     *\n     * @param {string} value\n     * @returns {string|null}\n     */\n    var hash_key = function(value) {\n        if (typeof value === 'undefined' || value === null) return null;\n        if (typeof value === 'boolean') return value ? '1' : '0';\n        return value + '';\n    };\n\n    /**\n     * Escapes a string for use within HTML.\n     *\n     * @param {string} str\n     * @returns {string}\n     */\n    var escape_html = function(str) {\n        return (str + '')\n            .replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;');\n    };\n\n    /**\n     * Escapes \"$\" characters in replacement strings.\n     *\n     * @param {string} str\n     * @returns {string}\n     */\n    var escape_replace = function(str) {\n        return (str + '').replace(/\\$/g, '$$$$');\n    };\n\n    var hook = {};\n\n    /**\n     * Wraps `method` on `self` so that `fn`\n     * is invoked before the original method.\n     *\n     * @param {object} self\n     * @param {string} method\n     * @param {function} fn\n     */\n    hook.before = function(self, method, fn) {\n        var original = self[method];\n        self[method] = function() {\n            fn.apply(self, arguments);\n            return original.apply(self, arguments);\n        };\n    };\n\n    /**\n     * Wraps `method` on `self` so that `fn`\n     * is invoked after the original method.\n     *\n     * @param {object} self\n     * @param {string} method\n     * @param {function} fn\n     */\n    hook.after = function(self, method, fn) {\n        var original = self[method];\n        self[method] = function() {\n            var result = original.apply(self, arguments);\n            fn.apply(self, arguments);\n            return result;\n        };\n    };\n\n    /**\n     * Wraps `fn` so that it can only be invoked once.\n     *\n     * @param {function} fn\n     * @returns {function}\n     */\n    var once = function(fn) {\n        var called = false;\n        return function() {\n            if (called) return;\n            called = true;\n            fn.apply(this, arguments);\n        };\n    };\n\n    /**\n     * Wraps `fn` so that it can only be called once\n     * every `delay` milliseconds (invoked on the falling edge).\n     *\n     * @param {function} fn\n     * @param {int} delay\n     * @returns {function}\n     */\n    var debounce = function(fn, delay) {\n        var timeout;\n        return function() {\n            var self = this;\n            var args = arguments;\n            window.clearTimeout(timeout);\n            timeout = window.setTimeout(function() {\n                fn.apply(self, args);\n            }, delay);\n        };\n    };\n\n    /**\n     * Debounce all fired events types listed in `types`\n     * while executing the provided `fn`.\n     *\n     * @param {object} self\n     * @param {array} types\n     * @param {function} fn\n     */\n    var debounce_events = function(self, types, fn) {\n        var type;\n        var trigger = self.trigger;\n        var event_args = {};\n\n        // override trigger method\n        self.trigger = function() {\n            var type = arguments[0];\n            if (types.indexOf(type) !== -1) {\n                event_args[type] = arguments;\n            } else {\n                return trigger.apply(self, arguments);\n            }\n        };\n\n        // invoke provided function\n        fn.apply(self, []);\n        self.trigger = trigger;\n\n        // trigger queued events\n        for (type in event_args) {\n            if (event_args.hasOwnProperty(type)) {\n                trigger.apply(self, event_args[type]);\n            }\n        }\n    };\n\n    /**\n     * A workaround for http://bugs.jquery.com/ticket/6696\n     *\n     * @param {object} $parent - Parent element to listen on.\n     * @param {string} event - Event name.\n     * @param {string} selector - Descendant selector to filter by.\n     * @param {function} fn - Event handler.\n     */\n    var watchChildEvent = function($parent, event, selector, fn) {\n        $parent.on(event, selector, function(e) {\n            var child = e.target;\n            while (child && child.parentNode !== $parent[0]) {\n                child = child.parentNode;\n            }\n            e.currentTarget = child;\n            return fn.apply(this, [e]);\n        });\n    };\n\n    /**\n     * Determines the current selection within a text input control.\n     * Returns an object containing:\n     *   - start\n     *   - length\n     *\n     * @param {object} input\n     * @returns {object}\n     */\n    var getSelection = function(input) {\n        var result = {};\n        if ('selectionStart' in input) {\n            result.start = input.selectionStart;\n            result.length = input.selectionEnd - result.start;\n        } else if (document.selection) {\n            input.focus();\n            var sel = document.selection.createRange();\n            var selLen = document.selection.createRange().text.length;\n            sel.moveStart('character', -input.value.length);\n            result.start = sel.text.length - selLen;\n            result.length = selLen;\n        }\n        return result;\n    };\n\n    /**\n     * Copies CSS properties from one element to another.\n     *\n     * @param {object} $from\n     * @param {object} $to\n     * @param {array} properties\n     */\n    var transferStyles = function($from, $to, properties) {\n        var i, n, styles = {};\n        if (properties) {\n            for (i = 0, n = properties.length; i < n; i++) {\n                styles[properties[i]] = $from.css(properties[i]);\n            }\n        } else {\n            styles = $from.css();\n        }\n        $to.css(styles);\n    };\n\n    /**\n     * Measures the width of a string within a\n     * parent element (in pixels).\n     *\n     * @param {string} str\n     * @param {object} $parent\n     * @returns {int}\n     */\n    var measureString = function(str, $parent) {\n        if (!str) {\n            return 0;\n        }\n\n        var $test = $('<test>').css({\n            position: 'absolute',\n            top: -99999,\n            left: -99999,\n            width: 'auto',\n            padding: 0,\n            whiteSpace: 'pre'\n        }).text(str).appendTo('body');\n\n        transferStyles($parent, $test, [\n            'letterSpacing',\n            'fontSize',\n            'fontFamily',\n            'fontWeight',\n            'textTransform'\n        ]);\n\n        var width = $test.width();\n        $test.remove();\n\n        return width;\n    };\n\n    /**\n     * Sets up an input to grow horizontally as the user\n     * types. If the value is changed manually, you can\n     * trigger the \"update\" handler to resize:\n     *\n     * $input.trigger('update');\n     *\n     * @param {object} $input\n     */\n    var autoGrow = function($input) {\n        var currentWidth = null;\n\n        var update = function(e, options) {\n            var value, keyCode, printable, placeholder, width;\n            var shift, character, selection;\n            e = e || window.event || {};\n            options = options || {};\n\n            if (e.metaKey || e.altKey) return;\n            if (!options.force && $input.data('grow') === false) return;\n\n            value = $input.val();\n            if (e.type && e.type.toLowerCase() === 'keydown') {\n                keyCode = e.keyCode;\n                printable = (\n                    (keyCode >= 97 && keyCode <= 122) || // a-z\n                    (keyCode >= 65 && keyCode <= 90)  || // A-Z\n                    (keyCode >= 48 && keyCode <= 57)  || // 0-9\n                    keyCode === 32 // space\n                );\n\n                if (keyCode === KEY_DELETE || keyCode === KEY_BACKSPACE) {\n                    selection = getSelection($input[0]);\n                    if (selection.length) {\n                        value = value.substring(0, selection.start) + value.substring(selection.start + selection.length);\n                    } else if (keyCode === KEY_BACKSPACE && selection.start) {\n                        value = value.substring(0, selection.start - 1) + value.substring(selection.start + 1);\n                    } else if (keyCode === KEY_DELETE && typeof selection.start !== 'undefined') {\n                        value = value.substring(0, selection.start) + value.substring(selection.start + 1);\n                    }\n                } else if (printable) {\n                    shift = e.shiftKey;\n                    character = String.fromCharCode(e.keyCode);\n                    if (shift) character = character.toUpperCase();\n                    else character = character.toLowerCase();\n                    value += character;\n                }\n            }\n\n            placeholder = $input.attr('placeholder');\n            if (!value && placeholder) {\n                value = placeholder;\n            }\n\n            width = measureString(value, $input) + 4;\n            if (width !== currentWidth) {\n                currentWidth = width;\n                $input.width(width);\n                $input.triggerHandler('resize');\n            }\n        };\n\n        $input.on('keydown keyup update blur', update);\n        update();\n    };\n\n    var Selectize = function($input, settings) {\n        var key, i, n, dir, input, self = this;\n        input = $input[0];\n        input.selectize = self;\n\n        // detect rtl environment\n        var computedStyle = window.getComputedStyle && window.getComputedStyle(input, null);\n        dir = computedStyle ? computedStyle.getPropertyValue('direction') : input.currentStyle && input.currentStyle.direction;\n        dir = dir || $input.parents('[dir]:first').attr('dir') || '';\n\n        // setup default state\n        $.extend(self, {\n            order            : 0,\n            settings         : settings,\n            $input           : $input,\n            tabIndex         : $input.attr('tabindex') || '',\n            tagType          : input.tagName.toLowerCase() === 'select' ? TAG_SELECT : TAG_INPUT,\n            rtl              : /rtl/i.test(dir),\n\n            eventNS          : '.selectize' + (++Selectize.count),\n            highlightedValue : null,\n            isOpen           : false,\n            isDisabled       : false,\n            isRequired       : $input.is('[required]'),\n            isInvalid        : false,\n            isLocked         : false,\n            isFocused        : false,\n            isInputHidden    : false,\n            isSetup          : false,\n            isShiftDown      : false,\n            isCmdDown        : false,\n            isCtrlDown       : false,\n            ignoreFocus      : false,\n            ignoreBlur       : false,\n            ignoreHover      : false,\n            hasOptions       : false,\n            currentResults   : null,\n            lastValue        : '',\n            caretPos         : 0,\n            loading          : 0,\n            loadedSearches   : {},\n\n            $activeOption    : null,\n            $activeItems     : [],\n\n            optgroups        : {},\n            options          : {},\n            userOptions      : {},\n            items            : [],\n            renderCache      : {},\n            onSearchChange   : settings.loadThrottle === null ? self.onSearchChange : debounce(self.onSearchChange, settings.loadThrottle)\n        });\n\n        // search system\n        self.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\n        // build options table\n        if (self.settings.options) {\n            for (i = 0, n = self.settings.options.length; i < n; i++) {\n                self.registerOption(self.settings.options[i]);\n            }\n            delete self.settings.options;\n        }\n\n        // build optgroup table\n        if (self.settings.optgroups) {\n            for (i = 0, n = self.settings.optgroups.length; i < n; i++) {\n                self.registerOptionGroup(self.settings.optgroups[i]);\n            }\n            delete self.settings.optgroups;\n        }\n\n        // option-dependent defaults\n        self.settings.mode = self.settings.mode || (self.settings.maxItems === 1 ? 'single' : 'multi');\n        if (typeof self.settings.hideSelected !== 'boolean') {\n            self.settings.hideSelected = self.settings.mode === 'multi';\n        }\n\n        self.initializePlugins(self.settings.plugins);\n        self.setupCallbacks();\n        self.setupTemplates();\n        self.setup();\n    };\n\n    // mixins\n    // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n    MicroEvent.mixin(Selectize);\n    MicroPlugin.mixin(Selectize);\n\n    // methods\n    // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n    $.extend(Selectize.prototype, {\n\n        /**\n         * Creates all elements and sets up event bindings.\n         */\n        setup: function() {\n            var self      = this;\n            var settings  = self.settings;\n            var eventNS   = self.eventNS;\n            var $window   = $(window);\n            var $document = $(document);\n            var $input    = self.$input;\n\n            var $wrapper;\n            var $control;\n            var $control_input;\n            var $dropdown;\n            var $dropdown_content;\n            var $dropdown_parent;\n            var inputMode;\n            var timeout_blur;\n            var timeout_focus;\n            var classes;\n            var classes_plugins;\n\n            inputMode         = self.settings.mode;\n            classes           = $input.attr('class') || '';\n\n            $wrapper          = $('<div>').addClass(settings.wrapperClass).addClass(classes).addClass(inputMode);\n            $control          = $('<div>').addClass(settings.inputClass).addClass('items').appendTo($wrapper);\n            $control_input    = $('<input type=\"text\" autocomplete=\"off\" />').appendTo($control).attr('tabindex', $input.is(':disabled') ? '-1' : self.tabIndex);\n            $dropdown_parent  = $(settings.dropdownParent || $wrapper);\n            $dropdown         = $('<div>').addClass(settings.dropdownClass).addClass(inputMode).hide().appendTo($dropdown_parent);\n            $dropdown_content = $('<div>').addClass(settings.dropdownContentClass).appendTo($dropdown);\n\n            if(self.settings.copyClassesToDropdown) {\n                $dropdown.addClass(classes);\n            }\n\n            $wrapper.css({\n                width: $input[0].style.width\n            });\n\n            if (self.plugins.names.length) {\n                classes_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n                $wrapper.addClass(classes_plugins);\n                $dropdown.addClass(classes_plugins);\n            }\n\n            if ((settings.maxItems === null || settings.maxItems > 1) && self.tagType === TAG_SELECT) {\n                $input.attr('multiple', 'multiple');\n            }\n\n            if (self.settings.placeholder) {\n                $control_input.attr('placeholder', settings.placeholder);\n            }\n\n            // if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n            if (!self.settings.splitOn && self.settings.delimiter) {\n                var delimiterEscaped = self.settings.delimiter.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n                self.settings.splitOn = new RegExp('\\\\s*' + delimiterEscaped + '+\\\\s*');\n            }\n\n            if ($input.attr('autocorrect')) {\n                $control_input.attr('autocorrect', $input.attr('autocorrect'));\n            }\n\n            if ($input.attr('autocapitalize')) {\n                $control_input.attr('autocapitalize', $input.attr('autocapitalize'));\n            }\n\n            self.$wrapper          = $wrapper;\n            self.$control          = $control;\n            self.$control_input    = $control_input;\n            self.$dropdown         = $dropdown;\n            self.$dropdown_content = $dropdown_content;\n\n            $dropdown.on('mouseenter', '[data-selectable]', function() { return self.onOptionHover.apply(self, arguments); });\n            $dropdown.on('mousedown click', '[data-selectable]', function() { return self.onOptionSelect.apply(self, arguments); });\n            watchChildEvent($control, 'mousedown', '*:not(input)', function() { return self.onItemSelect.apply(self, arguments); });\n            autoGrow($control_input);\n\n            $control.on({\n                mousedown : function() { return self.onMouseDown.apply(self, arguments); },\n                click     : function() { return self.onClick.apply(self, arguments); }\n            });\n\n            $control_input.on({\n                mousedown : function(e) { e.stopPropagation(); },\n                keydown   : function() { return self.onKeyDown.apply(self, arguments); },\n                keyup     : function() { return self.onKeyUp.apply(self, arguments); },\n                keypress  : function() { return self.onKeyPress.apply(self, arguments); },\n                resize    : function() { self.positionDropdown.apply(self, []); },\n                blur      : function() { return self.onBlur.apply(self, arguments); },\n                focus     : function() { self.ignoreBlur = false; return self.onFocus.apply(self, arguments); },\n                paste     : function() { return self.onPaste.apply(self, arguments); }\n            });\n\n            $document.on('keydown' + eventNS, function(e) {\n                self.isCmdDown = e[IS_MAC ? 'metaKey' : 'ctrlKey'];\n                self.isCtrlDown = e[IS_MAC ? 'altKey' : 'ctrlKey'];\n                self.isShiftDown = e.shiftKey;\n            });\n\n            $document.on('keyup' + eventNS, function(e) {\n                if (e.keyCode === KEY_CTRL) self.isCtrlDown = false;\n                if (e.keyCode === KEY_SHIFT) self.isShiftDown = false;\n                if (e.keyCode === KEY_CMD) self.isCmdDown = false;\n            });\n\n            $document.on('mousedown' + eventNS, function(e) {\n                if (self.isFocused) {\n                    // prevent events on the dropdown scrollbar from causing the control to blur\n                    if (e.target === self.$dropdown[0] || e.target.parentNode === self.$dropdown[0]) {\n                        return false;\n                    }\n                    // blur on click outside\n                    if (!self.$control.has(e.target).length && e.target !== self.$control[0]) {\n                        self.blur(e.target);\n                    }\n                }\n            });\n\n            $window.on(['scroll' + eventNS, 'resize' + eventNS].join(' '), function() {\n                if (self.isOpen) {\n                    self.positionDropdown.apply(self, arguments);\n                }\n            });\n            $window.on('mousemove' + eventNS, function() {\n                self.ignoreHover = false;\n            });\n\n            // store original children and tab index so that they can be\n            // restored when the destroy() method is called.\n            this.revertSettings = {\n                $children : $input.children().detach(),\n                tabindex  : $input.attr('tabindex')\n            };\n\n            $input.attr('tabindex', -1).hide().after(self.$wrapper);\n\n            if ($.isArray(settings.items)) {\n                self.setValue(settings.items);\n                delete settings.items;\n            }\n\n            // feature detect for the validation API\n            if (SUPPORTS_VALIDITY_API) {\n                $input.on('invalid' + eventNS, function(e) {\n                    e.preventDefault();\n                    self.isInvalid = true;\n                    self.refreshState();\n                });\n            }\n\n            self.updateOriginalInput();\n            self.refreshItems();\n            self.refreshState();\n            self.updatePlaceholder();\n            self.isSetup = true;\n\n            if ($input.is(':disabled')) {\n                self.disable();\n            }\n\n            self.on('change', this.onChange);\n\n            $input.data('selectize', self);\n            $input.addClass('selectized');\n            self.trigger('initialize');\n\n            // preload options\n            if (settings.preload === true) {\n                self.onSearchChange('');\n            }\n\n        },\n\n        /**\n         * Sets up default rendering functions.\n         */\n        setupTemplates: function() {\n            var self = this;\n            var field_label = self.settings.labelField;\n            var field_optgroup = self.settings.optgroupLabelField;\n\n            var templates = {\n                'optgroup': function(data) {\n                    return '<div class=\"optgroup\">' + data.html + '</div>';\n                },\n                'optgroup_header': function(data, escape) {\n                    return '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n                },\n                'option': function(data, escape) {\n                    return '<div class=\"option\">' + escape(data[field_label]) + '</div>';\n                },\n                'item': function(data, escape) {\n                    return '<div class=\"item\">' + escape(data[field_label]) + '</div>';\n                },\n                'option_create': function(data, escape) {\n                    return '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n                }\n            };\n\n            self.settings.render = $.extend({}, templates, self.settings.render);\n        },\n\n        /**\n         * Maps fired events to callbacks provided\n         * in the settings used when creating the control.\n         */\n        setupCallbacks: function() {\n            var key, fn, callbacks = {\n                'initialize'      : 'onInitialize',\n                'change'          : 'onChange',\n                'item_add'        : 'onItemAdd',\n                'item_remove'     : 'onItemRemove',\n                'clear'           : 'onClear',\n                'option_add'      : 'onOptionAdd',\n                'option_remove'   : 'onOptionRemove',\n                'option_clear'    : 'onOptionClear',\n                'optgroup_add'    : 'onOptionGroupAdd',\n                'optgroup_remove' : 'onOptionGroupRemove',\n                'optgroup_clear'  : 'onOptionGroupClear',\n                'dropdown_open'   : 'onDropdownOpen',\n                'dropdown_close'  : 'onDropdownClose',\n                'type'            : 'onType',\n                'load'            : 'onLoad',\n                'focus'           : 'onFocus',\n                'blur'            : 'onBlur'\n            };\n\n            for (key in callbacks) {\n                if (callbacks.hasOwnProperty(key)) {\n                    fn = this.settings[callbacks[key]];\n                    if (fn) this.on(key, fn);\n                }\n            }\n        },\n\n        /**\n         * Triggered when the main control element\n         * has a click event.\n         *\n         * @param {object} e\n         * @return {boolean}\n         */\n        onClick: function(e) {\n            var self = this;\n\n            // necessary for mobile webkit devices (manual focus triggering\n            // is ignored unless invoked within a click event)\n            if (!self.isFocused) {\n                self.focus();\n                e.preventDefault();\n            }\n        },\n\n        /**\n         * Triggered when the main control element\n         * has a mouse down event.\n         *\n         * @param {object} e\n         * @return {boolean}\n         */\n        onMouseDown: function(e) {\n            var self = this;\n            var defaultPrevented = e.isDefaultPrevented();\n            var $target = $(e.target);\n\n            if (self.isFocused) {\n                // retain focus by preventing native handling. if the\n                // event target is the input it should not be modified.\n                // otherwise, text selection within the input won't work.\n                if (e.target !== self.$control_input[0]) {\n                    if (self.settings.mode === 'single') {\n                        // toggle dropdown\n                        self.isOpen ? self.close() : self.open();\n                    } else if (!defaultPrevented) {\n                        self.setActiveItem(null);\n                    }\n                    return false;\n                }\n            } else {\n                // give control focus\n                if (!defaultPrevented) {\n                    window.setTimeout(function() {\n                        self.focus();\n                    }, 0);\n                }\n            }\n        },\n\n        /**\n         * Triggered when the value of the control has been changed.\n         * This should propagate the event to the original DOM\n         * input / select element.\n         */\n        onChange: function() {\n            this.$input.trigger('change');\n        },\n\n        /**\n         * Triggered on <input> paste.\n         *\n         * @param {object} e\n         * @returns {boolean}\n         */\n        onPaste: function(e) {\n            var self = this;\n            if (self.isFull() || self.isInputHidden || self.isLocked) {\n                e.preventDefault();\n            } else {\n                // If a regex or string is included, this will split the pasted\n                // input and create Items for each separate value\n                if (self.settings.splitOn) {\n                    setTimeout(function() {\n                        var splitInput = $.trim(self.$control_input.val() || '').split(self.settings.splitOn);\n                        for (var i = 0, n = splitInput.length; i < n; i++) {\n                            self.createItem(splitInput[i]);\n                        }\n                    }, 0);\n                }\n            }\n        },\n\n        /**\n         * Triggered on <input> keypress.\n         *\n         * @param {object} e\n         * @returns {boolean}\n         */\n        onKeyPress: function(e) {\n            if (this.isLocked) return e && e.preventDefault();\n            var character = String.fromCharCode(e.keyCode || e.which);\n            if (this.settings.create && this.settings.mode === 'multi' && character === this.settings.delimiter) {\n                this.createItem();\n                e.preventDefault();\n                return false;\n            }\n        },\n\n        /**\n         * Triggered on <input> keydown.\n         *\n         * @param {object} e\n         * @returns {boolean}\n         */\n        onKeyDown: function(e) {\n            var isInput = e.target === this.$control_input[0];\n            var self = this;\n\n            if (self.isLocked) {\n                if (e.keyCode !== KEY_TAB) {\n                    e.preventDefault();\n                }\n                return;\n            }\n\n            switch (e.keyCode) {\n                case KEY_A:\n                    if (self.isCmdDown) {\n                        self.selectAll();\n                        return;\n                    }\n                    break;\n                case KEY_ESC:\n                    if (self.isOpen) {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        self.close();\n                    }\n                    return;\n                case KEY_N:\n                    if (!e.ctrlKey || e.altKey) break;\n                case KEY_DOWN:\n                    if (!self.isOpen && self.hasOptions) {\n                        self.open();\n                    } else if (self.$activeOption) {\n                        self.ignoreHover = true;\n                        var $next = self.getAdjacentOption(self.$activeOption, 1);\n                        if ($next.length) self.setActiveOption($next, true, true);\n                    }\n                    e.preventDefault();\n                    return;\n                case KEY_P:\n                    if (!e.ctrlKey || e.altKey) break;\n                case KEY_UP:\n                    if (self.$activeOption) {\n                        self.ignoreHover = true;\n                        var $prev = self.getAdjacentOption(self.$activeOption, -1);\n                        if ($prev.length) self.setActiveOption($prev, true, true);\n                    }\n                    e.preventDefault();\n                    return;\n                case KEY_RETURN:\n                    if (self.isOpen && self.$activeOption) {\n                        self.onOptionSelect({currentTarget: self.$activeOption});\n                        e.preventDefault();\n                    }\n                    return;\n                case KEY_LEFT:\n                    self.advanceSelection(-1, e);\n                    return;\n                case KEY_RIGHT:\n                    self.advanceSelection(1, e);\n                    return;\n                case KEY_TAB:\n                    if (self.settings.selectOnTab && self.isOpen && self.$activeOption) {\n                        self.onOptionSelect({currentTarget: self.$activeOption});\n\n                        // Default behaviour is to jump to the next field, we only want this\n                        // if the current field doesn't accept any more entries\n                        if (!self.isFull()) {\n                            e.preventDefault();\n                        }\n                    }\n                    if (self.settings.create && self.createItem()) {\n                        e.preventDefault();\n                    }\n                    return;\n                case KEY_BACKSPACE:\n                case KEY_DELETE:\n                    self.deleteSelection(e);\n                    return;\n            }\n\n            if ((self.isFull() || self.isInputHidden) && !(IS_MAC ? e.metaKey : e.ctrlKey)) {\n                e.preventDefault();\n                return;\n            }\n        },\n\n        /**\n         * Triggered on <input> keyup.\n         *\n         * @param {object} e\n         * @returns {boolean}\n         */\n        onKeyUp: function(e) {\n            var self = this;\n\n            if (self.isLocked) return e && e.preventDefault();\n            var value = self.$control_input.val() || '';\n            if (self.lastValue !== value) {\n                self.lastValue = value;\n                self.onSearchChange(value);\n                self.refreshOptions();\n                self.trigger('type', value);\n            }\n        },\n\n        /**\n         * Invokes the user-provide option provider / loader.\n         *\n         * Note: this function is debounced in the Selectize\n         * constructor (by `settings.loadDelay` milliseconds)\n         *\n         * @param {string} value\n         */\n        onSearchChange: function(value) {\n            var self = this;\n            var fn = self.settings.load;\n            if (!fn) return;\n            if (self.loadedSearches.hasOwnProperty(value)) return;\n            self.loadedSearches[value] = true;\n            self.load(function(callback) {\n                fn.apply(self, [value, callback]);\n            });\n        },\n\n        /**\n         * Triggered on <input> focus.\n         *\n         * @param {object} e (optional)\n         * @returns {boolean}\n         */\n        onFocus: function(e) {\n            var self = this;\n            var wasFocused = self.isFocused;\n\n            if (self.isDisabled) {\n                self.blur();\n                e && e.preventDefault();\n                return false;\n            }\n\n            if (self.ignoreFocus) return;\n            self.isFocused = true;\n            if (self.settings.preload === 'focus') self.onSearchChange('');\n\n            if (!wasFocused) self.trigger('focus');\n\n            if (!self.$activeItems.length) {\n                self.showInput();\n                self.setActiveItem(null);\n                self.refreshOptions(!!self.settings.openOnFocus);\n            }\n\n            self.refreshState();\n        },\n\n        /**\n         * Triggered on <input> blur.\n         *\n         * @param {object} e\n         * @param {Element} dest\n         */\n        onBlur: function(e, dest) {\n            var self = this;\n            if (!self.isFocused) return;\n            self.isFocused = false;\n\n            if (self.ignoreFocus) {\n                return;\n            } else if (!self.ignoreBlur && document.activeElement === self.$dropdown_content[0]) {\n                // necessary to prevent IE closing the dropdown when the scrollbar is clicked\n                self.ignoreBlur = true;\n                self.onFocus(e);\n                return;\n            }\n\n            var deactivate = function() {\n                self.close();\n                self.setTextboxValue('');\n                self.setActiveItem(null);\n                self.setActiveOption(null);\n                self.setCaret(self.items.length);\n                self.refreshState();\n\n                // IE11 bug: element still marked as active\n                (dest || document.body).focus();\n\n                self.ignoreFocus = false;\n                self.trigger('blur');\n            };\n\n            self.ignoreFocus = true;\n            if (self.settings.create && self.settings.createOnBlur) {\n                self.createItem(null, false, deactivate);\n            } else {\n                deactivate();\n            }\n        },\n\n        /**\n         * Triggered when the user rolls over\n         * an option in the autocomplete dropdown menu.\n         *\n         * @param {object} e\n         * @returns {boolean}\n         */\n        onOptionHover: function(e) {\n            if (this.ignoreHover) return;\n            this.setActiveOption(e.currentTarget, false);\n        },\n\n        /**\n         * Triggered when the user clicks on an option\n         * in the autocomplete dropdown menu.\n         *\n         * @param {object} e\n         * @returns {boolean}\n         */\n        onOptionSelect: function(e) {\n            var value, $target, $option, self = this;\n\n            if (e.preventDefault) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n\n            $target = $(e.currentTarget);\n            if ($target.hasClass('create')) {\n                self.createItem(null, function() {\n                    if (self.settings.closeAfterSelect) {\n                        self.close();\n                    }\n                });\n            } else {\n                value = $target.attr('data-value');\n                if (typeof value !== 'undefined') {\n                    self.lastQuery = null;\n                    self.setTextboxValue('');\n                    self.addItem(value);\n                    if (self.settings.closeAfterSelect) {\n                        self.close();\n                    } else if (!self.settings.hideSelected && e.type && /mouse/.test(e.type)) {\n                        self.setActiveOption(self.getOption(value));\n                    }\n                }\n            }\n        },\n\n        /**\n         * Triggered when the user clicks on an item\n         * that has been selected.\n         *\n         * @param {object} e\n         * @returns {boolean}\n         */\n        onItemSelect: function(e) {\n            var self = this;\n\n            if (self.isLocked) return;\n            if (self.settings.mode === 'multi') {\n                e.preventDefault();\n                self.setActiveItem(e.currentTarget, e);\n            }\n        },\n\n        /**\n         * Invokes the provided method that provides\n         * results to a callback---which are then added\n         * as options to the control.\n         *\n         * @param {function} fn\n         */\n        load: function(fn) {\n            var self = this;\n            var $wrapper = self.$wrapper.addClass(self.settings.loadingClass);\n\n            self.loading++;\n            fn.apply(self, [function(results) {\n                self.loading = Math.max(self.loading - 1, 0);\n                if (results && results.length) {\n                    self.addOption(results);\n                    self.refreshOptions(self.isFocused && !self.isInputHidden);\n                }\n                if (!self.loading) {\n                    $wrapper.removeClass(self.settings.loadingClass);\n                }\n                self.trigger('load', results);\n            }]);\n        },\n\n        /**\n         * Sets the input field of the control to the specified value.\n         *\n         * @param {string} value\n         */\n        setTextboxValue: function(value) {\n            var $input = this.$control_input;\n            var changed = $input.val() !== value;\n            if (changed) {\n                $input.val(value).triggerHandler('update');\n                this.lastValue = value;\n            }\n        },\n\n        /**\n         * Returns the value of the control. If multiple items\n         * can be selected (e.g. <select multiple>), this returns\n         * an array. If only one item can be selected, this\n         * returns a string.\n         *\n         * @returns {mixed}\n         */\n        getValue: function() {\n            if (this.tagType === TAG_SELECT && this.$input.attr('multiple')) {\n                return this.items;\n            } else {\n                return this.items.join(this.settings.delimiter);\n            }\n        },\n\n        /**\n         * Resets the selected items to the given value.\n         *\n         * @param {mixed} value\n         */\n        setValue: function(value, silent) {\n            var events = silent ? [] : ['change'];\n\n            debounce_events(this, events, function() {\n                this.clear(silent);\n                this.addItems(value, silent);\n            });\n        },\n\n        /**\n         * Sets the selected item.\n         *\n         * @param {object} $item\n         * @param {object} e (optional)\n         */\n        setActiveItem: function($item, e) {\n            var self = this;\n            var eventName;\n            var i, idx, begin, end, item, swap;\n            var $last;\n\n            if (self.settings.mode === 'single') return;\n            $item = $($item);\n\n            // clear the active selection\n            if (!$item.length) {\n                $(self.$activeItems).removeClass('active');\n                self.$activeItems = [];\n                if (self.isFocused) {\n                    self.showInput();\n                }\n                return;\n            }\n\n            // modify selection\n            eventName = e && e.type.toLowerCase();\n\n            if (eventName === 'mousedown' && self.isShiftDown && self.$activeItems.length) {\n                $last = self.$control.children('.active:last');\n                begin = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$last[0]]);\n                end   = Array.prototype.indexOf.apply(self.$control[0].childNodes, [$item[0]]);\n                if (begin > end) {\n                    swap  = begin;\n                    begin = end;\n                    end   = swap;\n                }\n                for (i = begin; i <= end; i++) {\n                    item = self.$control[0].childNodes[i];\n                    if (self.$activeItems.indexOf(item) === -1) {\n                        $(item).addClass('active');\n                        self.$activeItems.push(item);\n                    }\n                }\n                e.preventDefault();\n            } else if ((eventName === 'mousedown' && self.isCtrlDown) || (eventName === 'keydown' && this.isShiftDown)) {\n                if ($item.hasClass('active')) {\n                    idx = self.$activeItems.indexOf($item[0]);\n                    self.$activeItems.splice(idx, 1);\n                    $item.removeClass('active');\n                } else {\n                    self.$activeItems.push($item.addClass('active')[0]);\n                }\n            } else {\n                $(self.$activeItems).removeClass('active');\n                self.$activeItems = [$item.addClass('active')[0]];\n            }\n\n            // ensure control has focus\n            self.hideInput();\n            if (!this.isFocused) {\n                self.focus();\n            }\n        },\n\n        /**\n         * Sets the selected item in the dropdown menu\n         * of available options.\n         *\n         * @param {object} $object\n         * @param {boolean} scroll\n         * @param {boolean} animate\n         */\n        setActiveOption: function($option, scroll, animate) {\n            var height_menu, height_item, y;\n            var scroll_top, scroll_bottom;\n            var self = this;\n\n            if (self.$activeOption) self.$activeOption.removeClass('active');\n            self.$activeOption = null;\n\n            $option = $($option);\n            if (!$option.length) return;\n\n            self.$activeOption = $option.addClass('active');\n\n            if (scroll || !isset(scroll)) {\n\n                height_menu   = self.$dropdown_content.height();\n                height_item   = self.$activeOption.outerHeight(true);\n                scroll        = self.$dropdown_content.scrollTop() || 0;\n                y             = self.$activeOption.offset().top - self.$dropdown_content.offset().top + scroll;\n                scroll_top    = y;\n                scroll_bottom = y - height_menu + height_item;\n\n                if (y + height_item > height_menu + scroll) {\n                    self.$dropdown_content.stop().animate({scrollTop: scroll_bottom}, animate ? self.settings.scrollDuration : 0);\n                } else if (y < scroll) {\n                    self.$dropdown_content.stop().animate({scrollTop: scroll_top}, animate ? self.settings.scrollDuration : 0);\n                }\n\n            }\n        },\n\n        /**\n         * Selects all items (CTRL + A).\n         */\n        selectAll: function() {\n            var self = this;\n            if (self.settings.mode === 'single') return;\n\n            self.$activeItems = Array.prototype.slice.apply(self.$control.children(':not(input)').addClass('active'));\n            if (self.$activeItems.length) {\n                self.hideInput();\n                self.close();\n            }\n            self.focus();\n        },\n\n        /**\n         * Hides the input element out of view, while\n         * retaining its focus.\n         */\n        hideInput: function() {\n            var self = this;\n\n            self.setTextboxValue('');\n            self.$control_input.css({opacity: 0, position: 'absolute', left: self.rtl ? 10000 : -10000});\n            self.isInputHidden = true;\n        },\n\n        /**\n         * Restores input visibility.\n         */\n        showInput: function() {\n            this.$control_input.css({opacity: 1, position: 'relative', left: 0});\n            this.isInputHidden = false;\n        },\n\n        /**\n         * Gives the control focus.\n         */\n        focus: function() {\n            var self = this;\n            if (self.isDisabled) return;\n\n            self.ignoreFocus = true;\n            self.$control_input[0].focus();\n            window.setTimeout(function() {\n                self.ignoreFocus = false;\n                self.onFocus();\n            }, 0);\n        },\n\n        /**\n         * Forces the control out of focus.\n         *\n         * @param {Element} dest\n         */\n        blur: function(dest) {\n            this.$control_input[0].blur();\n            this.onBlur(null, dest);\n        },\n\n        /**\n         * Returns a function that scores an object\n         * to show how good of a match it is to the\n         * provided query.\n         *\n         * @param {string} query\n         * @param {object} options\n         * @return {function}\n         */\n        getScoreFunction: function(query) {\n            return this.sifter.getScoreFunction(query, this.getSearchOptions());\n        },\n\n        /**\n         * Returns search options for sifter (the system\n         * for scoring and sorting results).\n         *\n         * @see https://github.com/brianreavis/sifter.js\n         * @return {object}\n         */\n        getSearchOptions: function() {\n            var settings = this.settings;\n            var sort = settings.sortField;\n            if (typeof sort === 'string') {\n                sort = [{field: sort}];\n            }\n\n            return {\n                fields      : settings.searchField,\n                conjunction : settings.searchConjunction,\n                sort        : sort\n            };\n        },\n\n        /**\n         * Searches through available options and returns\n         * a sorted array of matches.\n         *\n         * Returns an object containing:\n         *\n         *   - query {string}\n         *   - tokens {array}\n         *   - total {int}\n         *   - items {array}\n         *\n         * @param {string} query\n         * @returns {object}\n         */\n        search: function(query) {\n            var i, value, score, result, calculateScore;\n            var self     = this;\n            var settings = self.settings;\n            var options  = this.getSearchOptions();\n\n            // validate user-provided result scoring function\n            if (settings.score) {\n                calculateScore = self.settings.score.apply(this, [query]);\n                if (typeof calculateScore !== 'function') {\n                    throw new Error('Selectize \"score\" setting must be a function that returns a function');\n                }\n            }\n\n            // perform search\n            if (query !== self.lastQuery) {\n                self.lastQuery = query;\n                result = self.sifter.search(query, $.extend(options, {score: calculateScore}));\n                self.currentResults = result;\n            } else {\n                result = $.extend(true, {}, self.currentResults);\n            }\n\n            // filter out selected items\n            if (settings.hideSelected) {\n                for (i = result.items.length - 1; i >= 0; i--) {\n                    if (self.items.indexOf(hash_key(result.items[i].id)) !== -1) {\n                        result.items.splice(i, 1);\n                    }\n                }\n            }\n\n            return result;\n        },\n\n        /**\n         * Refreshes the list of available options shown\n         * in the autocomplete dropdown menu.\n         *\n         * @param {boolean} triggerDropdown\n         */\n        refreshOptions: function(triggerDropdown) {\n            var i, j, k, n, groups, groups_order, option, option_html, optgroup, optgroups, html, html_children, has_create_option;\n            var $active, $active_before, $create;\n\n            if (typeof triggerDropdown === 'undefined') {\n                triggerDropdown = true;\n            }\n\n            var self              = this;\n            var query             = $.trim(self.$control_input.val());\n            var results           = self.search(query);\n            var $dropdown_content = self.$dropdown_content;\n            var active_before     = self.$activeOption && hash_key(self.$activeOption.attr('data-value'));\n\n            // build markup\n            n = results.items.length;\n            if (typeof self.settings.maxOptions === 'number') {\n                n = Math.min(n, self.settings.maxOptions);\n            }\n\n            // render and group available options individually\n            groups = {};\n            groups_order = [];\n\n            for (i = 0; i < n; i++) {\n                option      = self.options[results.items[i].id];\n                option_html = self.render('option', option);\n                optgroup    = option[self.settings.optgroupField] || '';\n                optgroups   = $.isArray(optgroup) ? optgroup : [optgroup];\n\n                for (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n                    optgroup = optgroups[j];\n                    if (!self.optgroups.hasOwnProperty(optgroup)) {\n                        optgroup = '';\n                    }\n                    if (!groups.hasOwnProperty(optgroup)) {\n                        groups[optgroup] = [];\n                        groups_order.push(optgroup);\n                    }\n                    groups[optgroup].push(option_html);\n                }\n            }\n\n            // sort optgroups\n            if (this.settings.lockOptgroupOrder) {\n                groups_order.sort(function(a, b) {\n                    var a_order = self.optgroups[a].$order || 0;\n                    var b_order = self.optgroups[b].$order || 0;\n                    return a_order - b_order;\n                });\n            }\n\n            // render optgroup headers & join groups\n            html = [];\n            for (i = 0, n = groups_order.length; i < n; i++) {\n                optgroup = groups_order[i];\n                if (self.optgroups.hasOwnProperty(optgroup) && groups[optgroup].length) {\n                    // render the optgroup header and options within it,\n                    // then pass it to the wrapper template\n                    html_children = self.render('optgroup_header', self.optgroups[optgroup]) || '';\n                    html_children += groups[optgroup].join('');\n                    html.push(self.render('optgroup', $.extend({}, self.optgroups[optgroup], {\n                        html: html_children\n                    })));\n                } else {\n                    html.push(groups[optgroup].join(''));\n                }\n            }\n\n            $dropdown_content.html(html.join(''));\n\n            // highlight matching terms inline\n            if (self.settings.highlight && results.query.length && results.tokens.length) {\n                for (i = 0, n = results.tokens.length; i < n; i++) {\n                    highlight($dropdown_content, results.tokens[i].regex);\n                }\n            }\n\n            // add \"selected\" class to selected options\n            if (!self.settings.hideSelected) {\n                for (i = 0, n = self.items.length; i < n; i++) {\n                    self.getOption(self.items[i]).addClass('selected');\n                }\n            }\n\n            // add create option\n            has_create_option = self.canCreate(query);\n            if (has_create_option) {\n                $dropdown_content.prepend(self.render('option_create', {input: query}));\n                $create = $($dropdown_content[0].childNodes[0]);\n            }\n\n            // activate\n            self.hasOptions = results.items.length > 0 || has_create_option;\n            if (self.hasOptions) {\n                if (results.items.length > 0) {\n                    $active_before = active_before && self.getOption(active_before);\n                    if ($active_before && $active_before.length) {\n                        $active = $active_before;\n                    } else if (self.settings.mode === 'single' && self.items.length) {\n                        $active = self.getOption(self.items[0]);\n                    }\n                    if (!$active || !$active.length) {\n                        if ($create && !self.settings.addPrecedence) {\n                            $active = self.getAdjacentOption($create, 1);\n                        } else {\n                            $active = $dropdown_content.find('[data-selectable]:first');\n                        }\n                    }\n                } else {\n                    $active = $create;\n                }\n                self.setActiveOption($active);\n                if (triggerDropdown && !self.isOpen) { self.open(); }\n            } else {\n                self.setActiveOption(null);\n                if (triggerDropdown && self.isOpen) { self.close(); }\n            }\n        },\n\n        /**\n         * Adds an available option. If it already exists,\n         * nothing will happen. Note: this does not refresh\n         * the options list dropdown (use `refreshOptions`\n         * for that).\n         *\n         * Usage:\n         *\n         *   this.addOption(data)\n         *\n         * @param {object|array} data\n         */\n        addOption: function(data) {\n            var i, n, value, self = this;\n\n            if ($.isArray(data)) {\n                for (i = 0, n = data.length; i < n; i++) {\n                    self.addOption(data[i]);\n                }\n                return;\n            }\n\n            if (value = self.registerOption(data)) {\n                self.userOptions[value] = true;\n                self.lastQuery = null;\n                self.trigger('option_add', value, data);\n            }\n        },\n\n        /**\n         * Registers an option to the pool of options.\n         *\n         * @param {object} data\n         * @return {boolean|string}\n         */\n        registerOption: function(data) {\n            var key = hash_key(data[this.settings.valueField]);\n            if (!key || this.options.hasOwnProperty(key)) return false;\n            data.$order = data.$order || ++this.order;\n            this.options[key] = data;\n            return key;\n        },\n\n        /**\n         * Registers an option group to the pool of option groups.\n         *\n         * @param {object} data\n         * @return {boolean|string}\n         */\n        registerOptionGroup: function(data) {\n            var key = hash_key(data[this.settings.optgroupValueField]);\n            if (!key) return false;\n\n            data.$order = data.$order || ++this.order;\n            this.optgroups[key] = data;\n            return key;\n        },\n\n        /**\n         * Registers a new optgroup for options\n         * to be bucketed into.\n         *\n         * @param {string} id\n         * @param {object} data\n         */\n        addOptionGroup: function(id, data) {\n            data[this.settings.optgroupValueField] = id;\n            if (id = this.registerOptionGroup(data)) {\n                this.trigger('optgroup_add', id, data);\n            }\n        },\n\n        /**\n         * Removes an existing option group.\n         *\n         * @param {string} id\n         */\n        removeOptionGroup: function(id) {\n            if (this.optgroups.hasOwnProperty(id)) {\n                delete this.optgroups[id];\n                this.renderCache = {};\n                this.trigger('optgroup_remove', id);\n            }\n        },\n\n        /**\n         * Clears all existing option groups.\n         */\n        clearOptionGroups: function() {\n            this.optgroups = {};\n            this.renderCache = {};\n            this.trigger('optgroup_clear');\n        },\n\n        /**\n         * Updates an option available for selection. If\n         * it is visible in the selected items or options\n         * dropdown, it will be re-rendered automatically.\n         *\n         * @param {string} value\n         * @param {object} data\n         */\n        updateOption: function(value, data) {\n            var self = this;\n            var $item, $item_new;\n            var value_new, index_item, cache_items, cache_options, order_old;\n\n            value     = hash_key(value);\n            value_new = hash_key(data[self.settings.valueField]);\n\n            // sanity checks\n            if (value === null) return;\n            if (!self.options.hasOwnProperty(value)) return;\n            if (typeof value_new !== 'string') throw new Error('Value must be set in option data');\n\n            order_old = self.options[value].$order;\n\n            // update references\n            if (value_new !== value) {\n                delete self.options[value];\n                index_item = self.items.indexOf(value);\n                if (index_item !== -1) {\n                    self.items.splice(index_item, 1, value_new);\n                }\n            }\n            data.$order = data.$order || order_old;\n            self.options[value_new] = data;\n\n            // invalidate render cache\n            cache_items = self.renderCache['item'];\n            cache_options = self.renderCache['option'];\n\n            if (cache_items) {\n                delete cache_items[value];\n                delete cache_items[value_new];\n            }\n            if (cache_options) {\n                delete cache_options[value];\n                delete cache_options[value_new];\n            }\n\n            // update the item if it's selected\n            if (self.items.indexOf(value_new) !== -1) {\n                $item = self.getItem(value);\n                $item_new = $(self.render('item', data));\n                if ($item.hasClass('active')) $item_new.addClass('active');\n                $item.replaceWith($item_new);\n            }\n\n            // invalidate last query because we might have updated the sortField\n            self.lastQuery = null;\n\n            // update dropdown contents\n            if (self.isOpen) {\n                self.refreshOptions(false);\n            }\n        },\n\n        /**\n         * Removes a single option.\n         *\n         * @param {string} value\n         * @param {boolean} silent\n         */\n        removeOption: function(value, silent) {\n            var self = this;\n            value = hash_key(value);\n\n            var cache_items = self.renderCache['item'];\n            var cache_options = self.renderCache['option'];\n            if (cache_items) delete cache_items[value];\n            if (cache_options) delete cache_options[value];\n\n            delete self.userOptions[value];\n            delete self.options[value];\n            self.lastQuery = null;\n            self.trigger('option_remove', value);\n            self.removeItem(value, silent);\n        },\n\n        /**\n         * Clears all options.\n         */\n        clearOptions: function() {\n            var self = this;\n\n            self.loadedSearches = {};\n            self.userOptions = {};\n            self.renderCache = {};\n            self.options = self.sifter.items = {};\n            self.lastQuery = null;\n            self.trigger('option_clear');\n            self.clear();\n        },\n\n        /**\n         * Returns the jQuery element of the option\n         * matching the given value.\n         *\n         * @param {string} value\n         * @returns {object}\n         */\n        getOption: function(value) {\n            return this.getElementWithValue(value, this.$dropdown_content.find('[data-selectable]'));\n        },\n\n        /**\n         * Returns the jQuery element of the next or\n         * previous selectable option.\n         *\n         * @param {object} $option\n         * @param {int} direction  can be 1 for next or -1 for previous\n         * @return {object}\n         */\n        getAdjacentOption: function($option, direction) {\n            var $options = this.$dropdown.find('[data-selectable]');\n            var index    = $options.index($option) + direction;\n\n            return index >= 0 && index < $options.length ? $options.eq(index) : $();\n        },\n\n        /**\n         * Finds the first element with a \"data-value\" attribute\n         * that matches the given value.\n         *\n         * @param {mixed} value\n         * @param {object} $els\n         * @return {object}\n         */\n        getElementWithValue: function(value, $els) {\n            value = hash_key(value);\n\n            if (typeof value !== 'undefined' && value !== null) {\n                for (var i = 0, n = $els.length; i < n; i++) {\n                    if ($els[i].getAttribute('data-value') === value) {\n                        return $($els[i]);\n                    }\n                }\n            }\n\n            return $();\n        },\n\n        /**\n         * Returns the jQuery element of the item\n         * matching the given value.\n         *\n         * @param {string} value\n         * @returns {object}\n         */\n        getItem: function(value) {\n            return this.getElementWithValue(value, this.$control.children());\n        },\n\n        /**\n         * \"Selects\" multiple items at once. Adds them to the list\n         * at the current caret position.\n         *\n         * @param {string} value\n         * @param {boolean} silent\n         */\n        addItems: function(values, silent) {\n            var items = $.isArray(values) ? values : [values];\n            for (var i = 0, n = items.length; i < n; i++) {\n                this.isPending = (i < n - 1);\n                this.addItem(items[i], silent);\n            }\n        },\n\n        /**\n         * \"Selects\" an item. Adds it to the list\n         * at the current caret position.\n         *\n         * @param {string} value\n         * @param {boolean} silent\n         */\n        addItem: function(value, silent) {\n            var events = silent ? [] : ['change'];\n\n            debounce_events(this, events, function() {\n                var $item, $option, $options;\n                var self = this;\n                var inputMode = self.settings.mode;\n                var i, active, value_next, wasFull;\n                value = hash_key(value);\n\n                if (self.items.indexOf(value) !== -1) {\n                    if (inputMode === 'single') self.close();\n                    return;\n                }\n\n                if (!self.options.hasOwnProperty(value)) return;\n                if (inputMode === 'single') self.clear(silent);\n                if (inputMode === 'multi' && self.isFull()) return;\n\n                $item = $(self.render('item', self.options[value]));\n                wasFull = self.isFull();\n                self.items.splice(self.caretPos, 0, value);\n                self.insertAtCaret($item);\n                if (!self.isPending || (!wasFull && self.isFull())) {\n                    self.refreshState();\n                }\n\n                if (self.isSetup) {\n                    $options = self.$dropdown_content.find('[data-selectable]');\n\n                    // update menu / remove the option (if this is not one item being added as part of series)\n                    if (!self.isPending) {\n                        $option = self.getOption(value);\n                        value_next = self.getAdjacentOption($option, 1).attr('data-value');\n                        self.refreshOptions(self.isFocused && inputMode !== 'single');\n                        if (value_next) {\n                            self.setActiveOption(self.getOption(value_next));\n                        }\n                    }\n\n                    // hide the menu if the maximum number of items have been selected or no options are left\n                    if (!$options.length || self.isFull()) {\n                        self.close();\n                    } else {\n                        self.positionDropdown();\n                    }\n\n                    self.updatePlaceholder();\n                    self.trigger('item_add', value, $item);\n                    self.updateOriginalInput({silent: silent});\n                }\n            });\n        },\n\n        /**\n         * Removes the selected item matching\n         * the provided value.\n         *\n         * @param {string} value\n         */\n        removeItem: function(value, silent) {\n            var self = this;\n            var $item, i, idx;\n\n            $item = (typeof value === 'object') ? value : self.getItem(value);\n            value = hash_key($item.attr('data-value'));\n            i = self.items.indexOf(value);\n\n            if (i !== -1) {\n                $item.remove();\n                if ($item.hasClass('active')) {\n                    idx = self.$activeItems.indexOf($item[0]);\n                    self.$activeItems.splice(idx, 1);\n                }\n\n                self.items.splice(i, 1);\n                self.lastQuery = null;\n                if (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n                    self.removeOption(value, silent);\n                }\n\n                if (i < self.caretPos) {\n                    self.setCaret(self.caretPos - 1);\n                }\n\n                self.refreshState();\n                self.updatePlaceholder();\n                self.updateOriginalInput({silent: silent});\n                self.positionDropdown();\n                self.trigger('item_remove', value, $item);\n            }\n        },\n\n        /**\n         * Invokes the `create` method provided in the\n         * selectize options that should provide the data\n         * for the new item, given the user input.\n         *\n         * Once this completes, it will be added\n         * to the item list.\n         *\n         * @param {string} value\n         * @param {boolean} [triggerDropdown]\n         * @param {function} [callback]\n         * @return {boolean}\n         */\n        createItem: function(input, triggerDropdown) {\n            var self  = this;\n            var caret = self.caretPos;\n            input = input || $.trim(self.$control_input.val() || '');\n\n            var callback = arguments[arguments.length - 1];\n            if (typeof callback !== 'function') callback = function() {};\n\n            if (typeof triggerDropdown !== 'boolean') {\n                triggerDropdown = true;\n            }\n\n            if (!self.canCreate(input)) {\n                callback();\n                return false;\n            }\n\n            self.lock();\n\n            var setup = (typeof self.settings.create === 'function') ? this.settings.create : function(input) {\n                var data = {};\n                data[self.settings.labelField] = input;\n                data[self.settings.valueField] = input;\n                return data;\n            };\n\n            var create = once(function(data) {\n                self.unlock();\n\n                if (!data || typeof data !== 'object') return callback();\n                var value = hash_key(data[self.settings.valueField]);\n                if (typeof value !== 'string') return callback();\n\n                self.setTextboxValue('');\n                self.addOption(data);\n                self.setCaret(caret);\n                self.addItem(value);\n                self.refreshOptions(triggerDropdown && self.settings.mode !== 'single');\n                callback(data);\n            });\n\n            var output = setup.apply(this, [input, create]);\n            if (typeof output !== 'undefined') {\n                create(output);\n            }\n\n            return true;\n        },\n\n        /**\n         * Re-renders the selected item lists.\n         */\n        refreshItems: function() {\n            this.lastQuery = null;\n\n            if (this.isSetup) {\n                this.addItem(this.items);\n            }\n\n            this.refreshState();\n            this.updateOriginalInput();\n        },\n\n        /**\n         * Updates all state-dependent attributes\n         * and CSS classes.\n         */\n        refreshState: function() {\n            var invalid, self = this;\n            if (self.isRequired) {\n                if (self.items.length) self.isInvalid = false;\n                self.$control_input.prop('required', invalid);\n            }\n            self.refreshClasses();\n        },\n\n        /**\n         * Updates all state-dependent CSS classes.\n         */\n        refreshClasses: function() {\n            var self     = this;\n            var isFull   = self.isFull();\n            var isLocked = self.isLocked;\n\n            self.$wrapper\n                .toggleClass('rtl', self.rtl);\n\n            self.$control\n                .toggleClass('focus', self.isFocused)\n                .toggleClass('disabled', self.isDisabled)\n                .toggleClass('required', self.isRequired)\n                .toggleClass('invalid', self.isInvalid)\n                .toggleClass('locked', isLocked)\n                .toggleClass('full', isFull).toggleClass('not-full', !isFull)\n                .toggleClass('input-active', self.isFocused && !self.isInputHidden)\n                .toggleClass('dropdown-active', self.isOpen)\n                .toggleClass('has-options', !$.isEmptyObject(self.options))\n                .toggleClass('has-items', self.items.length > 0);\n\n            self.$control_input.data('grow', !isFull && !isLocked);\n        },\n\n        /**\n         * Determines whether or not more items can be added\n         * to the control without exceeding the user-defined maximum.\n         *\n         * @returns {boolean}\n         */\n        isFull: function() {\n            return this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n        },\n\n        /**\n         * Refreshes the original <select> or <input>\n         * element to reflect the current state.\n         */\n        updateOriginalInput: function(opts) {\n            var i, n, options, label, self = this;\n            opts = opts || {};\n\n            if (self.tagType === TAG_SELECT) {\n                options = [];\n                for (i = 0, n = self.items.length; i < n; i++) {\n                    label = self.options[self.items[i]][self.settings.labelField] || '';\n                    options.push('<option value=\"' + escape_html(self.items[i]) + '\" selected=\"selected\">' + escape_html(label) + '</option>');\n                }\n                if (!options.length && !this.$input.attr('multiple')) {\n                    options.push('<option value=\"\" selected=\"selected\"></option>');\n                }\n                self.$input.html(options.join(''));\n            } else {\n                self.$input.val(self.getValue());\n                self.$input.attr('value',self.$input.val());\n            }\n\n            if (self.isSetup) {\n                if (!opts.silent) {\n                    self.trigger('change', self.$input.val());\n                }\n            }\n        },\n\n        /**\n         * Shows/hide the input placeholder depending\n         * on if there items in the list already.\n         */\n        updatePlaceholder: function() {\n            if (!this.settings.placeholder) return;\n            var $input = this.$control_input;\n\n            if (this.items.length) {\n                $input.removeAttr('placeholder');\n            } else {\n                $input.attr('placeholder', this.settings.placeholder);\n            }\n            $input.triggerHandler('update', {force: true});\n        },\n\n        /**\n         * Shows the autocomplete dropdown containing\n         * the available options.\n         */\n        open: function() {\n            var self = this;\n\n            if (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n            self.focus();\n            self.isOpen = true;\n            self.refreshState();\n            self.$dropdown.css({visibility: 'hidden', display: 'block'});\n            self.positionDropdown();\n            self.$dropdown.css({visibility: 'visible'});\n            self.trigger('dropdown_open', self.$dropdown);\n        },\n\n        /**\n         * Closes the autocomplete dropdown menu.\n         */\n        close: function() {\n            var self = this;\n            var trigger = self.isOpen;\n\n            if (self.settings.mode === 'single' && self.items.length) {\n                self.hideInput();\n            }\n\n            self.isOpen = false;\n            self.$dropdown.hide();\n            self.setActiveOption(null);\n            self.refreshState();\n\n            if (trigger) self.trigger('dropdown_close', self.$dropdown);\n        },\n\n        /**\n         * Calculates and applies the appropriate\n         * position of the dropdown.\n         */\n        positionDropdown: function() {\n            var $control = this.$control;\n            var offset = this.settings.dropdownParent === 'body' ? $control.offset() : $control.position();\n            offset.top += $control.outerHeight(true);\n\n            this.$dropdown.css({\n                width : $control.outerWidth(),\n                top   : offset.top,\n                left  : offset.left\n            });\n        },\n\n        /**\n         * Resets / clears all selected items\n         * from the control.\n         *\n         * @param {boolean} silent\n         */\n        clear: function(silent) {\n            var self = this;\n\n            if (!self.items.length) return;\n            self.$control.children(':not(input)').remove();\n            self.items = [];\n            self.lastQuery = null;\n            self.setCaret(0);\n            self.setActiveItem(null);\n            self.updatePlaceholder();\n            self.updateOriginalInput({silent: silent});\n            self.refreshState();\n            self.showInput();\n            self.trigger('clear');\n        },\n\n        /**\n         * A helper method for inserting an element\n         * at the current caret position.\n         *\n         * @param {object} $el\n         */\n        insertAtCaret: function($el) {\n            var caret = Math.min(this.caretPos, this.items.length);\n            if (caret === 0) {\n                this.$control.prepend($el);\n            } else {\n                $(this.$control[0].childNodes[caret]).before($el);\n            }\n            this.setCaret(caret + 1);\n        },\n\n        /**\n         * Removes the current selected item(s).\n         *\n         * @param {object} e (optional)\n         * @returns {boolean}\n         */\n        deleteSelection: function(e) {\n            var i, n, direction, selection, values, caret, option_select, $option_select, $tail;\n            var self = this;\n\n            direction = (e && e.keyCode === KEY_BACKSPACE) ? -1 : 1;\n            selection = getSelection(self.$control_input[0]);\n\n            if (self.$activeOption && !self.settings.hideSelected) {\n                option_select = self.getAdjacentOption(self.$activeOption, -1).attr('data-value');\n            }\n\n            // determine items that will be removed\n            values = [];\n\n            if (self.$activeItems.length) {\n                $tail = self.$control.children('.active:' + (direction > 0 ? 'last' : 'first'));\n                caret = self.$control.children(':not(input)').index($tail);\n                if (direction > 0) { caret++; }\n\n                for (i = 0, n = self.$activeItems.length; i < n; i++) {\n                    values.push($(self.$activeItems[i]).attr('data-value'));\n                }\n                if (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            } else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n                if (direction < 0 && selection.start === 0 && selection.length === 0) {\n                    values.push(self.items[self.caretPos - 1]);\n                } else if (direction > 0 && selection.start === self.$control_input.val().length) {\n                    values.push(self.items[self.caretPos]);\n                }\n            }\n\n            // allow the callback to abort\n            if (!values.length || (typeof self.settings.onDelete === 'function' && self.settings.onDelete.apply(self, [values]) === false)) {\n                return false;\n            }\n\n            // perform removal\n            if (typeof caret !== 'undefined') {\n                self.setCaret(caret);\n            }\n            while (values.length) {\n                self.removeItem(values.pop());\n            }\n\n            self.showInput();\n            self.positionDropdown();\n            self.refreshOptions(true);\n\n            // select previous option\n            if (option_select) {\n                $option_select = self.getOption(option_select);\n                if ($option_select.length) {\n                    self.setActiveOption($option_select);\n                }\n            }\n\n            return true;\n        },\n\n        /**\n         * Selects the previous / next item (depending\n         * on the `direction` argument).\n         *\n         * > 0 - right\n         * < 0 - left\n         *\n         * @param {int} direction\n         * @param {object} e (optional)\n         */\n        advanceSelection: function(direction, e) {\n            var tail, selection, idx, valueLength, cursorAtEdge, $tail;\n            var self = this;\n\n            if (direction === 0) return;\n            if (self.rtl) direction *= -1;\n\n            tail = direction > 0 ? 'last' : 'first';\n            selection = getSelection(self.$control_input[0]);\n\n            if (self.isFocused && !self.isInputHidden) {\n                valueLength = self.$control_input.val().length;\n                cursorAtEdge = direction < 0\n                    ? selection.start === 0 && selection.length === 0\n                    : selection.start === valueLength;\n\n                if (cursorAtEdge && !valueLength) {\n                    self.advanceCaret(direction, e);\n                }\n            } else {\n                $tail = self.$control.children('.active:' + tail);\n                if ($tail.length) {\n                    idx = self.$control.children(':not(input)').index($tail);\n                    self.setActiveItem(null);\n                    self.setCaret(direction > 0 ? idx + 1 : idx);\n                }\n            }\n        },\n\n        /**\n         * Moves the caret left / right.\n         *\n         * @param {int} direction\n         * @param {object} e (optional)\n         */\n        advanceCaret: function(direction, e) {\n            var self = this, fn, $adj;\n\n            if (direction === 0) return;\n\n            fn = direction > 0 ? 'next' : 'prev';\n            if (self.isShiftDown) {\n                $adj = self.$control_input[fn]();\n                if ($adj.length) {\n                    self.hideInput();\n                    self.setActiveItem($adj);\n                    e && e.preventDefault();\n                }\n            } else {\n                self.setCaret(self.caretPos + direction);\n            }\n        },\n\n        /**\n         * Moves the caret to the specified index.\n         *\n         * @param {int} i\n         */\n        setCaret: function(i) {\n            var self = this;\n\n            if (self.settings.mode === 'single') {\n                i = self.items.length;\n            } else {\n                i = Math.max(0, Math.min(self.items.length, i));\n            }\n\n            if(!self.isPending) {\n                // the input must be moved by leaving it in place and moving the\n                // siblings, due to the fact that focus cannot be restored once lost\n                // on mobile webkit devices\n                var j, n, fn, $children, $child;\n                $children = self.$control.children(':not(input)');\n                for (j = 0, n = $children.length; j < n; j++) {\n                    $child = $($children[j]).detach();\n                    if (j <  i) {\n                        self.$control_input.before($child);\n                    } else {\n                        self.$control.append($child);\n                    }\n                }\n            }\n\n            self.caretPos = i;\n        },\n\n        /**\n         * Disables user input on the control. Used while\n         * items are being asynchronously created.\n         */\n        lock: function() {\n            this.close();\n            this.isLocked = true;\n            this.refreshState();\n        },\n\n        /**\n         * Re-enables user input on the control.\n         */\n        unlock: function() {\n            this.isLocked = false;\n            this.refreshState();\n        },\n\n        /**\n         * Disables user input on the control completely.\n         * While disabled, it cannot receive focus.\n         */\n        disable: function() {\n            var self = this;\n            self.$input.prop('disabled', true);\n            self.$control_input.prop('disabled', true).prop('tabindex', -1);\n            self.isDisabled = true;\n            self.lock();\n        },\n\n        /**\n         * Enables the control so that it can respond\n         * to focus and user input.\n         */\n        enable: function() {\n            var self = this;\n            self.$input.prop('disabled', false);\n            self.$control_input.prop('disabled', false).prop('tabindex', self.tabIndex);\n            self.isDisabled = false;\n            self.unlock();\n        },\n\n        /**\n         * Completely destroys the control and\n         * unbinds all event listeners so that it can\n         * be garbage collected.\n         */\n        destroy: function() {\n            var self = this;\n            var eventNS = self.eventNS;\n            var revertSettings = self.revertSettings;\n\n            self.trigger('destroy');\n            self.off();\n            self.$wrapper.remove();\n            self.$dropdown.remove();\n\n            self.$input\n                .html('')\n                .append(revertSettings.$children)\n                .removeAttr('tabindex')\n                .removeClass('selectized')\n                .attr({tabindex: revertSettings.tabindex})\n                .show();\n\n            self.$control_input.removeData('grow');\n            self.$input.removeData('selectize');\n\n            $(window).off(eventNS);\n            $(document).off(eventNS);\n            $(document.body).off(eventNS);\n\n            delete self.$input[0].selectize;\n        },\n\n        /**\n         * A helper method for rendering \"item\" and\n         * \"option\" templates, given the data.\n         *\n         * @param {string} templateName\n         * @param {object} data\n         * @returns {string}\n         */\n        render: function(templateName, data) {\n            var value, id, label;\n            var html = '';\n            var cache = false;\n            var self = this;\n            var regex_tag = /^[\\t \\r\\n]*<([a-z][a-z0-9\\-_]*(?:\\:[a-z][a-z0-9\\-_]*)?)/i;\n\n            if (templateName === 'option' || templateName === 'item') {\n                value = hash_key(data[self.settings.valueField]);\n                cache = !!value;\n            }\n\n            // pull markup from cache if it exists\n            if (cache) {\n                if (!isset(self.renderCache[templateName])) {\n                    self.renderCache[templateName] = {};\n                }\n                if (self.renderCache[templateName].hasOwnProperty(value)) {\n                    return self.renderCache[templateName][value];\n                }\n            }\n\n            // render markup\n            html = self.settings.render[templateName].apply(this, [data, escape_html]);\n\n            // add mandatory attributes\n            if (templateName === 'option' || templateName === 'option_create') {\n                html = html.replace(regex_tag, '<$1 data-selectable');\n            }\n            if (templateName === 'optgroup') {\n                id = data[self.settings.optgroupValueField] || '';\n                html = html.replace(regex_tag, '<$1 data-group=\"' + escape_replace(escape_html(id)) + '\"');\n            }\n            if (templateName === 'option' || templateName === 'item') {\n                html = html.replace(regex_tag, '<$1 data-value=\"' + escape_replace(escape_html(value || '')) + '\"');\n            }\n\n            // update cache\n            if (cache) {\n                self.renderCache[templateName][value] = html;\n            }\n\n            return html;\n        },\n\n        /**\n         * Clears the render cache for a template. If\n         * no template is given, clears all render\n         * caches.\n         *\n         * @param {string} templateName\n         */\n        clearCache: function(templateName) {\n            var self = this;\n            if (typeof templateName === 'undefined') {\n                self.renderCache = {};\n            } else {\n                delete self.renderCache[templateName];\n            }\n        },\n\n        /**\n         * Determines whether or not to display the\n         * create item prompt, given a user input.\n         *\n         * @param {string} input\n         * @return {boolean}\n         */\n        canCreate: function(input) {\n            var self = this;\n            if (!self.settings.create) return false;\n            var filter = self.settings.createFilter;\n            return input.length\n                && (typeof filter !== 'function' || filter.apply(self, [input]))\n                && (typeof filter !== 'string' || new RegExp(filter).test(input))\n                && (!(filter instanceof RegExp) || filter.test(input));\n        }\n\n    });\n\n\n    Selectize.count = 0;\n    Selectize.defaults = {\n        options: [],\n        optgroups: [],\n\n        plugins: [],\n        delimiter: ',',\n        splitOn: null, // regexp or string for splitting up values from a paste command\n        persist: true,\n        diacritics: true,\n        create: false,\n        createOnBlur: false,\n        createFilter: null,\n        highlight: true,\n        openOnFocus: true,\n        maxOptions: 1000,\n        maxItems: null,\n        hideSelected: null,\n        addPrecedence: false,\n        selectOnTab: false,\n        preload: false,\n        allowEmptyOption: false,\n        closeAfterSelect: false,\n\n        scrollDuration: 60,\n        loadThrottle: 300,\n        loadingClass: 'loading',\n\n        dataAttr: 'data-data',\n        optgroupField: 'optgroup',\n        valueField: 'value',\n        labelField: 'text',\n        optgroupLabelField: 'label',\n        optgroupValueField: 'value',\n        lockOptgroupOrder: false,\n\n        sortField: '$order',\n        searchField: ['text'],\n        searchConjunction: 'and',\n\n        mode: null,\n        wrapperClass: 'selectize-control',\n        inputClass: 'selectize-input',\n        dropdownClass: 'selectize-dropdown',\n        dropdownContentClass: 'selectize-dropdown-content',\n\n        dropdownParent: null,\n\n        copyClassesToDropdown: true,\n\n        /*\n         load                 : null, // function(query, callback) { ... }\n         score                : null, // function(search) { ... }\n         onInitialize         : null, // function() { ... }\n         onChange             : null, // function(value) { ... }\n         onItemAdd            : null, // function(value, $item) { ... }\n         onItemRemove         : null, // function(value) { ... }\n         onClear              : null, // function() { ... }\n         onOptionAdd          : null, // function(value, data) { ... }\n         onOptionRemove       : null, // function(value) { ... }\n         onOptionClear        : null, // function() { ... }\n         onOptionGroupAdd     : null, // function(id, data) { ... }\n         onOptionGroupRemove  : null, // function(id) { ... }\n         onOptionGroupClear   : null, // function() { ... }\n         onDropdownOpen       : null, // function($dropdown) { ... }\n         onDropdownClose      : null, // function($dropdown) { ... }\n         onType               : null, // function(str) { ... }\n         onDelete             : null, // function(values) { ... }\n         */\n\n        render: {\n            /*\n             item: null,\n             optgroup: null,\n             optgroup_header: null,\n             option: null,\n             option_create: null\n             */\n        }\n    };\n\n\n    $.fn.selectize = function(settings_user) {\n        var defaults             = $.fn.selectize.defaults;\n        var settings             = $.extend({}, defaults, settings_user);\n        var attr_data            = settings.dataAttr;\n        var field_label          = settings.labelField;\n        var field_value          = settings.valueField;\n        var field_optgroup       = settings.optgroupField;\n        var field_optgroup_label = settings.optgroupLabelField;\n        var field_optgroup_value = settings.optgroupValueField;\n\n        /**\n         * Initializes selectize from a <input type=\"text\"> element.\n         *\n         * @param {object} $input\n         * @param {object} settings_element\n         */\n        var init_textbox = function($input, settings_element) {\n            var i, n, values, option;\n\n            var data_raw = $input.attr(attr_data);\n\n            if (!data_raw) {\n                var value = $.trim($input.val() || '');\n                if (!settings.allowEmptyOption && !value.length) return;\n                values = value.split(settings.delimiter);\n                for (i = 0, n = values.length; i < n; i++) {\n                    option = {};\n                    option[field_label] = values[i];\n                    option[field_value] = values[i];\n                    settings_element.options.push(option);\n                }\n                settings_element.items = values;\n            } else {\n                settings_element.options = JSON.parse(data_raw);\n                for (i = 0, n = settings_element.options.length; i < n; i++) {\n                    settings_element.items.push(settings_element.options[i][field_value]);\n                }\n            }\n        };\n\n        /**\n         * Initializes selectize from a <select> element.\n         *\n         * @param {object} $input\n         * @param {object} settings_element\n         */\n        var init_select = function($input, settings_element) {\n            var i, n, tagName, $children, order = 0;\n            var options = settings_element.options;\n            var optionsMap = {};\n\n            var readData = function($el) {\n                var data = attr_data && $el.attr(attr_data);\n                if (typeof data === 'string' && data.length) {\n                    return JSON.parse(data);\n                }\n                return null;\n            };\n\n            var addOption = function($option, group) {\n                $option = $($option);\n\n                var value = hash_key($option.attr('value'));\n                if (!value && !settings.allowEmptyOption) return;\n\n                // if the option already exists, it's probably been\n                // duplicated in another optgroup. in this case, push\n                // the current group to the \"optgroup\" property on the\n                // existing option so that it's rendered in both places.\n                if (optionsMap.hasOwnProperty(value)) {\n                    if (group) {\n                        var arr = optionsMap[value][field_optgroup];\n                        if (!arr) {\n                            optionsMap[value][field_optgroup] = group;\n                        } else if (!$.isArray(arr)) {\n                            optionsMap[value][field_optgroup] = [arr, group];\n                        } else {\n                            arr.push(group);\n                        }\n                    }\n                    return;\n                }\n\n                var option             = readData($option) || {};\n                option[field_label]    = option[field_label] || $option.text();\n                option[field_value]    = option[field_value] || value;\n                option[field_optgroup] = option[field_optgroup] || group;\n\n                optionsMap[value] = option;\n                options.push(option);\n\n                if ($option.is(':selected')) {\n                    settings_element.items.push(value);\n                }\n            };\n\n            var addGroup = function($optgroup) {\n                var i, n, id, optgroup, $options;\n\n                $optgroup = $($optgroup);\n                id = $optgroup.attr('label');\n\n                if (id) {\n                    optgroup = readData($optgroup) || {};\n                    optgroup[field_optgroup_label] = id;\n                    optgroup[field_optgroup_value] = id;\n                    settings_element.optgroups.push(optgroup);\n                }\n\n                $options = $('option', $optgroup);\n                for (i = 0, n = $options.length; i < n; i++) {\n                    addOption($options[i], id);\n                }\n            };\n\n            settings_element.maxItems = $input.attr('multiple') ? null : 1;\n\n            $children = $input.children();\n            for (i = 0, n = $children.length; i < n; i++) {\n                tagName = $children[i].tagName.toLowerCase();\n                if (tagName === 'optgroup') {\n                    addGroup($children[i]);\n                } else if (tagName === 'option') {\n                    addOption($children[i]);\n                }\n            }\n        };\n\n        return this.each(function() {\n            if (this.selectize) return;\n\n            var instance;\n            var $input = $(this);\n            var tag_name = this.tagName.toLowerCase();\n            var placeholder = $input.attr('placeholder') || $input.attr('data-placeholder');\n            if (!placeholder && !settings.allowEmptyOption) {\n                placeholder = $input.children('option[value=\"\"]').text();\n            }\n\n            var settings_element = {\n                'placeholder' : placeholder,\n                'options'     : [],\n                'optgroups'   : [],\n                'items'       : []\n            };\n\n            if (tag_name === 'select') {\n                init_select($input, settings_element);\n            } else {\n                init_textbox($input, settings_element);\n            }\n\n            instance = new Selectize($input, $.extend(true, {}, defaults, settings_element, settings_user));\n        });\n    };\n\n    $.fn.selectize.defaults = Selectize.defaults;\n    $.fn.selectize.support = {\n        validity: SUPPORTS_VALIDITY_API\n    };\n\n\n    Selectize.define('drag_drop', function(options) {\n        if (!$.fn.sortable) throw new Error('The \"drag_drop\" plugin requires jQuery UI \"sortable\".');\n        if (this.settings.mode !== 'multi') return;\n        var self = this;\n\n        self.lock = (function() {\n            var original = self.lock;\n            return function() {\n                var sortable = self.$control.data('sortable');\n                if (sortable) sortable.disable();\n                return original.apply(self, arguments);\n            };\n        })();\n\n        self.unlock = (function() {\n            var original = self.unlock;\n            return function() {\n                var sortable = self.$control.data('sortable');\n                if (sortable) sortable.enable();\n                return original.apply(self, arguments);\n            };\n        })();\n\n        self.setup = (function() {\n            var original = self.setup;\n            return function() {\n                original.apply(this, arguments);\n\n                var $control = self.$control.sortable({\n                    items: '[data-value]',\n                    forcePlaceholderSize: true,\n                    disabled: self.isLocked,\n                    start: function(e, ui) {\n                        ui.placeholder.css('width', ui.helper.css('width'));\n                        $control.css({overflow: 'visible'});\n                    },\n                    stop: function() {\n                        $control.css({overflow: 'hidden'});\n                        var active = self.$activeItems ? self.$activeItems.slice() : null;\n                        var values = [];\n                        $control.children('[data-value]').each(function() {\n                            values.push($(this).attr('data-value'));\n                        });\n                        self.setValue(values);\n                        self.setActiveItem(active);\n                    }\n                });\n            };\n        })();\n\n    });\n\n    Selectize.define('dropdown_header', function(options) {\n        var self = this;\n\n        options = $.extend({\n            title         : 'Untitled',\n            headerClass   : 'selectize-dropdown-header',\n            titleRowClass : 'selectize-dropdown-header-title',\n            labelClass    : 'selectize-dropdown-header-label',\n            closeClass    : 'selectize-dropdown-header-close',\n\n            html: function(data) {\n                return (\n                    '<div class=\"' + data.headerClass + '\">' +\n                    '<div class=\"' + data.titleRowClass + '\">' +\n                    '<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n                    '<a href=\"javascript:void(0)\" class=\"' + data.closeClass + '\">&times;</a>' +\n                    '</div>' +\n                    '</div>'\n                );\n            }\n        }, options);\n\n        self.setup = (function() {\n            var original = self.setup;\n            return function() {\n                original.apply(self, arguments);\n                self.$dropdown_header = $(options.html(options));\n                self.$dropdown.prepend(self.$dropdown_header);\n            };\n        })();\n\n    });\n\n    Selectize.define('optgroup_columns', function(options) {\n        var self = this;\n\n        options = $.extend({\n            equalizeWidth  : true,\n            equalizeHeight : true\n        }, options);\n\n        this.getAdjacentOption = function($option, direction) {\n            var $options = $option.closest('[data-group]').find('[data-selectable]');\n            var index    = $options.index($option) + direction;\n\n            return index >= 0 && index < $options.length ? $options.eq(index) : $();\n        };\n\n        this.onKeyDown = (function() {\n            var original = self.onKeyDown;\n            return function(e) {\n                var index, $option, $options, $optgroup;\n\n                if (this.isOpen && (e.keyCode === KEY_LEFT || e.keyCode === KEY_RIGHT)) {\n                    self.ignoreHover = true;\n                    $optgroup = this.$activeOption.closest('[data-group]');\n                    index = $optgroup.find('[data-selectable]').index(this.$activeOption);\n\n                    if(e.keyCode === KEY_LEFT) {\n                        $optgroup = $optgroup.prev('[data-group]');\n                    } else {\n                        $optgroup = $optgroup.next('[data-group]');\n                    }\n\n                    $options = $optgroup.find('[data-selectable]');\n                    $option  = $options.eq(Math.min($options.length - 1, index));\n                    if ($option.length) {\n                        this.setActiveOption($option);\n                    }\n                    return;\n                }\n\n                return original.apply(this, arguments);\n            };\n        })();\n\n        var getScrollbarWidth = function() {\n            var div;\n            var width = getScrollbarWidth.width;\n            var doc = document;\n\n            if (typeof width === 'undefined') {\n                div = doc.createElement('div');\n                div.innerHTML = '<div style=\"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;\"><div style=\"width:1px;height:100px;\"></div></div>';\n                div = div.firstChild;\n                doc.body.appendChild(div);\n                width = getScrollbarWidth.width = div.offsetWidth - div.clientWidth;\n                doc.body.removeChild(div);\n            }\n            return width;\n        };\n\n        var equalizeSizes = function() {\n            var i, n, height_max, width, width_last, width_parent, $optgroups;\n\n            $optgroups = $('[data-group]', self.$dropdown_content);\n            n = $optgroups.length;\n            if (!n || !self.$dropdown_content.width()) return;\n\n            if (options.equalizeHeight) {\n                height_max = 0;\n                for (i = 0; i < n; i++) {\n                    height_max = Math.max(height_max, $optgroups.eq(i).height());\n                }\n                $optgroups.css({height: height_max});\n            }\n\n            if (options.equalizeWidth) {\n                width_parent = self.$dropdown_content.innerWidth() - getScrollbarWidth();\n                width = Math.round(width_parent / n);\n                $optgroups.css({width: width});\n                if (n > 1) {\n                    width_last = width_parent - width * (n - 1);\n                    $optgroups.eq(n - 1).css({width: width_last});\n                }\n            }\n        };\n\n        if (options.equalizeHeight || options.equalizeWidth) {\n            hook.after(this, 'positionDropdown', equalizeSizes);\n            hook.after(this, 'refreshOptions', equalizeSizes);\n        }\n\n\n    });\n\n    Selectize.define('remove_button', function(options) {\n        if (this.settings.mode === 'single') return;\n\n        options = $.extend({\n            label     : '&times;',\n            title     : 'Remove',\n            className : 'remove',\n            append    : true\n        }, options);\n\n        var self = this;\n        var html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\n        /**\n         * Appends an element as a child (with raw HTML).\n         *\n         * @param {string} html_container\n         * @param {string} html_element\n         * @return {string}\n         */\n        var append = function(html_container, html_element) {\n            var pos = html_container.search(/(<\\/[^>]+>\\s*)$/);\n            return html_container.substring(0, pos) + html_element + html_container.substring(pos);\n        };\n\n        this.setup = (function() {\n            var original = self.setup;\n            return function() {\n                // override the item rendering method to add the button to each\n                if (options.append) {\n                    var render_item = self.settings.render.item;\n                    self.settings.render.item = function(data) {\n                        return append(render_item.apply(this, arguments), html);\n                    };\n                }\n\n                original.apply(this, arguments);\n\n                // add event listener\n                this.$control.on('click', '.' + options.className, function(e) {\n                    e.preventDefault();\n                    if (self.isLocked) return;\n\n                    var $item = $(e.currentTarget).parent();\n                    self.setActiveItem($item);\n                    if (self.deleteSelection()) {\n                        self.setCaret(self.items.length);\n                    }\n                });\n\n            };\n        })();\n\n    });\n\n    Selectize.define('restore_on_backspace', function(options) {\n        var self = this;\n\n        options.text = options.text || function(option) {\n                return option[this.settings.labelField];\n            };\n\n        this.onKeyDown = (function() {\n            var original = self.onKeyDown;\n            return function(e) {\n                var index, option;\n                if (e.keyCode === KEY_BACKSPACE && this.$control_input.val() === '' && !this.$activeItems.length) {\n                    index = this.caretPos - 1;\n                    if (index >= 0 && index < this.items.length) {\n                        option = this.options[this.items[index]];\n                        if (this.deleteSelection(e)) {\n                            this.setTextboxValue(options.text.apply(this, [option]));\n                            this.refreshOptions(true);\n                        }\n                        e.preventDefault();\n                        return;\n                    }\n                }\n                return original.apply(this, arguments);\n            };\n        })();\n    });\n\n\n    return Selectize;\n}));","/*! modernizr 3.2.0 (Custom Build) -> detect CSS animations | MIT *\r\n * http://modernizr.com/download/?-cssanimations !*/\r\n!function(e,n,t){function r(e,n){return typeof e===n}function o(){var e,n,t,o,s,i,a;for(var l in C)if(C.hasOwnProperty(l)){if(e=[],n=C[l],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(o=r(n.fn,\"function\")?n.fn():n.fn,s=0;s<e.length;s++)i=e[s],a=i.split(\".\"),1===a.length?LA_Modernizr[a[0]]=o:(!LA_Modernizr[a[0]]||LA_Modernizr[a[0]]instanceof Boolean||(LA_Modernizr[a[0]]=new Boolean(LA_Modernizr[a[0]])),LA_Modernizr[a[0]][a[1]]=o),g.push((o?\"\":\"no-\")+a.join(\"-\"))}}function s(e){var n=_.className,t=LA_Modernizr._config.classPrefix||\"\";if(S&&(n=n.baseVal),LA_Modernizr._config.enableJSClass){var r=new RegExp(\"(^|\\\\s)\"+t+\"no-js(\\\\s|$)\");n=n.replace(r,\"$1\"+t+\"js$2\")}LA_Modernizr._config.enableClasses&&(n+=\" \"+t+e.join(\" \"+t),S?_.className.baseVal=n:_.className=n)}function i(e,n){return!!~(\"\"+e).indexOf(n)}function a(){return\"function\"!=typeof n.createElement?n.createElement(arguments[0]):S?n.createElementNS.call(n,\"http://www.w3.org/2000/svg\",arguments[0]):n.createElement.apply(n,arguments)}function l(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,\"\")}function f(e,n){return function(){return e.apply(n,arguments)}}function u(e,n,t){var o;for(var s in e)if(e[s]in n)return t===!1?e[s]:(o=n[e[s]],r(o,\"function\")?f(o,t||n):o);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,n){return\"-\"+n.toLowerCase()}).replace(/^ms-/,\"-ms-\")}function c(){var e=n.body;return e||(e=a(S?\"svg\":\"body\"),e.fake=!0),e}function p(e,t,r,o){var s,i,l,f,u=\"modernizr\",d=a(\"div\"),p=c();if(parseInt(r,10))for(;r--;)l=a(\"div\"),l.id=o?o[r]:u+(r+1),d.appendChild(l);return s=a(\"style\"),s.type=\"text/css\",s.id=\"s\"+u,(p.fake?p:d).appendChild(s),p.appendChild(d),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(n.createTextNode(e)),d.id=u,p.fake&&(p.style.background=\"\",p.style.overflow=\"hidden\",f=_.style.overflow,_.style.overflow=\"hidden\",_.appendChild(p)),i=t(d,e),p.fake?(p.parentNode.removeChild(p),_.style.overflow=f,_.offsetHeight):d.parentNode.removeChild(d),!!i}function m(n,r){var o=n.length;if(\"CSS\"in e&&\"supports\"in e.CSS){for(;o--;)if(e.CSS.supports(d(n[o]),r))return!0;return!1}if(\"CSSSupportsRule\"in e){for(var s=[];o--;)s.push(\"(\"+d(n[o])+\":\"+r+\")\");return s=s.join(\" or \"),p(\"@supports (\"+s+\") { #modernizr { position: absolute; } }\",function(e){return\"absolute\"==getComputedStyle(e,null).position})}return t}function h(e,n,o,s){function f(){d&&(delete P.style,delete P.modElem)}if(s=r(s,\"undefined\")?!1:s,!r(o,\"undefined\")){var u=m(e,o);if(!r(u,\"undefined\"))return u}for(var d,c,p,h,v,y=[\"modernizr\",\"tspan\"];!P.style;)d=!0,P.modElem=a(y.shift()),P.style=P.modElem.style;for(p=e.length,c=0;p>c;c++)if(h=e[c],v=P.style[h],i(h,\"-\")&&(h=l(h)),P.style[h]!==t){if(s||r(o,\"undefined\"))return f(),\"pfx\"==n?h:!0;try{P.style[h]=o}catch(g){}if(P.style[h]!=v)return f(),\"pfx\"==n?h:!0}return f(),!1}function v(e,n,t,o,s){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+\" \"+b.join(i+\" \")+i).split(\" \");return r(n,\"string\")||r(n,\"undefined\")?h(a,n,o,s):(a=(e+\" \"+E.join(i+\" \")+i).split(\" \"),u(a,n,t))}function y(e,n,r){return v(e,t,t,n,r)}var g=[],C=[],w={_version:\"3.2.0\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){C.push({name:e,fn:n,options:t})},addAsyncTest:function(e){C.push({name:null,fn:e})}},LA_Modernizr=function(){};LA_Modernizr.prototype=w,LA_Modernizr=new LA_Modernizr;var _=n.documentElement,S=\"svg\"===_.nodeName.toLowerCase(),x=\"Moz O ms Webkit\",b=w._config.usePrefixes?x.split(\" \"):[];w._cssomPrefixes=b;var E=w._config.usePrefixes?x.toLowerCase().split(\" \"):[];w._domPrefixes=E;var N={elem:a(\"modernizr\")};LA_Modernizr._q.push(function(){delete N.elem});var P={style:N.elem.style};LA_Modernizr._q.unshift(function(){delete P.style}),w.testAllProps=v,w.testAllProps=y,LA_Modernizr.addTest(\"cssanimations\",y(\"animationName\",\"a\",!0)),o(),s(g),delete w.addTest,delete w.addAsyncTest;for(var z=0;z<LA_Modernizr._q.length;z++)LA_Modernizr._q[z]();e.LA_Modernizr=LA_Modernizr}(window,document);\r\n\r\n// matrix library\r\neval(function (p, a, c, k, e, r) {\r\n    e = function (c) {\r\n        return (c < a ? '' : e(parseInt(c / a))) + ((c = c % a) > 35 ? String.fromCharCode(c + 29) : c.toString(36))\r\n    };\r\n    if (!''.replace(/^/, String)) {\r\n        while (c--) r[e(c)] = k[c] || e(c);\r\n        k = [\r\n            function (e) {\r\n                return r[e]\r\n            }\r\n        ];\r\n        e = function () {\r\n            return '\\\\w+'\r\n        };\r\n        c = 1\r\n    }\r\n    ;\r\n    while (c--)\r\n        if (k[c]) p = p.replace(new RegExp('\\\\b' + e(c) + '\\\\b', 'g'), k[c]);\r\n    return p\r\n}('9 17={3i:\\'0.1.3\\',16:1e-6};l v(){}v.23={e:l(i){8(i<1||i>7.4.q)?w:7.4[i-1]},2R:l(){8 7.4.q},1u:l(){8 F.1x(7.2u(7))},24:l(a){9 n=7.4.q;9 V=a.4||a;o(n!=V.q){8 1L}J{o(F.13(7.4[n-1]-V[n-1])>17.16){8 1L}}H(--n);8 2x},1q:l(){8 v.u(7.4)},1b:l(a){9 b=[];7.28(l(x,i){b.19(a(x,i))});8 v.u(b)},28:l(a){9 n=7.4.q,k=n,i;J{i=k-n;a(7.4[i],i+1)}H(--n)},2q:l(){9 r=7.1u();o(r===0){8 7.1q()}8 7.1b(l(x){8 x/r})},1C:l(a){9 V=a.4||a;9 n=7.4.q,k=n,i;o(n!=V.q){8 w}9 b=0,1D=0,1F=0;7.28(l(x,i){b+=x*V[i-1];1D+=x*x;1F+=V[i-1]*V[i-1]});1D=F.1x(1D);1F=F.1x(1F);o(1D*1F===0){8 w}9 c=b/(1D*1F);o(c<-1){c=-1}o(c>1){c=1}8 F.37(c)},1m:l(a){9 b=7.1C(a);8(b===w)?w:(b<=17.16)},34:l(a){9 b=7.1C(a);8(b===w)?w:(F.13(b-F.1A)<=17.16)},2k:l(a){9 b=7.2u(a);8(b===w)?w:(F.13(b)<=17.16)},2j:l(a){9 V=a.4||a;o(7.4.q!=V.q){8 w}8 7.1b(l(x,i){8 x+V[i-1]})},2C:l(a){9 V=a.4||a;o(7.4.q!=V.q){8 w}8 7.1b(l(x,i){8 x-V[i-1]})},22:l(k){8 7.1b(l(x){8 x*k})},x:l(k){8 7.22(k)},2u:l(a){9 V=a.4||a;9 i,2g=0,n=7.4.q;o(n!=V.q){8 w}J{2g+=7.4[n-1]*V[n-1]}H(--n);8 2g},2f:l(a){9 B=a.4||a;o(7.4.q!=3||B.q!=3){8 w}9 A=7.4;8 v.u([(A[1]*B[2])-(A[2]*B[1]),(A[2]*B[0])-(A[0]*B[2]),(A[0]*B[1])-(A[1]*B[0])])},2A:l(){9 m=0,n=7.4.q,k=n,i;J{i=k-n;o(F.13(7.4[i])>F.13(m)){m=7.4[i]}}H(--n);8 m},2Z:l(x){9 a=w,n=7.4.q,k=n,i;J{i=k-n;o(a===w&&7.4[i]==x){a=i+1}}H(--n);8 a},3g:l(){8 S.2X(7.4)},2d:l(){8 7.1b(l(x){8 F.2d(x)})},2V:l(x){8 7.1b(l(y){8(F.13(y-x)<=17.16)?x:y})},1o:l(a){o(a.K){8 a.1o(7)}9 V=a.4||a;o(V.q!=7.4.q){8 w}9 b=0,2b;7.28(l(x,i){2b=x-V[i-1];b+=2b*2b});8 F.1x(b)},3a:l(a){8 a.1h(7)},2T:l(a){8 a.1h(7)},1V:l(t,a){9 V,R,x,y,z;2S(7.4.q){27 2:V=a.4||a;o(V.q!=2){8 w}R=S.1R(t).4;x=7.4[0]-V[0];y=7.4[1]-V[1];8 v.u([V[0]+R[0][0]*x+R[0][1]*y,V[1]+R[1][0]*x+R[1][1]*y]);1I;27 3:o(!a.U){8 w}9 C=a.1r(7).4;R=S.1R(t,a.U).4;x=7.4[0]-C[0];y=7.4[1]-C[1];z=7.4[2]-C[2];8 v.u([C[0]+R[0][0]*x+R[0][1]*y+R[0][2]*z,C[1]+R[1][0]*x+R[1][1]*y+R[1][2]*z,C[2]+R[2][0]*x+R[2][1]*y+R[2][2]*z]);1I;2P:8 w}},1t:l(a){o(a.K){9 P=7.4.2O();9 C=a.1r(P).4;8 v.u([C[0]+(C[0]-P[0]),C[1]+(C[1]-P[1]),C[2]+(C[2]-(P[2]||0))])}1d{9 Q=a.4||a;o(7.4.q!=Q.q){8 w}8 7.1b(l(x,i){8 Q[i-1]+(Q[i-1]-x)})}},1N:l(){9 V=7.1q();2S(V.4.q){27 3:1I;27 2:V.4.19(0);1I;2P:8 w}8 V},2n:l(){8\\'[\\'+7.4.2K(\\', \\')+\\']\\'},26:l(a){7.4=(a.4||a).2O();8 7}};v.u=l(a){9 V=25 v();8 V.26(a)};v.i=v.u([1,0,0]);v.j=v.u([0,1,0]);v.k=v.u([0,0,1]);v.2J=l(n){9 a=[];J{a.19(F.2F())}H(--n);8 v.u(a)};v.1j=l(n){9 a=[];J{a.19(0)}H(--n);8 v.u(a)};l S(){}S.23={e:l(i,j){o(i<1||i>7.4.q||j<1||j>7.4[0].q){8 w}8 7.4[i-1][j-1]},33:l(i){o(i>7.4.q){8 w}8 v.u(7.4[i-1])},2E:l(j){o(j>7.4[0].q){8 w}9 a=[],n=7.4.q,k=n,i;J{i=k-n;a.19(7.4[i][j-1])}H(--n);8 v.u(a)},2R:l(){8{2D:7.4.q,1p:7.4[0].q}},2D:l(){8 7.4.q},1p:l(){8 7.4[0].q},24:l(a){9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}o(7.4.q!=M.q||7.4[0].q!=M[0].q){8 1L}9 b=7.4.q,15=b,i,G,10=7.4[0].q,j;J{i=15-b;G=10;J{j=10-G;o(F.13(7.4[i][j]-M[i][j])>17.16){8 1L}}H(--G)}H(--b);8 2x},1q:l(){8 S.u(7.4)},1b:l(a){9 b=[],12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;b[i]=[];J{j=10-G;b[i][j]=a(7.4[i][j],i+1,j+1)}H(--G)}H(--12);8 S.u(b)},2i:l(a){9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}8(7.4.q==M.q&&7.4[0].q==M[0].q)},2j:l(a){9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}o(!7.2i(M)){8 w}8 7.1b(l(x,i,j){8 x+M[i-1][j-1]})},2C:l(a){9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}o(!7.2i(M)){8 w}8 7.1b(l(x,i,j){8 x-M[i-1][j-1]})},2B:l(a){9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}8(7.4[0].q==M.q)},22:l(a){o(!a.4){8 7.1b(l(x){8 x*a})}9 b=a.1u?2x:1L;9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}o(!7.2B(M)){8 w}9 d=7.4.q,15=d,i,G,10=M[0].q,j;9 e=7.4[0].q,4=[],21,20,c;J{i=15-d;4[i]=[];G=10;J{j=10-G;21=0;20=e;J{c=e-20;21+=7.4[i][c]*M[c][j]}H(--20);4[i][j]=21}H(--G)}H(--d);9 M=S.u(4);8 b?M.2E(1):M},x:l(a){8 7.22(a)},32:l(a,b,c,d){9 e=[],12=c,i,G,j;9 f=7.4.q,1p=7.4[0].q;J{i=c-12;e[i]=[];G=d;J{j=d-G;e[i][j]=7.4[(a+i-1)%f][(b+j-1)%1p]}H(--G)}H(--12);8 S.u(e)},31:l(){9 a=7.4.q,1p=7.4[0].q;9 b=[],12=1p,i,G,j;J{i=1p-12;b[i]=[];G=a;J{j=a-G;b[i][j]=7.4[j][i]}H(--G)}H(--12);8 S.u(b)},1y:l(){8(7.4.q==7.4[0].q)},2A:l(){9 m=0,12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;J{j=10-G;o(F.13(7.4[i][j])>F.13(m)){m=7.4[i][j]}}H(--G)}H(--12);8 m},2Z:l(x){9 a=w,12=7.4.q,15=12,i,G,10=7.4[0].q,j;J{i=15-12;G=10;J{j=10-G;o(7.4[i][j]==x){8{i:i+1,j:j+1}}}H(--G)}H(--12);8 w},30:l(){o(!7.1y){8 w}9 a=[],n=7.4.q,k=n,i;J{i=k-n;a.19(7.4[i][i])}H(--n);8 v.u(a)},1K:l(){9 M=7.1q(),1c;9 n=7.4.q,k=n,i,1s,1n=7.4[0].q,p;J{i=k-n;o(M.4[i][i]==0){2e(j=i+1;j<k;j++){o(M.4[j][i]!=0){1c=[];1s=1n;J{p=1n-1s;1c.19(M.4[i][p]+M.4[j][p])}H(--1s);M.4[i]=1c;1I}}}o(M.4[i][i]!=0){2e(j=i+1;j<k;j++){9 a=M.4[j][i]/M.4[i][i];1c=[];1s=1n;J{p=1n-1s;1c.19(p<=i?0:M.4[j][p]-M.4[i][p]*a)}H(--1s);M.4[j]=1c}}}H(--n);8 M},3h:l(){8 7.1K()},2z:l(){o(!7.1y()){8 w}9 M=7.1K();9 a=M.4[0][0],n=M.4.q-1,k=n,i;J{i=k-n+1;a=a*M.4[i][i]}H(--n);8 a},3f:l(){8 7.2z()},2y:l(){8(7.1y()&&7.2z()===0)},2Y:l(){o(!7.1y()){8 w}9 a=7.4[0][0],n=7.4.q-1,k=n,i;J{i=k-n+1;a+=7.4[i][i]}H(--n);8 a},3e:l(){8 7.2Y()},1Y:l(){9 M=7.1K(),1Y=0;9 a=7.4.q,15=a,i,G,10=7.4[0].q,j;J{i=15-a;G=10;J{j=10-G;o(F.13(M.4[i][j])>17.16){1Y++;1I}}H(--G)}H(--a);8 1Y},3d:l(){8 7.1Y()},2W:l(a){9 M=a.4||a;o(1g(M[0][0])==\\'1f\\'){M=S.u(M).4}9 T=7.1q(),1p=T.4[0].q;9 b=T.4.q,15=b,i,G,10=M[0].q,j;o(b!=M.q){8 w}J{i=15-b;G=10;J{j=10-G;T.4[i][1p+j]=M[i][j]}H(--G)}H(--b);8 T},2w:l(){o(!7.1y()||7.2y()){8 w}9 a=7.4.q,15=a,i,j;9 M=7.2W(S.I(a)).1K();9 b,1n=M.4[0].q,p,1c,2v;9 c=[],2c;J{i=a-1;1c=[];b=1n;c[i]=[];2v=M.4[i][i];J{p=1n-b;2c=M.4[i][p]/2v;1c.19(2c);o(p>=15){c[i].19(2c)}}H(--b);M.4[i]=1c;2e(j=0;j<i;j++){1c=[];b=1n;J{p=1n-b;1c.19(M.4[j][p]-M.4[i][p]*M.4[j][i])}H(--b);M.4[j]=1c}}H(--a);8 S.u(c)},3c:l(){8 7.2w()},2d:l(){8 7.1b(l(x){8 F.2d(x)})},2V:l(x){8 7.1b(l(p){8(F.13(p-x)<=17.16)?x:p})},2n:l(){9 a=[];9 n=7.4.q,k=n,i;J{i=k-n;a.19(v.u(7.4[i]).2n())}H(--n);8 a.2K(\\'\\\\n\\')},26:l(a){9 i,4=a.4||a;o(1g(4[0][0])!=\\'1f\\'){9 b=4.q,15=b,G,10,j;7.4=[];J{i=15-b;G=4[i].q;10=G;7.4[i]=[];J{j=10-G;7.4[i][j]=4[i][j]}H(--G)}H(--b);8 7}9 n=4.q,k=n;7.4=[];J{i=k-n;7.4.19([4[i]])}H(--n);8 7}};S.u=l(a){9 M=25 S();8 M.26(a)};S.I=l(n){9 a=[],k=n,i,G,j;J{i=k-n;a[i]=[];G=k;J{j=k-G;a[i][j]=(i==j)?1:0}H(--G)}H(--n);8 S.u(a)};S.2X=l(a){9 n=a.q,k=n,i;9 M=S.I(n);J{i=k-n;M.4[i][i]=a[i]}H(--n);8 M};S.1R=l(b,a){o(!a){8 S.u([[F.1H(b),-F.1G(b)],[F.1G(b),F.1H(b)]])}9 d=a.1q();o(d.4.q!=3){8 w}9 e=d.1u();9 x=d.4[0]/e,y=d.4[1]/e,z=d.4[2]/e;9 s=F.1G(b),c=F.1H(b),t=1-c;8 S.u([[t*x*x+c,t*x*y-s*z,t*x*z+s*y],[t*x*y+s*z,t*y*y+c,t*y*z-s*x],[t*x*z-s*y,t*y*z+s*x,t*z*z+c]])};S.3b=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[1,0,0],[0,c,-s],[0,s,c]])};S.39=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[c,0,s],[0,1,0],[-s,0,c]])};S.38=l(t){9 c=F.1H(t),s=F.1G(t);8 S.u([[c,-s,0],[s,c,0],[0,0,1]])};S.2J=l(n,m){8 S.1j(n,m).1b(l(){8 F.2F()})};S.1j=l(n,m){9 a=[],12=n,i,G,j;J{i=n-12;a[i]=[];G=m;J{j=m-G;a[i][j]=0}H(--G)}H(--12);8 S.u(a)};l 14(){}14.23={24:l(a){8(7.1m(a)&&7.1h(a.K))},1q:l(){8 14.u(7.K,7.U)},2U:l(a){9 V=a.4||a;8 14.u([7.K.4[0]+V[0],7.K.4[1]+V[1],7.K.4[2]+(V[2]||0)],7.U)},1m:l(a){o(a.W){8 a.1m(7)}9 b=7.U.1C(a.U);8(F.13(b)<=17.16||F.13(b-F.1A)<=17.16)},1o:l(a){o(a.W){8 a.1o(7)}o(a.U){o(7.1m(a)){8 7.1o(a.K)}9 N=7.U.2f(a.U).2q().4;9 A=7.K.4,B=a.K.4;8 F.13((A[0]-B[0])*N[0]+(A[1]-B[1])*N[1]+(A[2]-B[2])*N[2])}1d{9 P=a.4||a;9 A=7.K.4,D=7.U.4;9 b=P[0]-A[0],2a=P[1]-A[1],29=(P[2]||0)-A[2];9 c=F.1x(b*b+2a*2a+29*29);o(c===0)8 0;9 d=(b*D[0]+2a*D[1]+29*D[2])/c;9 e=1-d*d;8 F.13(c*F.1x(e<0?0:e))}},1h:l(a){9 b=7.1o(a);8(b!==w&&b<=17.16)},2T:l(a){8 a.1h(7)},1v:l(a){o(a.W){8 a.1v(7)}8(!7.1m(a)&&7.1o(a)<=17.16)},1U:l(a){o(a.W){8 a.1U(7)}o(!7.1v(a)){8 w}9 P=7.K.4,X=7.U.4,Q=a.K.4,Y=a.U.4;9 b=X[0],1z=X[1],1B=X[2],1T=Y[0],1S=Y[1],1M=Y[2];9 c=P[0]-Q[0],2s=P[1]-Q[1],2r=P[2]-Q[2];9 d=-b*c-1z*2s-1B*2r;9 e=1T*c+1S*2s+1M*2r;9 f=b*b+1z*1z+1B*1B;9 g=1T*1T+1S*1S+1M*1M;9 h=b*1T+1z*1S+1B*1M;9 k=(d*g/f+h*e)/(g-h*h);8 v.u([P[0]+k*b,P[1]+k*1z,P[2]+k*1B])},1r:l(a){o(a.U){o(7.1v(a)){8 7.1U(a)}o(7.1m(a)){8 w}9 D=7.U.4,E=a.U.4;9 b=D[0],1l=D[1],1k=D[2],1P=E[0],1O=E[1],1Q=E[2];9 x=(1k*1P-b*1Q),y=(b*1O-1l*1P),z=(1l*1Q-1k*1O);9 N=v.u([x*1Q-y*1O,y*1P-z*1Q,z*1O-x*1P]);9 P=11.u(a.K,N);8 P.1U(7)}1d{9 P=a.4||a;o(7.1h(P)){8 v.u(P)}9 A=7.K.4,D=7.U.4;9 b=D[0],1l=D[1],1k=D[2],1w=A[0],18=A[1],1a=A[2];9 x=b*(P[1]-18)-1l*(P[0]-1w),y=1l*((P[2]||0)-1a)-1k*(P[1]-18),z=1k*(P[0]-1w)-b*((P[2]||0)-1a);9 V=v.u([1l*x-1k*z,1k*y-b*x,b*z-1l*y]);9 k=7.1o(P)/V.1u();8 v.u([P[0]+V.4[0]*k,P[1]+V.4[1]*k,(P[2]||0)+V.4[2]*k])}},1V:l(t,a){o(1g(a.U)==\\'1f\\'){a=14.u(a.1N(),v.k)}9 R=S.1R(t,a.U).4;9 C=a.1r(7.K).4;9 A=7.K.4,D=7.U.4;9 b=C[0],1E=C[1],1J=C[2],1w=A[0],18=A[1],1a=A[2];9 x=1w-b,y=18-1E,z=1a-1J;8 14.u([b+R[0][0]*x+R[0][1]*y+R[0][2]*z,1E+R[1][0]*x+R[1][1]*y+R[1][2]*z,1J+R[2][0]*x+R[2][1]*y+R[2][2]*z],[R[0][0]*D[0]+R[0][1]*D[1]+R[0][2]*D[2],R[1][0]*D[0]+R[1][1]*D[1]+R[1][2]*D[2],R[2][0]*D[0]+R[2][1]*D[1]+R[2][2]*D[2]])},1t:l(a){o(a.W){9 A=7.K.4,D=7.U.4;9 b=A[0],18=A[1],1a=A[2],2N=D[0],1l=D[1],1k=D[2];9 c=7.K.1t(a).4;9 d=b+2N,2h=18+1l,2o=1a+1k;9 Q=a.1r([d,2h,2o]).4;9 e=[Q[0]+(Q[0]-d)-c[0],Q[1]+(Q[1]-2h)-c[1],Q[2]+(Q[2]-2o)-c[2]];8 14.u(c,e)}1d o(a.U){8 7.1V(F.1A,a)}1d{9 P=a.4||a;8 14.u(7.K.1t([P[0],P[1],(P[2]||0)]),7.U)}},1Z:l(a,b){a=v.u(a);b=v.u(b);o(a.4.q==2){a.4.19(0)}o(b.4.q==2){b.4.19(0)}o(a.4.q>3||b.4.q>3){8 w}9 c=b.1u();o(c===0){8 w}7.K=a;7.U=v.u([b.4[0]/c,b.4[1]/c,b.4[2]/c]);8 7}};14.u=l(a,b){9 L=25 14();8 L.1Z(a,b)};14.X=14.u(v.1j(3),v.i);14.Y=14.u(v.1j(3),v.j);14.Z=14.u(v.1j(3),v.k);l 11(){}11.23={24:l(a){8(7.1h(a.K)&&7.1m(a))},1q:l(){8 11.u(7.K,7.W)},2U:l(a){9 V=a.4||a;8 11.u([7.K.4[0]+V[0],7.K.4[1]+V[1],7.K.4[2]+(V[2]||0)],7.W)},1m:l(a){9 b;o(a.W){b=7.W.1C(a.W);8(F.13(b)<=17.16||F.13(F.1A-b)<=17.16)}1d o(a.U){8 7.W.2k(a.U)}8 w},2k:l(a){9 b=7.W.1C(a.W);8(F.13(F.1A/2-b)<=17.16)},1o:l(a){o(7.1v(a)||7.1h(a)){8 0}o(a.K){9 A=7.K.4,B=a.K.4,N=7.W.4;8 F.13((A[0]-B[0])*N[0]+(A[1]-B[1])*N[1]+(A[2]-B[2])*N[2])}1d{9 P=a.4||a;9 A=7.K.4,N=7.W.4;8 F.13((A[0]-P[0])*N[0]+(A[1]-P[1])*N[1]+(A[2]-(P[2]||0))*N[2])}},1h:l(a){o(a.W){8 w}o(a.U){8(7.1h(a.K)&&7.1h(a.K.2j(a.U)))}1d{9 P=a.4||a;9 A=7.K.4,N=7.W.4;9 b=F.13(N[0]*(A[0]-P[0])+N[1]*(A[1]-P[1])+N[2]*(A[2]-(P[2]||0)));8(b<=17.16)}},1v:l(a){o(1g(a.U)==\\'1f\\'&&1g(a.W)==\\'1f\\'){8 w}8!7.1m(a)},1U:l(a){o(!7.1v(a)){8 w}o(a.U){9 A=a.K.4,D=a.U.4,P=7.K.4,N=7.W.4;9 b=(N[0]*(P[0]-A[0])+N[1]*(P[1]-A[1])+N[2]*(P[2]-A[2]))/(N[0]*D[0]+N[1]*D[1]+N[2]*D[2]);8 v.u([A[0]+D[0]*b,A[1]+D[1]*b,A[2]+D[2]*b])}1d o(a.W){9 c=7.W.2f(a.W).2q();9 N=7.W.4,A=7.K.4,O=a.W.4,B=a.K.4;9 d=S.1j(2,2),i=0;H(d.2y()){i++;d=S.u([[N[i%3],N[(i+1)%3]],[O[i%3],O[(i+1)%3]]])}9 e=d.2w().4;9 x=N[0]*A[0]+N[1]*A[1]+N[2]*A[2];9 y=O[0]*B[0]+O[1]*B[1]+O[2]*B[2];9 f=[e[0][0]*x+e[0][1]*y,e[1][0]*x+e[1][1]*y];9 g=[];2e(9 j=1;j<=3;j++){g.19((i==j)?0:f[(j+(5-i)%3)%3])}8 14.u(g,c)}},1r:l(a){9 P=a.4||a;9 A=7.K.4,N=7.W.4;9 b=(A[0]-P[0])*N[0]+(A[1]-P[1])*N[1]+(A[2]-(P[2]||0))*N[2];8 v.u([P[0]+N[0]*b,P[1]+N[1]*b,(P[2]||0)+N[2]*b])},1V:l(t,a){9 R=S.1R(t,a.U).4;9 C=a.1r(7.K).4;9 A=7.K.4,N=7.W.4;9 b=C[0],1E=C[1],1J=C[2],1w=A[0],18=A[1],1a=A[2];9 x=1w-b,y=18-1E,z=1a-1J;8 11.u([b+R[0][0]*x+R[0][1]*y+R[0][2]*z,1E+R[1][0]*x+R[1][1]*y+R[1][2]*z,1J+R[2][0]*x+R[2][1]*y+R[2][2]*z],[R[0][0]*N[0]+R[0][1]*N[1]+R[0][2]*N[2],R[1][0]*N[0]+R[1][1]*N[1]+R[1][2]*N[2],R[2][0]*N[0]+R[2][1]*N[1]+R[2][2]*N[2]])},1t:l(a){o(a.W){9 A=7.K.4,N=7.W.4;9 b=A[0],18=A[1],1a=A[2],2M=N[0],2L=N[1],2Q=N[2];9 c=7.K.1t(a).4;9 d=b+2M,2p=18+2L,2m=1a+2Q;9 Q=a.1r([d,2p,2m]).4;9 e=[Q[0]+(Q[0]-d)-c[0],Q[1]+(Q[1]-2p)-c[1],Q[2]+(Q[2]-2m)-c[2]];8 11.u(c,e)}1d o(a.U){8 7.1V(F.1A,a)}1d{9 P=a.4||a;8 11.u(7.K.1t([P[0],P[1],(P[2]||0)]),7.W)}},1Z:l(a,b,c){a=v.u(a);a=a.1N();o(a===w){8 w}b=v.u(b);b=b.1N();o(b===w){8 w}o(1g(c)==\\'1f\\'){c=w}1d{c=v.u(c);c=c.1N();o(c===w){8 w}}9 d=a.4[0],18=a.4[1],1a=a.4[2];9 e=b.4[0],1W=b.4[1],1X=b.4[2];9 f,1i;o(c!==w){9 g=c.4[0],2l=c.4[1],2t=c.4[2];f=v.u([(1W-18)*(2t-1a)-(1X-1a)*(2l-18),(1X-1a)*(g-d)-(e-d)*(2t-1a),(e-d)*(2l-18)-(1W-18)*(g-d)]);1i=f.1u();o(1i===0){8 w}f=v.u([f.4[0]/1i,f.4[1]/1i,f.4[2]/1i])}1d{1i=F.1x(e*e+1W*1W+1X*1X);o(1i===0){8 w}f=v.u([b.4[0]/1i,b.4[1]/1i,b.4[2]/1i])}7.K=a;7.W=f;8 7}};11.u=l(a,b,c){9 P=25 11();8 P.1Z(a,b,c)};11.2I=11.u(v.1j(3),v.k);11.2H=11.u(v.1j(3),v.i);11.2G=11.u(v.1j(3),v.j);11.36=11.2I;11.35=11.2H;11.3j=11.2G;9 $V=v.u;9 $M=S.u;9 $L=14.u;9 $P=11.u;', 62, 206, '||||elements|||this|return|var||||||||||||function|||if||length||||create|Vector|null|||||||||Math|nj|while||do|anchor||||||||Matrix||direction||normal||||kj|Plane|ni|abs|Line|ki|precision|Sylvester|A2|push|A3|map|els|else||undefined|typeof|contains|mod|Zero|D3|D2|isParallelTo|kp|distanceFrom|cols|dup|pointClosestTo|np|reflectionIn|modulus|intersects|A1|sqrt|isSquare|X2|PI|X3|angleFrom|mod1|C2|mod2|sin|cos|break|C3|toRightTriangular|false|Y3|to3D|E2|E1|E3|Rotation|Y2|Y1|intersectionWith|rotate|v12|v13|rank|setVectors|nc|sum|multiply|prototype|eql|new|setElements|case|each|PA3|PA2|part|new_element|round|for|cross|product|AD2|isSameSizeAs|add|isPerpendicularTo|v22|AN3|inspect|AD3|AN2|toUnitVector|PsubQ3|PsubQ2|v23|dot|divisor|inverse|true|isSingular|determinant|max|canMultiplyFromLeft|subtract|rows|col|random|ZX|YZ|XY|Random|join|N2|N1|D1|slice|default|N3|dimensions|switch|liesIn|translate|snapTo|augment|Diagonal|trace|indexOf|diagonal|transpose|minor|row|isAntiparallelTo|ZY|YX|acos|RotationZ|RotationY|liesOn|RotationX|inv|rk|tr|det|toDiagonalMatrix|toUpperTriangular|version|XZ'.split('|'), 0, {}))\r\n\r\n// transformation matrix calculation\r\nvar _T = {\r\n    rotate: function (deg) {\r\n        var rad = parseFloat(deg) * (Math.PI / 180),\r\n            costheta = Math.cos(rad),\r\n            sintheta = Math.sin(rad);\r\n\r\n        var a = costheta,\r\n            b = sintheta,\r\n            c = -sintheta,\r\n            d = costheta;\r\n\r\n        return $M([\r\n            [a, c, 0],\r\n            [b, d, 0],\r\n            [0, 0, 1]\r\n        ]);\r\n    },\r\n\r\n    skew: function (dx, dy) {\r\n        var radX = parseFloat(dx) * (Math.PI / 180),\r\n            radY = parseFloat(dy) * (Math.PI / 180),\r\n            c = Math.tan(radX),\r\n            b = Math.tan(radY);\r\n\r\n\r\n        return $M([\r\n            [1, c, 0],\r\n            [b, 1, 0],\r\n            [0, 0, 1]\r\n        ]);\r\n    },\r\n\r\n    translate: function (x, y) {\r\n        var e = x || 0,\r\n            f = y || 0;\r\n\r\n        return $M([\r\n            [1, 0, e],\r\n            [0, 1, f],\r\n            [0, 0, 1]\r\n        ]);\r\n    },\r\n\r\n    scale: function (x, y) {\r\n        var a = x || 0,\r\n            d = y || 0;\r\n\r\n        return $M([\r\n            [a, 0, 0],\r\n            [0, d, 0],\r\n            [0, 0, 1]\r\n        ]);\r\n    },\r\n\r\n    toString: function (m) {\r\n        var s = 'matrix(',\r\n            r, c;\r\n\r\n        for (c = 1; c <= 3; c++) {\r\n            for (r = 1; r <= 2; r++)\r\n                s += m.e(r, c) + ', ';\r\n        }\r\n\r\n        s = s.substr(0, s.length - 2) + ')';\r\n\r\n        return s;\r\n    },\r\n\r\n    fromString: function (s) {\r\n        var t = /^matrix\\((\\S*), (\\S*), (\\S*), (\\S*), (\\S*), (\\S*)\\)$/g.exec(s),\r\n            a = parseFloat(!t ? 1 : t[1]),\r\n            b = parseFloat(!t ? 0 : t[2]),\r\n            c = parseFloat(!t ? 0 : t[3]),\r\n            d = parseFloat(!t ? 1 : t[4]),\r\n            e = parseFloat(!t ? 0 : t[5]),\r\n            f = parseFloat(!t ? 0 : t[6]);\r\n\r\n        return $M([\r\n            [a, c, e],\r\n            [b, d, f],\r\n            [0, 0, 1]\r\n        ]);\r\n    }\r\n};\r\n\r\n/**\r\n * Awesome Panel library\r\n *\r\n * Usage example:\r\n *\r\n * HTML - Insert unique plugin-wide {ID}\r\n * --------\r\n * <div class=\"a-slide-panel\" id=\"a-slide-panel-{ID}\">\r\n *    <div id=\"a-slide-panel-spinner\" class=\"a-spinner at-transition\"></div>\r\n * </div>\r\n *\r\n * CSS - Insert correct path to spinner image\r\n * --------\r\n * .a-slide-panel .a-spinner{\r\n *    background: url(\"/wp-content/plugins/{PLUGIN}/admin/img/loading.svg\") center center transparent no-repeat;\r\n * }\r\n *\r\n * JS - params Object\r\n * -------- *\r\n * id               string      |   panel unique ID\r\n * item_id          int         |   model item ID\r\n * model_name       string      |   model name (for example custom post type name)\r\n * html             string      |   DOM element #id to insert into panel\r\n * direction        string      |   [right|left|top|bottom] direction for slide\r\n * width            string      |   panel width in px / %\r\n * height           string      |   panel height in px / %\r\n * load_model       callback    |   function to load some data from DB into JS (Backbone etc) model. Must return Deferred object\r\n * callback_open    callback    |   called after panel initialized\r\n * callback_close   callback    |   called after panel closed\r\n *\r\n */\r\n\r\nvar AwesomePanel = function (options) {\r\n    'use strict';\r\n\r\n    var $ = jQuery; // enable jQuery\r\n    var self = this;\r\n\r\n    // Data\r\n    self.options = options;\r\n    self.id = options.id;\r\n    self.item_id = options.item_id; // model item ID passed from page\r\n    self.model_name = options.model_name; // model name passed from page\r\n    self.content_url = options.content_url; // model name passed from page\r\n    self.overlayvisible = true; // store click on overlay to close panel\r\n\r\n    // todo: do this calculations and caching once\r\n    var $body = $('body');\r\n    var $win = $(window);\r\n    var $html = $('html');\r\n    var isIE = /msie|trident.*rv\\:11\\./.test(navigator.userAgent.toLowerCase());\r\n    var isFF = /firefox/.test(navigator.userAgent.toLowerCase());\r\n    var transProp = getVendorPropertyName('transform');\r\n    var translation = _T.translate((self.direction === 'left' ? parseInt(self.width) : -parseInt(self.width)), 0);\r\n    var defTranslationStr = _T.toString(_T.translate(0, 0));\r\n    var htmlMargins = {\r\n        top: parseInt($html.css('marginTop')),\r\n        bottom: parseInt($html.css('marginBottom'))\r\n    }\r\n\r\n    // View\r\n    self.panel = $('<div class=\"a-slide-panel\" id=\"a-slide-panel-' + self.id + '\"></div>'); // panel instance\r\n    self.overlay = $('<div></div>').addClass('a-slide-panel-overlay');\r\n    self.spinner = $('<div class=\"a-slide-panel-spinner a-spinner at-transition\"></div>');\r\n\r\n    self.parent = options.parent || 'body'; // panel parent element\r\n    self.position = self.parent == 'body' ? 'fixed' : 'absolute';\r\n\r\n\r\n    self.direction = options.direction || 'left';\r\n    self.animation = options.animation || 'over';\r\n    self.width = options.width || '100%';\r\n    self.height = options.height || '100%';\r\n\r\n    // Show spinner animation\r\n    self.animation_start = function () {\r\n        // show spinner animation\r\n        self.spinner.addClass('fade-animation-in');\r\n    };\r\n\r\n    // Hide spinner animation\r\n    self.animation_end = function () {\r\n        self.spinner.removeClass('fade-animation-in'); // hide spinner animation\r\n    };\r\n\r\n    // Hide panel content\r\n    self.hide_content = function () {\r\n        self.panel.find('.a-slide-panel-content-wrapper').removeClass('fade-animation-in');\r\n    };\r\n\r\n    // Show panel content\r\n    self.show_content = function () {\r\n        self.panel.find('.a-slide-panel-content-wrapper').addClass('fade-animation-in');\r\n    };\r\n\r\n    // Open Panel\r\n    self.open = function () {\r\n        var $parent = $(self.parent);\r\n\r\n        window[self.id + '_panel_openinig'] = true;\r\n        window[self.id + '_overlayvisible'] = true;\r\n\r\n        $parent.append(self.overlay);\r\n        $parent.addClass('a-slide-panel-parent');\r\n\r\n        //create panel\r\n        window[self.id + '_panel_object'] = self;\r\n        window[self.id + '_panel'] = self.panel;\r\n        $parent.append(self.panel);\r\n\r\n        self.panel.css('width', self.width);\r\n        self.panel.css('height', self.height);\r\n\r\n        self.panel.addClass('a-slide-to-' + self.direction);\r\n        setTimeout(function () {\r\n            if (self.animation == 'push') {\r\n                var translate = self.direction == 'left' ? '-' + self.width : self.width;\r\n                var style = '<style type=\"text/css\" id=\"a-slide-panel-styles\">\\\r\n                            .a-slide-panel-push > *{\\\r\n                            -webkit-transform:translateX(' + translate + ');\\\r\n                            -moz-transform:translateX(' + translate + ');\\\r\n                            -ms-transform:translateX(' + translate + ');\\\r\n                            -o-transform:translateX(' + translate + ');\\\r\n                            transform:translateX(' + translate + ');\\\r\n                            }\\\r\n                            </style>';\r\n                $parent.append(style);\r\n            }\r\n\r\n            $parent.addClass('a-slide-panel-' + self.animation);\r\n            self.panel.addClass('a-slide-panel-active');\r\n            $(self.overlay).addClass('open');\r\n            $(self.overlay).css('position', self.position);\r\n\r\n            if (self.animation == 'push') {\r\n                var scroll_top = $win.scrollTop();\r\n                var scroll_left = $win.scrollLeft();\r\n                if (self.direction == 'left' || self.direction == 'right') {\r\n                    scroll_left = +scroll_left;\r\n                }\r\n                $parent.find('*').each(function (i, el) {\r\n                    if (!$(el).hasClass('a-slide-panel') &&\r\n                        !$(el).hasClass('a-slide-panel-overlay') &&\r\n                        !$(el).parent().is($(self.parent)) &&\r\n                        $(el).closest('.a-slide-panel').length === 0) {\r\n                        shiftFixed(i, el, scroll_top, scroll_left);\r\n                    }\r\n                });\r\n            }\r\n\r\n            setTimeout(function () {\r\n                window[self.id + '_panel_openinig'] = false;\r\n\r\n                $parent.addClass('at-overflow-hidden');\r\n                if ($(window).height() < $(document).height()) {\r\n                    $parent.addClass('at-overflow-hidden-' + self.direction);\r\n                }\r\n            }, 400);\r\n        }, 14); // dirty hack to wait css class assign\r\n    };\r\n\r\n    // Close Panel\r\n    self.close = function () {\r\n        $('.close-panel', $(self.parent)).off('click');\r\n        if (self.animation == 'push') {\r\n            var $fixed = $('.at_fixed_inner_el');\r\n            $fixed.each(function (i, el) {\r\n                unshiftFixed(i, el);\r\n            });\r\n        }\r\n        if (LA_Modernizr.cssanimations) {\r\n            $(self.overlay).remove(); // if IE => just remove overlay\r\n            window[self.id + '_overlayvisible'] = false;\r\n        } else { // else remove after animation ends\r\n            $(self.parent).find(self.overlay)\r\n                .one('webkitAnimationEnd oanimationend msAnimationEnd animationend', function () {\r\n                    $(self.overlay).remove();\r\n                }).addClass('remove-overlay');\r\n        }\r\n\r\n        self.panel.removeClass('a-slide-panel-active');\r\n        $(self.parent).removeClass('a-slide-panel-' + self.animation);\r\n\r\n        $(self.parent).removeClass('at-overflow-hidden');\r\n        $(self.parent).removeClass('at-overflow-hidden-' + self.direction);\r\n\r\n        if (typeof self.options.callback_close === 'function') {\r\n            self.options.callback_close(); // close panel callback\r\n        }\r\n\r\n        setTimeout(function () {\r\n            if (self.animation == 'push') {\r\n                $('#a-slide-panel-styles', self.parent).remove();\r\n            }\r\n            $(self.parent).removeClass('a-slide-panel-parent');\r\n            if ($(self.html_pool)) {\r\n                $(self.html_pool).append($(self.html)); // return panel content back to hidden div (aka pool)\r\n            }\r\n            self.hide_content();\r\n            $(self.panel).remove();\r\n            delete window[self.id + '_panel'];\r\n        }, 500);\r\n    };\r\n\r\n    // Append HTML\r\n    self.appendHTML = function () {\r\n        self.html = self.html || options.html; // HTML to append\r\n        self.html_pool = $(self.html).parent();\r\n        var $html = $(self.html) || self.html; // get panel content as jQuery object\r\n        self.panel.append($html); // append panel content\r\n\r\n        self.panel.append(self.spinner); // append spinner\r\n        self.animation_start(); // show loading animation\r\n        self.hide_content(); // hide it temporary (until model is loaded)\r\n    };\r\n\r\n    self.showHTML = function () {\r\n        self.animation_end(); // hide loading animation\r\n        self.show_content(); // show panel content\r\n        if (typeof self.options.callback_open === 'function') {\r\n            self.options.callback_open();\r\n        }\r\n    }\r\n\r\n    // Bind Actions to buttons\r\n    self.bindActions = function () {\r\n        var $parent = $(self.parent);\r\n\r\n        $(self.overlay, $parent).on('click', function () {\r\n            if (window[self.id + '_overlayvisible']) {\r\n                self.close();\r\n            }\r\n        });\r\n        $('.close-panel', $parent).on('click', function () {\r\n            if (window[self.id + '_overlayvisible']) {\r\n                self.close();\r\n            }\r\n        });\r\n    };\r\n\r\n    function shiftFixed(i, el, scrollTop, scrollLeft, bh, wh) {\r\n        var $t = $(el);\r\n        var $offsetP;\r\n        var t;\r\n        var nu;\r\n        var offset;\r\n        var oLeft;\r\n        var oTop;\r\n        var coords;\r\n        var newCSS;\r\n        var _b;\r\n        var transf;\r\n\r\n        if ($t.css('position') === 'fixed') {\r\n\r\n            $t.addClass('at_fixed_inner_el')\r\n\r\n            if (isIE) {\r\n\r\n                t = $t.css(transProp);\r\n\r\n                if (t !== 'none') {\r\n                    $t.attr('ncf-old-matrix', t);\r\n                    t = _T.fromString(t);\r\n                    nu = t.x(translation); // add translation\r\n                    $t.css(transProp, _T.toString(nu)).attr('ncf-transformed', 1);\r\n                } else {\r\n                    $t.css(transProp, _T.toString(translation)/*, transition: trans + 'transform 0.5s cubic-bezier(0.645, 0.045, 0.355, 1)', transitionDelay: '90ms'*/).attr('ncf-transformed', 1);\r\n                }\r\n\r\n            } else {\r\n\r\n                $offsetP = $t;\r\n\r\n                while ($offsetP = $offsetP.parent()) {\r\n                    transf = $offsetP.css(transProp);\r\n                    if ((transf && transf !== 'none') || $offsetP.is('body')) {\r\n                        break\r\n                    }\r\n                }\r\n\r\n                offset = $offsetP.offset();\r\n                oLeft = offset.left;\r\n                oTop = offset.top;\r\n\r\n                if (isFF && $t.is(':visible')) {\r\n                    $t.hide().attr('ncf-ff-hidden', 1);\r\n                }\r\n\r\n                coords = {\r\n                    left: $t.css('left'),\r\n                    right: $t.css('right'),\r\n                    top: $t.css('top'),\r\n                    bottom: $t.css('bottom'),\r\n                    transition: window.getComputedStyle($t.get(0)).transition\r\n                }\r\n\r\n                if (isFF && $t.attr('ncf-ff-hidden')) $t.show();\r\n\r\n                newCSS = {};\r\n                _b = parseInt(coords.bottom);\r\n                _b = isNaN(_b) ? 0 : _b;\r\n\r\n                if (coords.left !== 'auto') {\r\n                    coords.toChangeHor = 'left';\r\n                    newCSS[coords.toChangeHor] = '-=' + (oLeft - scrollLeft);\r\n                } else if (coords.right !== 'auto') {\r\n                    coords.toChangeHor = 'right';\r\n                    newCSS[coords.toChangeHor] = '-=' + (oLeft - scrollLeft);\r\n                } else {\r\n                    coords.toChangeHor = 'left'\r\n                }\r\n\r\n                if (coords.top !== 'auto') {\r\n                    coords.toChangeVert = 'top';\r\n                    newCSS[coords.toChangeVert] = oTop - scrollTop > 0 ? parseInt(coords.top) - (oTop - scrollTop) : parseInt(coords.top) + (scrollTop - oTop);\r\n                } else if (coords.bottom !== 'auto') {\r\n                    coords.toChangeVert = 'bottom';\r\n                    newCSS[coords.toChangeVert] = $body.height() + htmlMargins.top + htmlMargins.bottom + _b - $win.height() - scrollTop + 'px';\r\n                } else {\r\n                    coords.toChangeVert = 'top';\r\n                    newCSS[coords.toChangeVert] = scrollTop;\r\n                }\r\n\r\n                newCSS['transitionProperty'] = 'none';\r\n                $t.css(newCSS).attr('ncf-old-pos', JSON.stringify(coords))\r\n                $t.css('tra')\r\n            }\r\n        }\r\n    }\r\n\r\n    function unshiftFixed(i, el) {\r\n        var $el = $(el);\r\n        var coords;\r\n        var newCss;\r\n        if (isIE) {\r\n            setTimeout(function () {\r\n                $el.removeClass('at_fixed_inner_el');\r\n            }, 500);\r\n            if ($el.attr('ncf-old-matrix')) {\r\n                $el.css(transProp, $el.attr('ncf-old-matrix')).attr('ncf-old-matrix', '');\r\n            } else {\r\n                $el.css(transProp, defTranslationStr).attr('ncf-transformed', '');\r\n            }\r\n        } else {\r\n            setTimeout(function () {\r\n                $el.removeClass('at_fixed_inner_el');\r\n                coords = JSON.parse($el.attr('ncf-old-pos'));\r\n                newCss = {};\r\n                if (coords) {\r\n                    newCss[coords.toChangeHor] = coords[coords.toChangeHor];\r\n                    newCss[coords.toChangeVert] = coords[coords.toChangeVert];\r\n                    //newCss['transitionProperty'] = '';\r\n                    if (coords.toChangeVert === 'bottom') newCss['top'] = '';\r\n                    $el.css(newCss);\r\n                    $el.attr('ncf-old-pos', '');\r\n                } else {\r\n                    $el.css({left: '', top: '', bottom: '', right: '', 'transitionProperty': ''})\r\n                }\r\n            }, 500);\r\n            setTimeout(function () {\r\n                $el.css('transition', coords.transition);\r\n            }, 700);\r\n        }\r\n    }\r\n\r\n    function getVendorPropertyName(prop) {\r\n\r\n        var prefixes = ['Moz', 'Webkit', 'O', 'ms'],\r\n            vendorProp, i,\r\n            div = document.createElement('div'),\r\n            prop_ = prop.charAt(0).toUpperCase() + prop.substr(1);\r\n\r\n        if (prop in div.style) {\r\n            return prop;\r\n        }\r\n\r\n        for (i = 0; i < prefixes.length; ++i) {\r\n\r\n            vendorProp = prefixes[i] + prop_;\r\n\r\n            if (vendorProp in div.style) {\r\n                return vendorProp;\r\n            }\r\n\r\n        }\r\n\r\n        // Avoid memory leak in IE.\r\n        this.div = null;\r\n    };\r\n\r\n\r\n    // Init Panel\r\n    self.init = function () {\r\n        self.open(); // create panel HTML\r\n        self.bindActions(); // bind close button & overlay clicks\r\n        // load backbone model if arg passed\r\n        if (typeof self.options.load_model === 'function') {\r\n            self.appendHTML();\r\n\r\n            self.options.load_model(self.item_id, self.model_name).then(function () {\r\n                self.showHTML();\r\n            });\r\n            return;\r\n        }\r\n        if (typeof self.options.load_content === 'object') {\r\n            self.panel.append(self.spinner); // append spinner\r\n            self.animation_start(); // show loading animation\r\n\r\n            self.options.load_content.then(function (data) {\r\n                self.html = data;\r\n                self.appendHTML();\r\n                self.showHTML();\r\n            });\r\n            return;\r\n        }\r\n        self.appendHTML(); // append panel to DOM\r\n        self.showHTML();\r\n    };\r\n};","/**\r\n * Ajax functions, used in Panel\r\n */\r\n\r\nvar ATS_Ajax = function(){\r\n    'use strict';\r\n\r\n    var $ = jQuery; // enable jQuery\r\n    var prefix = 'ats';\r\n    var a_ajax = new AwesomeAjax(prefix);\r\n    var self = this;\r\n\r\n    self.result = {};\r\n\r\n    // load model to panel\r\n    self.load_model = function(item_id, model_name){\r\n        if($.isNumeric(item_id)){\r\n            return a_ajax.load_model(\r\n                model_name,\r\n                item_id,\r\n                function (data) {\r\n                    window.model = new AwesomeModel(data); // set window model to Backbone model\r\n                }\r\n            );\r\n        }\r\n        if(item_id == '#'){\r\n            if(model_name == 'settings'){\r\n                return a_ajax.ajax({\r\n                    action: prefix + '_get_settings',\r\n                    success_handler: function (data) {\r\n                        window.settings_model = new AwesomeModel(data); // set window model to Backbone model\r\n                    }\r\n                });\r\n            }\r\n            if(model_name == 'team'){\r\n                return a_ajax.ajax({\r\n                    action: prefix + '_get_team_defaults',\r\n                    success_handler: function (data) {\r\n                        window.model = new AwesomeModel(data); // set window model to Backbone model\r\n                    }\r\n                });\r\n            }\r\n            if(model_name == 'employer'){\r\n                return a_ajax.ajax({\r\n                    action: prefix + '_get_employer_defaults',\r\n                    success_handler: function (data) {\r\n                        window.model = new AwesomeModel(data); // set window model to Backbone model\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    self.fill_blocks_order = function (container, key, value) {\r\n        var order = JSON.stringify(value);\r\n        container.find('[name=\"team_' + key + '\"]').val(order);\r\n    };\r\n\r\n    self.fill_team_grid_blocks_order = self.fill_blocks_order.bind(self);\r\n    self.fill_team_table_blocks_order = self.fill_blocks_order.bind(self);\r\n\r\n    // Fill team employers list (employer round avatars)\r\n    self.fill_team_employers = function(container, key, employers){\r\n        var html = '';\r\n        var ids = [];\r\n        $.each(employers, function(index, item){\r\n            ids.push(item.ID);\r\n            var foto = item.foto ? '<img width=\"40\" height=\"40\" src=\"' + item.foto + '\">' : '<img src=\"' + window[prefix + '_localize']['default_avatar'] + '\" alt=\"\" />';\r\n\r\n            /* jshint multistr: true */\r\n            var template = '\\\r\n                <li data-action=\"edit-employer\" class=\"clearfix\" employer-id=\"{ID}\" title=\"{name}\">\\\r\n                    <div class=\"foto\" data-wr_replaced=\"true\">\\\r\n                        {foto}\\\r\n                    </div>\\\r\n                    <span class=\"name\">{name}</span>\\\r\n                    <span class=\"position\">{position}</span>\\\r\n                    <div class=\"teams\"><span class=\"teams_count\">{teams_count}</span> Teams</div>\\\r\n                    <button class=\"btn-action remove-employer at-transition at-transition-fast\" title=\"Remove\" data-action=\"remove-employer\">\\\r\n                        <svg viewBox=\"0 0 20 20\">\\\r\n                            <use xlink:href=\"#icon-delete\"></use>\\\r\n                        </svg>\\\r\n                    </button>\\\r\n                </li>';\r\n            html += template.replace_all('{name}', _.escape(item.post_title))\r\n                .replace_all('{foto}', foto)\r\n                .replace_all('{ID}', item.ID)\r\n                .replace_all('{position}', _.escape(item.position))\r\n                .replace_all('{teams_count}', item.teams_count);\r\n        });\r\n\r\n        $(container).find('#team-employers').val(JSON.stringify(ids));\r\n        $(container).find('#team-sortable').html('').append(html);\r\n    };\r\n\r\n    // fill colorpicker\r\n    self.fill_color = function (container, key, value) {\r\n        key = key.replace_all('team_', '');\r\n        $(container).find('.' + key).find('input').val(value);\r\n        $(container).find('.' + key).find('span.color > i').css('background-color', value);\r\n    };\r\n\r\n    // fill colorpickers\r\n    self.fill_team_styles_button_color = self.fill_color.bind(self);\r\n    self.fill_team_styles_button_hover_color = self.fill_color.bind(self);\r\n    self.fill_team_styles_button_text_color = self.fill_color.bind(self);\r\n    self.fill_team_styles_button_text_hover_color = self.fill_color.bind(self);\r\n    self.fill_team_styles_base_color = self.fill_color.bind(self);\r\n    self.fill_team_styles_card_base_color = self.fill_color.bind(self);\r\n    self.fill_team_styles_card_border_color = self.fill_color.bind(self);\r\n    self.fill_team_styles_card_divider_color = self.fill_color.bind(self);\r\n    self.fill_team_styles_card_shadow_color = self.fill_color.bind(self);\r\n    self.fill_team_styles_card_even_row_color = self.fill_color.bind(self);\r\n    self.fill_team_styles_panel_color = self.fill_color.bind(self);\r\n\r\n    // fill blocks visibility\r\n    self.fill_visibility = function(container, key, value){\r\n        $(container).find('[name=\"' + key + '\"]').attr('data-checked', value).val(value);\r\n    };\r\n\r\n    // fill team block visibility\r\n    self.fill_team_styles_slider = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_slider_autoplay = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_slider_adaptive = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_filter = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_search = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_panel = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_panel_contacts_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_panel_social_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_reveal = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_body_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_photo_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_name_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_divider_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_position_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_short_bio_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_phone_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_email_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_skype_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_link_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_location_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_social_visible = self.fill_visibility.bind(self);\r\n    self.fill_team_styles_skills_visible = self.fill_visibility.bind(self);\r\n\r\n    // fill employer photo\r\n    self.fill_employer_foto = function(container, key, value){\r\n        $('#employer-form-foto-remove', ats_panel).show();\r\n        if(value === ''){\r\n            $('#employer-form-foto-remove', ats_panel).hide();\r\n        }\r\n        var img = $('<img />').attr('src', value);\r\n        $(container).find('#employer-form-foto').html('').append(img);\r\n    };\r\n\r\n    self.fill_employer_panel_text = function(container, key, value) {\r\n        window.employer_panel_text_dfd = $.Deferred();\r\n        a_ajax.ajax({\r\n            action: prefix + '_get_tiny_mce',\r\n            data: {\r\n                id: key,\r\n                content: value\r\n            },\r\n            success_handler: function (result) {\r\n                $('.' + key, container).html(result);\r\n                if(tinyMCE.get(key)){\r\n                    tinymce.editors = [];\r\n                }\r\n                tinyMCEPreInit.mceInit[key].setup = function(editor) {\r\n                    editor.on('init', function(e) {\r\n                        employer_panel_text_dfd.resolve('tinymce init');\r\n                    });\r\n                    editor.on('change', function (e) {\r\n                        model.set('custom_fields.panel_text', editor.getContent())\r\n                    });\r\n                    editor.on('PostRender')\r\n                }\r\n                tinyMCEPreInit.mceInit[key]['external_plugins'] = {};\r\n                tinyMCE.init(tinyMCEPreInit.mceInit[key]);\r\n                quicktags( tinyMCEPreInit.qtInit[key] );\r\n            }\r\n        });\r\n    }\r\n\r\n    // fill team blocks preview checkboxes\r\n    self.fill_checkbox = function (container, key, value) {\r\n        if(key == 'team_name_bold'){\r\n        }\r\n        $(container).find('[name=\"' + key + '\"]').attr('data-checked', value).val(value);\r\n    };\r\n\r\n    // fill team preview checkboxes (is_bold)\r\n    self.fill_team_styles_filter_bold = self.fill_checkbox.bind(self);\r\n    self.fill_team_styles_name_bold = self.fill_checkbox.bind(self);\r\n    self.fill_team_styles_position_bold = self.fill_checkbox.bind(self);\r\n    self.fill_team_styles_short_bio_bold = self.fill_checkbox.bind(self);\r\n    self.fill_team_styles_contacts_bold = self.fill_checkbox.bind(self);\r\n\r\n    // fill team preview checkboxes (is_italic)\r\n    self.fill_team_styles_filter_italic = self.fill_checkbox.bind(self);\r\n    self.fill_team_styles_name_italic = self.fill_checkbox.bind(self);\r\n    self.fill_team_styles_position_italic = self.fill_checkbox.bind(self);\r\n    self.fill_team_styles_short_bio_italic = self.fill_checkbox.bind(self);\r\n    self.fill_team_styles_contacts_italic = self.fill_checkbox.bind(self);\r\n\r\n\r\n    self.fill_select = function(container, key, value){\r\n        $(container).find('[name=\"' + key + '\"]').val(value);\r\n        $(container).find('[name=\"' + key + '\"]').fsdropdown('update');\r\n    };\r\n\r\n    // fill team layout select (formstone)\r\n    /*self.fill_team_layout = self.fill_select.bind(self);\r\n    self.fill_team_order_by = self.fill_select.bind(self);\r\n    self.fill_team_hover = self.fill_select.bind(self);\r\n    self.fill_team_panel_theme = self.fill_select.bind(self);*/\r\n\r\n    // fill team template\r\n    self.fill_team_template = function (container, key, value) {\r\n        var html = '';\r\n        var layout = window.model.get('layout');\r\n        $.each(window.templates.get(layout), function(index, template){\r\n            html += '<option value=\"' + index + '\">' + template.label + '</option>';\r\n        });\r\n        $(container).find('[name=\"' + key + '\"]').html('').html(html).val(value);\r\n        $(container).find('[name=\"' + key + '\"]').fsdropdown('update');\r\n    };\r\n\r\n    self.set_employer_photo = function (id, size, callback) {\r\n        return a_ajax.ajax({\r\n            action: prefix + '_get_team_preview_photo',\r\n            data: {\r\n                'id': id,\r\n                'size': size,\r\n            },\r\n            success_handler: function (result) {\r\n                var img = result !== '' ? result : '<img src=\"' + window[prefix + '_localize']['default_avatar'] + '\"/>';\r\n                callback(img);\r\n            }\r\n        });\r\n    }\r\n\r\n    self.set_team_employers = function (ids, size, callback) {\r\n        return a_ajax.ajax({\r\n            action: prefix + '_get_team_employers_photos',\r\n            data: {\r\n                'ids': ids,\r\n                'size': size,\r\n            },\r\n            success_handler: function (result) {\r\n                callback(result);\r\n            }\r\n        });\r\n    };\r\n\r\n    // get templates\r\n    self.get_templates = function () {\r\n        return a_ajax.ajax({\r\n            action: prefix + '_get_templates',\r\n            success_handler: function (result) {\r\n                window.templates = new Backbone.NestedModel(result);\r\n            }\r\n        });\r\n    }\r\n\r\n    // init employer departmets\r\n    self.init_departments = function () {\r\n        return a_ajax.ajax({\r\n            action: prefix + '_get_taxonomy_terms',\r\n            data: {\r\n                taxonomy: prefix + '-employer-taxonomy'\r\n            },\r\n            success_handler: function (result) {\r\n                window.ats_employers_taxonomy_terms = result;\r\n            }\r\n        });\r\n    }\r\n\r\n    self.get_employer_form = function (callback) {\r\n        return a_ajax.ajax({\r\n            action: prefix + '_get_employer_form',\r\n            data: {\r\n\r\n            },\r\n            success_handler: function (result) {\r\n                callback(result);\r\n            }\r\n        });\r\n    }\r\n};","/**\r\n * jQuery UI Drag & Drop\r\n */\r\n\r\nvar AwesomeDrag = function () {\r\n    'use strict';\r\n\r\n    var $ = jQuery; // enable jQuery\r\n    var self = this;\r\n    self.sortableEl = '.connected-sortable';\r\n    self.employers_panel = '#panel-employers';\r\n\r\n    // Pop up employers list for Edit Team panel\r\n    self.cloneEmployers = function () {\r\n        // add class for z-index\r\n        var $clone = $(self.employers_panel).clone().removeAttr('id').attr('panel', 'employers-clone').addClass('at-transition');\r\n        window.ats_employers_clone = ats_employers.clone();\r\n\r\n        setTimeout(function () {\r\n            $(self.employers_panel).fadeOut();\r\n        }, 100);\r\n\r\n        var all_employers = $clone.find('li');\r\n        var model_employers = model.get('employers') || [];\r\n\r\n        // Hide employers that already exist in team\r\n        $.each(all_employers, function () {\r\n            var id = parseInt($(this).attr('employer-id'));\r\n            if (AwesomeUtil.find_in_array_of_objects(model_employers, 'ID', id)) {\r\n                var model = ats_employers_clone.findWhere({id: id});\r\n                $(this, $clone).remove();\r\n                ats_employers_clone.remove(model);\r\n            }\r\n        });\r\n\r\n        var $push_all_btn = $('<li><button data-action=\"push-all-employers\"><span title=\"Push all\">Push all</span></button></li>');\r\n        $clone.find('.panel-heading .panel-actions').prepend($push_all_btn);\r\n\r\n        $('.employers-list', ats_panel).html($clone);\r\n        self.bind_clone();\r\n\r\n        $(document).on('click', '[data-action=\"remove-employer\"]', function(){\r\n            var $item = $(this).parents('li[employer-id]'),\r\n                id = +$item.attr('employer-id'),\r\n                model = ats_employers.findWhere({id:id});\r\n            $('#employers-list', ats_panel).append($item);\r\n            ats_employers_clone.add(model);\r\n            self.updateElements();\r\n        });\r\n    };\r\n\r\n    // Bind highlight for drop zone on employer hover\r\n    self.bind_clone = function () {\r\n        $(document).on('mouseenter', \".panel-pop-up #employers-list\", function () {\r\n            $('#team-sortable', ats_panel).addClass('pulsate');\r\n        });\r\n        $(document).on('mouseleave', \".panel-pop-up #employers-list\", function () {\r\n            $('#team-sortable', ats_panel).removeClass('pulsate');\r\n        });\r\n        $(document).on('click', '[data-action=\"push-all-employers\"]', function () {\r\n            ats_employers_clone.reset();\r\n            var employers = $('ul.employers-list > li', ats_panel);\r\n            var employers_ids = _.clone(model.get('employers_ids'));\r\n            $.each(employers, function (index, item) {\r\n                $('#team-sortable', ats_panel).append(item);\r\n            });\r\n            self.updateElements();\r\n        });\r\n        $(document).on('click', '[data-action=\"remove-all-employers\"]', function () {\r\n            var employers = $('#team-sortable > li', ats_panel);\r\n            $.each(employers, function (index, item) {\r\n                $('ul.employers-list', ats_panel).append(item);\r\n                var id = parseInt($(item).attr('employer-id'));\r\n                var model = ats_employers.findWhere({id: id});\r\n                ats_employers_clone.add(model);\r\n            });\r\n            self.updateElements();\r\n        });\r\n    }\r\n\r\n    // Init employers drag & drop between two panels\r\n    self.initSortable = function () {\r\n        $(self.sortableEl).addClass('sortable-placeholder');\r\n        $('#team-sortable, #employers-list').sortable({\r\n            appendTo: 'body',\r\n            zIndex: 99999,\r\n            connectWith: self.sortableEl,\r\n            forcePlaceholderSize: true,\r\n            placeholder: 'sortable-placeholder-inner',\r\n            cursor: 'move',\r\n            cursorAt: {top: 25, left: 25},\r\n            helper: function (event, ui) { // clone employer photo to drag\r\n                var img = $(ui).find('.foto').clone();\r\n                var $clone = $('<li class=\"item\"></li>').append(img);\r\n                return $clone;\r\n            },\r\n            create: function (event, ui) {\r\n            },\r\n            start: function (event, ui) {\r\n                $(ui.helper).addClass('pop-up'); // add border to helper element\r\n                $('.a-slide-panel #team-sortable').addClass('drop-highlight'); // highlight drop zone\r\n            },\r\n            stop: function (event, ui) {\r\n                $('.a-slide-panel #team-sortable').removeClass('drop-highlight'); // stop drop zone highlighting\r\n            },\r\n            update: function (event, ui) {\r\n                $(ui.item).attr('style', ''); // remove pop-up class on drop event to remove border\r\n                var parent = $(ui.item[0].parentElement).attr('id');\r\n                var id = parseInt($(ui.item[0]).attr('employer-id'));\r\n                var model = ats_employers.findWhere({id:id});\r\n\r\n                if(parent == 'team-sortable'){\r\n                    ats_employers_clone.remove(model);\r\n                }else if(parent == 'employers-list'){\r\n                    ats_employers_clone.add(model);\r\n                }\r\n                self.updateElements();\r\n            }\r\n        });\r\n    };\r\n\r\n    // on every drag end save employers order and IDs to hidden field\r\n    self.updateElements = function () {\r\n        var $employers_field = $('#team-employers', ats_panel);\r\n        $employers_field.val('');\r\n        var employers = [];\r\n        var employers_ids = [];\r\n        $('#team-sortable li', ats_panel).each(function () {\r\n            var id = parseInt($(this).attr('employer-id'));\r\n            var foto = $(this).find('img').attr('src');\r\n            var name = $(this).find('.name').html();\r\n\r\n            var position = $(this).find('.position').html();\r\n            var teams_count = $(this).find('.teams_count').html();\r\n            employers_ids.push(id);\r\n            employers.push({\r\n                ID: id,\r\n                foto: foto,\r\n                post_title: name,\r\n                position: position,\r\n                teams_count: teams_count\r\n            });\r\n        });\r\n\r\n        var result = JSON.stringify(employers_ids);\r\n        $employers_field.val(result);\r\n        model.set('employers_ids', employers_ids);\r\n        model.set('employers', employers);\r\n    };\r\n\r\n    // destory drag & drop\r\n    self.destroy = function () {\r\n        $(self.employers_panel).show();\r\n        $('.panel.panel-pop-up').remove();\r\n        $('.connected-sortable').removeClass('sortable-placeholder');\r\n        $('#employers-list').sortable({\r\n            disabled: true\r\n        });\r\n        $('.employers-list', ats_panel).html('');\r\n        $('.panel-pop-up #employers-list').off();\r\n    };\r\n\r\n    // init drag & drop\r\n    self.init = function () {\r\n        self.cloneEmployers(); // clone employers panel and hide employers that already exists in team\r\n        self.updateElements();\r\n        self.initSortable();\r\n    };\r\n};","(function ($) {\r\n// Backbone View for edit team form\r\n    EmployerForm = Backbone.View.extend({\r\n        defaults: {\r\n            skill: {\r\n                star_options: [\r\n                    {\r\n                        value: '1',\r\n                        label: 'One'\r\n                    },\r\n                    {\r\n                        value: '2',\r\n                        label: 'Two',\r\n                    },\r\n                    {\r\n                        value: '3',\r\n                        label: 'Three',\r\n                    },\r\n                    {\r\n                        value: '4',\r\n                        label: 'Four',\r\n                    },\r\n                    {\r\n                        value: '5',\r\n                        label: 'Five',\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        template: {\r\n            skill: {\r\n                add: {\r\n                    body: _.template('\\\r\n                    <div class=\"input-group form-group\">\\\r\n                        <div class=\"display-table\">\\\r\n                            <div class=\"display-table-cell name\">\\\r\n                                <div class=\"input-group form-group\">\\\r\n                                    <span class=\"input-group-addon\">Skill:</span>\\\r\n                                    <input type=\"text\" class=\"form-control\" name=\"employer_skill_name\" placeholder=\"e.g. Photoshop\" value=\"<%= name %>\">\\\r\n                                </div>\\\r\n                            </div>\\\r\n                            <div class=\"display-table-cell value\">\\\r\n                                <%= value %>\\\r\n                            </div>\\\r\n                        </div>\\\r\n                        <div data-type=\"skill-alert\" class=\"skill-alert\"></div>\\\r\n                        <div class=\"buttons\">\\\r\n                            <%= buttons %>\\\r\n                        </div>\\\r\n                    </div>\\\r\n                    '),\r\n                    type: _.template('\\\r\n                    <div class=\"btn-group filter_text_transform btn-group-text-transform btn-group-radio model-field\" data-field-name=\"skill_type\">\\\r\n                        <label type=\"button\" class=\"btn btn-default <% if(percent_active){ %> active <% } %> skill_type\" data-option-name=\"skill_type\">\\\r\n                            <input type=\"radio\" style=\"display: none;\" name=\"employer_skill_type\" checked data-value=\"percent\" />\\\r\n                            <svg class=\"icon icon-percent\" viewBox=\"0 0 320 320\">\\\r\n                                <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-percent\"></use>\\\r\n                            </svg>\\\r\n                        </label>\\\r\n                        <label type=\"button\" class=\"btn btn-default <% if(star_active){ %> active <% } %> skill_type\" data-option-name=\"skill_type\">\\\r\n                            <input type=\"radio\" style=\"display: none;\" name=\"employer_skill_type\" data-value=\"star\"/>\\\r\n                            <svg class=\"icon icon-star\" viewBox=\"0 0 1024 1024\">\\\r\n                                <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-star-full\"></use>\\\r\n                            </svg>\\\r\n                        </label>\\\r\n                    </div>'),\r\n                    value: _.template('\\\r\n                        <div class=\"input-group model-field skill-value-percent\">\\\r\n                            <span class=\"input-group-addon\">% of 100:</span>\\\r\n                            <input type=\"text\" class=\"form-control\" name=\"employer_skill_value\" placeholder=\"\" value=\"<%= value %>\"/>\\\r\n                        </div>'),\r\n                    buttons: {\r\n                        add: _.template('\\\r\n                        <button class=\"btn btn-default\" type=\"button\" data-action=\"add-skill\">\\\r\n                            Add Skill\\\r\n                        </button>'),\r\n                        edit: _.template('\\\r\n                        <button class=\"btn btn-sm btn-default\" type=\"button\" data-action=\"save-skill\">\\\r\n                            <div class=\"a-slide-panel-spinner a-spinner\" data-wr_replaced=\"true\"  style=\"display: none;\">\\\r\n                                <div class=\"bounce1\"></div>\\\r\n                                <div class=\"bounce2\"></div>\\\r\n                                <div class=\"bounce3\"></div>\\\r\n                            </div>\\\r\n                            <span class=\"text\">Save Skill</span>\\\r\n                        </button>\\\r\n                        <button class=\"btn btn-sm btn-default\" type=\"button\" data-action=\"cancel-skill-edit\">\\\r\n                            Cancel\\\r\n                        </button>')\r\n                    }\r\n\r\n                },\r\n                body: _.template('\\\r\n                <li id=\"skill-<%= id %>\" class=\"skill\">\\\r\n                    <div class=\"skill-box\">\\\r\n                    <%= value %>\\\r\n                    <%= name %>\\\r\n                        <span class=\"actions\">\\\r\n                            <button class=\"svg\" data-action=\"edit-skill\" title=\"Edit skill\">\\\r\n                                <svg class=\"icon\" viewBox=\"0 0 28 28\">\\\r\n                                    <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-pen\"></use>\\\r\n                                </svg>\\\r\n                            </button>\\\r\n                            <button class=\"svg\" data-action=\"delete-skill\" title=\"Delete skill\">\\\r\n                                <svg class=\"icon\" viewBox=\"0 0 28 28\">\\\r\n                                    <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-trash\"></use>\\\r\n                                </svg>\\\r\n                            </button>\\\r\n                        </span>\\\r\n                    </div>\\\r\n                </li>'),\r\n                value: _.template('<span class=\"value\"><%= value %></span>'),\r\n                star: '<svg class=\"icon icon-star\" viewBox=\"0 0 1024 1024\">\\\r\n                <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-star-full\"></use>\\\r\n                </svg>',\r\n                name: _.template('<span class=\"name\"><%= name %></span>')\r\n            }\r\n        },\r\n\r\n        initialize: function () {\r\n            var value = this.template.skill.add.value({\r\n                value: 0\r\n            });\r\n            var buttons = this.template.skill.add.buttons.add();\r\n            var template = this.template.skill.add.body({\r\n                name: '',\r\n                value: value,\r\n                buttons: buttons\r\n            });\r\n            $('.skill-form', ats_panel).html(template);\r\n            $('select[name=\"employer_skill_value\"]', ats_panel).fsdropdown();\r\n        },\r\n\r\n        edit_skill: function (index) {\r\n            var skills = model.get('custom_fields.skills');\r\n            var skill = skills[index];\r\n\r\n            var value = this.template.skill.add.value({\r\n                value: skill.type == 'percent' ? skill.value : ''\r\n            });\r\n            var buttons = this.template.skill.add.buttons.edit();\r\n            var template = this.template.skill.add.body({\r\n                name: skill.name,\r\n                value: value,\r\n                buttons: buttons\r\n            });\r\n            var template = $('<div class=\"skill-form skill-inline-form\" data-form=\"edit-skill\">' + template + '</div>');\r\n\r\n            // hide all other forms\r\n            $('.skills-list .skill-inline-form', ats_panel).remove();\r\n            $('.skills-list li.skill .skill-box').show();\r\n\r\n            $('.skills-list li#skill-' + index + ' .skill-box').hide();\r\n\r\n            var select_value = skill.type == 'star' ? skill.value : 1;\r\n\r\n            $('.skills-list li#skill-' + index, ats_panel).prepend(template);\r\n            $('select[name=\"employer_skill_value\"]', ats_panel).val(select_value);\r\n            $('select[name=\"employer_skill_value\"]', ats_panel).fsdropdown();\r\n        },\r\n\r\n        bindings: function () { // bindings for input fields\r\n            var result = {};\r\n            var cf = 'custom_fields.';\r\n\r\n            result['[name=\"employer_name\"]']            = 'name';\r\n            result['[name=\"employer_department\"]']      = 'department';\r\n            result['[name=\"employer_short_bio\"]']       = 'short_bio';\r\n\r\n            result['[name=\"employer_position\"]']        = cf + 'position';\r\n            result['[name=\"employer_thumbnail_id\"]']    = cf + 'thumbnail_id';\r\n            result['[name=\"employer_panel_text\"]']      = cf + 'panel_text';\r\n\r\n            result['[name=\"employer_email\"]']           = cf + 'email';\r\n            result['[name=\"employer_phone\"]']           = cf + 'phone';\r\n            result['[name=\"employer_skype\"]']           = cf + 'skype';\r\n            result['[name=\"employer_link\"]']            = cf + 'link';\r\n            result['[name=\"employer_link_text\"]']       = cf + 'link_text';\r\n            result['[name=\"employer_location\"]']        = cf + 'location';\r\n            result['[name=\"employer_profile\"]']         = cf + 'profile';\r\n            result['[name=\"employer_facebook\"]']        = cf + 'facebook';\r\n            result['[name=\"employer_twitter\"]']         = cf + 'twitter';\r\n            result['[name=\"employer_linkedin\"]']        = cf + 'linkedin';\r\n            result['[name=\"employer_google\"]']          = cf + 'google';\r\n            result['[name=\"employer_instagram\"]']       = cf + 'instagram';\r\n            result['[name=\"employer_pinterest\"]']       = cf + 'pinterest';\r\n            result['[name=\"employer_youtube\"]']         = cf + 'youtube';\r\n            result['[name=\"employer_vimeo\"]']           = cf + 'vimeo';\r\n            result['[name=\"employer_dribble\"]']         = cf + 'dribble';\r\n            result['[name=\"employer_flickr\"]']          = cf + 'flickr';\r\n            result['[name=\"employer_github\"]']          = cf + 'github';\r\n\r\n            result['.skills-list'] = {\r\n                observe: 'custom_fields.skills',\r\n                update: function ($el, val, model, options) {\r\n                    var self = this;\r\n                    var order = model.get('custom_fields.skills_order');\r\n\r\n                    var skills_ordered = [];\r\n                    _.each(order, function (item, index) {\r\n                        skills_ordered[index] = val[item];\r\n                    })\r\n\r\n                    $el.html('');\r\n\r\n                    if (val.length === 0) {\r\n                        return;\r\n                    }\r\n                    $.each(skills_ordered, function (index, item) {\r\n                        var name = self.template.skill.name({name: item.name});\r\n                        var value = item.value || 0;\r\n                        value = value + '%';\r\n                        if (item.type == 'star') {\r\n                            value = '';\r\n                            for (var i = 0; i < parseInt(item.value); i++) {\r\n                                value += self.template.skill.star;\r\n                            }\r\n                        }\r\n                        var value = self.template.skill.value({value: value});\r\n                        var skill = {\r\n                            id: order[index],\r\n                            value: value,\r\n                            name: name\r\n                        };\r\n                        var body = self.template.skill.body(skill);\r\n                        $el.append(body);\r\n                    });\r\n\r\n                    var employer_view = new AwesomeEmployer();\r\n                    employer_view.update_skill_order();\r\n                }\r\n            };\r\n\r\n            return result;\r\n        },\r\n        render: function () {\r\n            this.stickit();\r\n            return this;\r\n        }\r\n    });\r\n})(jQuery);\r\n","/**\r\n * Tooltip library\r\n */\r\n\r\nvar AwesomeTooltip = function (args) {\r\n    'use strict';\r\n    var self = this;\r\n    var $ = jQuery;\r\n    var $container = $(args.container); // parent container\r\n    var $content = $(args.content); // tooltip content\r\n    var direction = args.direction || 'top'; // tooltip direction\r\n    var data = args.data; // variables to replace tags in template\r\n    self.viewport = $(args.viewport || '#wpbody');\r\n    self.args = args;\r\n\r\n    // replace tags in template with values from [data] variables\r\n    self.replace_tags = function () {\r\n        var html = $content.prop('outerHTML');\r\n        $.each(data, function (key, value) {\r\n            html = html.replace_all('{{' + key + '}}', value);\r\n        });\r\n        return html;\r\n    };\r\n\r\n    self.show_field = function ($tooltip) {\r\n        var blocks = model.get('styles.' + model.get('layout'));\r\n\r\n        $('.model-field', $tooltip).hide();\r\n        $.each(blocks, function (key, value) {\r\n            if(value === null){\r\n                return;\r\n            }\r\n            $('.' + key, $tooltip).show(); // show field block\r\n        });\r\n    };\r\n\r\n    // create tooltip\r\n    self.open = function () {\r\n        /* jshint multistr: true */\r\n        var template = '<div class=\"a-tooltip-wrapper at-transition at-transition-fast\" data-field=\"##field##\">\\\r\n            <div class=\"a-tooltip a-tooltip-arrow\">\\\r\n            <div class=\"a-tooltip-content\">\\\r\n            ##content##\\\r\n            </div>\\\r\n            </div>\\\r\n            </div>';\r\n        var html = self.replace_tags();\r\n\r\n        html = template.replace(/##content##/g, html);\r\n        html = html.replace(/##field##/g, data.field_name);\r\n        var $tooltip = $(html);\r\n\r\n        $container.append($tooltip);\r\n\r\n        if(typeof window.model !== 'undefined'){\r\n            self.show_field($tooltip);\r\n        }\r\n\r\n        if(self.args.center){\r\n            var left = (ats_panel.width() - $tooltip.width())/2 - 30;\r\n            $tooltip.css('left', left + 'px');\r\n        }\r\n\r\n        if($tooltip.length === 0){\r\n            return;\r\n        }\r\n\r\n        $tooltip.addClass('tooltip-' + direction);\r\n    };\r\n\r\n    // destroy tooltip\r\n    self.destroy = function () {\r\n        $container.find('.a-tooltip-wrapper').remove();\r\n    };\r\n\r\n    // init tooltip\r\n    self.init = function () {\r\n        self.open();\r\n    };\r\n};","var ATS_Animation = function () {\r\n    var self = this;\r\n    var $ = jQuery;\r\n\r\n    self.delete = function ($el) {\r\n        var dfd = $.Deferred();\r\n        if($.browser.msie && parseInt($.browser.version, 10) <= 9){\r\n            $el.remove();\r\n            dfd.resolve();\r\n        }else{\r\n            $el.one('webkitAnimationEnd oanimationend msAnimationEnd animationend', function(e) {\r\n                dfd.resolve();\r\n                $el.remove();\r\n            }).addClass('removed-item');\r\n        }\r\n        return dfd;\r\n    }\r\n\r\n    self.delete_model = function ($el, model_name) {\r\n        var panel = $('#panel-' + model_name + 's');\r\n\r\n        self.delete($el);\r\n\r\n        // show notice 'No models found'\r\n        setTimeout(function () {\r\n            var count = $('#' + model_name + 's-list > li').length;\r\n            if(count === 0) {\r\n                var notice = panel.find('.empty-model');\r\n                notice.css('display', 'block').addClass('at-transition');\r\n                setTimeout(function () {\r\n                    notice.css('visibility', 'visible')\r\n                        .css('opacity', '1');\r\n                }, 1);\r\n                // update models count in panel heading\r\n                panel.find('.panel-heading span').remove();\r\n                return;\r\n            }\r\n            panel.find('> .panel-heading span').html('(' + count +')');\r\n        }, 500);\r\n    }\r\n}","/**\r\n * Testimonial-related actions\r\n */\r\n(function ($) {\r\n    'use strict';\r\n\r\n    $(function () {\r\n        var model = 'settings';\r\n        var a_ajax = new AwesomeAjax('ats');\r\n\r\n        function settings_open_callback() {\r\n            window.preview = new AwesomeSettings();\r\n            preview.init();\r\n        }\r\n        function settings_close_callback() {\r\n            if(typeof preview != 'undefined'){\r\n                preview.destroy();\r\n            }\r\n        }\r\n\r\n        // settings panel\r\n        $('#action-settings').on('click', function () {\r\n            var args = {\r\n                id: 'ats',\r\n                item_id: '#',\r\n                parent: '#wpcontent',\r\n                html: '#settings-wrap',\r\n                model_name: 'settings',\r\n                direction: 'right',\r\n                width: '67%',\r\n                callback_open: settings_open_callback,\r\n                callback_close: settings_close_callback\r\n            };\r\n            window.settings_panel = new AwesomePanel(args);\r\n            settings_panel.init();\r\n        });\r\n\r\n        // Bind AJAX call on Form Submit Button\r\n        $('[data-action=\"save-settings\"]').on('click', function () {\r\n            var form = $('[data-type=\"form\"]', ats_panel);\r\n            var $alert = form.find('[data-type=\"settings-alert\"]');\r\n            $alert.attr('class', 'alert').hide();\r\n\r\n            window.settings_panel.hide_content();\r\n            window.settings_panel.animation_start(); // show animation\r\n\r\n            a_ajax.ajax({\r\n                action: 'ats_update_' + model,\r\n                data: {\r\n                    data: window.settings_model.toJSON()\r\n                },\r\n                success_handler: function (data) {\r\n                    window.settings_panel.show_content();\r\n                    window.settings_panel.animation_end();\r\n                },\r\n                success_error_handler: function (errors) {\r\n                    var html = '';\r\n                    $.each(errors, function (index, value) {\r\n                        html += '<p>';\r\n                        html += value.message;\r\n                        html += '</p>';\r\n                    });\r\n                    $alert.addClass('alert-warning').show().html(html);\r\n                    window.settings_panel.show_content();\r\n                    window.settings_panel.animation_end();\r\n                },\r\n                error_handler: function () {\r\n                    $alert.addClass('alert-warning').show().html(data);\r\n                    window.settings_panel.show_content();\r\n                    window.settings_panel.animation_end();\r\n                }\r\n            });\r\n        });\r\n    });\r\n})(jQuery);","/**\r\n * Team-related actions\r\n */\r\n(function( $ ) {\r\n    'use strict';\r\n\r\n    $(function() {\r\n        var model_team = 'team';\r\n        var drag = new AwesomeDrag();\r\n        var a_ajax = new AwesomeAjax('ats');\r\n        var ats_ajax = new ATS_Ajax();\r\n        var ats_animation = new ATS_Animation();\r\n\r\n        // Add New Team Button\r\n        $('[data-action=\"add-team\"]').on('click', function(){\r\n            var args = {\r\n                id: 'ats',\r\n                item_id: '#',\r\n                parent: '#wpcontent',\r\n                html: '#team-add-wrap',\r\n                model_name: model_team,\r\n                direction: 'right',\r\n                width: '100%',\r\n                load_model: ats_ajax.load_model,\r\n                callback_open: add_team_open_callback,\r\n                callback_close: edit_team_close_callback\r\n            };\r\n            window.panel = new AwesomePanel(args);\r\n            panel.init();\r\n        });\r\n\r\n        function bind_template_change(){\r\n            $('[name=\"team_template\"]', ats_panel).on('change', function(e){\r\n                var layout = model.get('layout');\r\n                var template = $(this).val();\r\n\r\n                model.set('styles.' + layout, templates.get(layout)[template].styles);\r\n                model.set('styles.' + layout + '.template', template);\r\n\r\n                preview.destroy();\r\n                preview.init();\r\n            });\r\n        }\r\n\r\n        function bind_layout_change(){\r\n            $('[name=\"team_layout\"]', ats_panel).on('change', function(e){\r\n                model.set('layout', $(this).val());\r\n\r\n                preview.destroy();\r\n                preview.init();\r\n            });\r\n        }\r\n\r\n        // Add Team open callback\r\n        function add_team_open_callback(){\r\n            window.preview = new AwesomeTeam();\r\n            preview.init().done(function () {\r\n                bind_layout_change();\r\n                bind_template_change();\r\n                drag.init();\r\n            });\r\n            $('[data-action=\"shortcode-team\"]', ats_panel).hide();\r\n        }\r\n\r\n        // Edit Team open callback\r\n        function edit_team_open_callback(){\r\n            window.preview = new AwesomeTeam();\r\n            preview.init().done(function () {\r\n                bind_layout_change();\r\n                bind_template_change();\r\n            });\r\n            drag.init();\r\n            show_shortcode_button();\r\n        }\r\n\r\n        // Edit Team close callback\r\n        function edit_team_close_callback(){\r\n            preview.destroy();\r\n            drag.destroy();\r\n            $('select', ats_panel).fsdropdown('destroy');\r\n        }\r\n\r\n        // Call edit Team panel on team card button click\r\n        $('[data-action=\"edit-team\"]').on('click', function(){\r\n            var parent = $(this).parents('li[team-id]');\r\n            var id = parseInt($(parent).attr('team-id'));\r\n\r\n            var args = {\r\n                id: 'ats',\r\n                item_id: id,\r\n                parent: '#wpcontent',\r\n                html: '#team-edit-wrap',\r\n                model_name: model_team,\r\n                direction : 'right',\r\n                width: '100%',\r\n                load_model: ats_ajax.load_model,\r\n                callback_open: edit_team_open_callback,\r\n                callback_close: edit_team_close_callback\r\n            };\r\n            window.panel = new AwesomePanel(args);\r\n            panel.init();\r\n        });\r\n        \r\n        function set_team_employers_callback(images) {\r\n            var dfd = $.Deferred();\r\n            var ids = model.get('employers_ids');\r\n            var $employers = $('#teams-list li[team-id=\"' + model.get('id') + '\"] .team-members');\r\n            $.each(ids, function (index, id) {\r\n                $employers.append('<li><div class=\"foto\">' + images[index] + '</div>');\r\n            });\r\n            dfd.resolve();\r\n            return dfd;\r\n        }\r\n\r\n        // update team card after team save\r\n        function update_team_card(){\r\n            var dfd = $.Deferred();\r\n            var ids = model.get('employers_ids');\r\n            var $employers = $('#teams-list li[team-id=\"' + model.get('id') + '\"] .team-members');\r\n            var count = model.get('employers').length == 0 ? '' : model.get('employers').length + ' people';\r\n            $employers.find('li[class!=\"empty\"]').remove();\r\n            if(ids.length > 0){\r\n                ats_ajax.set_team_employers(ids, 'a-thumbnail', set_team_employers_callback).then(function(){\r\n                    dfd.resolve();\r\n                });\r\n            }else{\r\n                dfd.resolve();\r\n            }\r\n            $('#teams-list li[team-id=\"' + model.get('id') + '\"] span.name').html(model.get('name'));\r\n            $('#teams-list li[team-id=\"' + model.get('id') + '\"] span.employee-count').html(count);\r\n            return dfd;\r\n        }\r\n\r\n        // show shortcode button after create/update\r\n        function show_shortcode_button(){\r\n            var id = model.get('id');\r\n            if(id !== 0){\r\n                var result = '[a-team-showcase id=\"' + id + '\"]';\r\n                $('[data-action=\"shortcode-team\"]', ats_panel).find('input').val(result);\r\n                $('[data-action=\"shortcode-team\"]', ats_panel).show();\r\n            }\r\n        }\r\n\r\n        // Save Team\r\n        $('#team-edit-wrap .save-panel, #team-add-wrap .save-panel').on('click', function(){\r\n            if(window.model.locked){\r\n                return false; // prevent double click on save button\r\n            }\r\n\r\n            var form = $('[data-type=\"form\"]', ats_panel);\r\n            var model = $(form).attr('data-model');\r\n            var $alert = form.find('.alert');\r\n            $alert.attr('class', 'alert').hide();\r\n            window.model.locked = true;\r\n\r\n            window.panel.hide_content();\r\n            window.panel.animation_start(); // show animation\r\n\r\n            var team_model = window.model.clone();\r\n            team_model.unset('grid_html')\r\n            team_model.unset('table_html')\r\n            team_model.unset('widget_html')\r\n\r\n            a_ajax.ajax({\r\n                action: 'ats_update_or_new_' + model,\r\n                data: {\r\n                    data: team_model.toJSON(),\r\n                },\r\n                success_handler: function (data) {\r\n                    window.model.set('id', data);\r\n                    show_shortcode_button();\r\n                    update_team_card().then(function () {\r\n                        window.panel.show_content();\r\n                        window.panel.animation_end();\r\n                        window.model.locked = false;\r\n                    });\r\n                },\r\n                success_error_handler: function (errors) {\r\n                    var html = '';\r\n                    $.each(errors, function (index, value) {\r\n                        html += '<p>';\r\n                        html += value.message;\r\n                        html += '</p>';\r\n                    });\r\n                    $alert.addClass('alert-warning').show().html(html);\r\n                    window.panel.show_content();\r\n                    window.panel.animation_end();\r\n                    window.model.locked = false;\r\n                },\r\n                error_handler: function (data) {\r\n                    $alert.addClass('alert-warning').show().html(data);\r\n                    window.model.locked = false;\r\n                }\r\n            });\r\n        });\r\n\r\n        // Delete Team on team card button click\r\n        $('[data-action=\"delete-team\"]').on('click', function(){\r\n            var $parent = $(this).parents('li[team-id]');\r\n            var $spinner = $(this).find('.a-spinner');\r\n            var $icon = $(this).find('svg');\r\n            var id = parseInt($parent.attr('team-id'));\r\n            var model_name = model_team;\r\n\r\n            if(confirm('You really want to delete team?')) {\r\n                $icon.hide(); // hide icon\r\n                $spinner.show(); // show animation\r\n                a_ajax.delete_model(id, model_name).then(function () {\r\n                    ats_animation.delete_model($parent, model_name);\r\n                })\r\n            }\r\n        });\r\n\r\n        // Get Team Shortcode\r\n        $('[data-action=\"shortcode-team\"]').on({'mouseenter': function(){\r\n            var $tooltip = $(this).find('.a-tooltip-wrapper');\r\n            setTimeout(function(){\r\n                $tooltip.find('input').select();\r\n            },300);\r\n        },'mouseleave': function(){\r\n            $(this).find('.a-tooltip-wrapper');\r\n        }});\r\n\r\n        // Random team style\r\n        $('[data-action=\"random-team-style\"]').on('click', function () {\r\n            var colorpickers = ['base', 'card_base', 'card_border', 'card_divider', 'card_shadow', 'card_even_row', 'name', 'position', 'short_bio', 'contacts', 'social'];\r\n            model.random();\r\n            $.each(colorpickers, function (index, value) {\r\n                var field = value + '_color';\r\n                var layout = model.get('layout');\r\n                update_colorpicker(field, model.get('styles.' + layout + '.' + field));\r\n            });\r\n        });\r\n\r\n        var update_colorpicker = function (field, value) {\r\n            if(field == 'phone_color' || field == 'email_color' || field == 'skype_color'){\r\n                field = 'contacts_color';\r\n            }\r\n            if(typeof window['colorpicker_' + field] === 'object'){\r\n                window['colorpicker_' + field].colorpicker('setValue', value);\r\n            }\r\n        };\r\n\r\n        // call modal\r\n        /*$('[data-target]').on('click', function (e) {\r\n            e.preventDefault();\r\n            var target = $(this).attr('data-target');\r\n            $(target).modal();\r\n        });*/\r\n\r\n        $('[data-action=\"modal\"]').lightbox({\r\n            minWidth: 50,\r\n            minHeight: 100\r\n        });\r\n\r\n        // Custom CSS Spoiler\r\n        $('[data-toggle=\"collapse\"]').on('click', function () {\r\n            var target_id = $(this).attr('data-target');\r\n            $(target_id, ats_panel).toggleClass('in');\r\n        });\r\n\r\n    });\r\n})( jQuery );","/**\r\n * Employer-related actions\r\n */\r\n(function ($) {\r\n    'use strict';\r\n\r\n    $(function () {\r\n        var model_employer = 'employer';\r\n        var a_ajax = new AwesomeAjax('ats');\r\n        var ats_ajax = new ATS_Ajax();\r\n        var ats_animation = new ATS_Animation();\r\n\r\n        // Add New Employer Button\r\n        $('[data-action=\"add-employer\"]').on('click', function () {\r\n            var args = {\r\n                id: 'ats',\r\n                item_id: '#',\r\n                parent: '#wpcontent',\r\n                html: '#employer-add-wrap',\r\n                model_name: model_employer,\r\n                direction: 'right',\r\n                width: '67%',\r\n                load_model: employer_load_model,\r\n                callback_open: edit_employer_open_callback,\r\n                callback_close: edit_employer_close_callback\r\n            };\r\n            window.panel = new AwesomePanel(args);\r\n            panel.init();\r\n        });\r\n\r\n        function employer_load_model(id, model_name) {\r\n            return ats_ajax.load_model(id, model_name).then(function () { // wait until backbone model is loaded\r\n                return ats_ajax.init_departments().then(function () { // wait until all possible departments is loaded\r\n                    var dfd = $.Deferred();\r\n                    var dfd1 = $.Deferred();\r\n\r\n                    window.selectize_instance = $('[name=\"employer_department\"]', ats_panel).selectize({\r\n                        plugins: ['restore_on_backspace', 'remove_button'],\r\n                        delimiter: ',',\r\n                        addPrecedence: false,\r\n                        options: ats_employers_taxonomy_terms || [],\r\n                        items: model.get('department') || [],\r\n                        valueField: 'name',\r\n                        labelField: 'name',\r\n                        searchField: 'name',\r\n                        preload: true,\r\n\r\n                        onInitialize: function () {\r\n                            dfd1.resolve('selectize init'); // selectize is initialized => resolve promise\r\n                        },\r\n\r\n                        create: function (input) {\r\n                            return {\r\n                                value: input,\r\n                                name: input\r\n                            }\r\n                        },\r\n\r\n                        render: {\r\n                            option: function (item, escape) {\r\n                                return '<div>' + escape(item.name) + '</div>';\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    ats_ajax.fill_employer_panel_text(ats_panel, 'employer_panel_text', model.get('custom_fields.panel_text'));\r\n\r\n                    $.when(dfd1, employer_panel_text_dfd).done(function (v1, v2) {\r\n                        dfd.resolve('both init');\r\n                    });\r\n\r\n                    return dfd;\r\n                });\r\n            })\r\n        }\r\n\r\n        function edit_employer_open_callback() {\r\n            $('#employer-form-foto-remove', ats_panel).hide(); // show \"remove\" button\r\n\r\n            window.preview = new AwesomeEmployer();\r\n            preview.init();\r\n        }\r\n\r\n        function edit_employer_close_callback() {\r\n            if (\r\n                typeof (selectize_instance) != 'undefined' &&\r\n                typeof (selectize_instance[0]) != 'undefined' &&\r\n                typeof (selectize_instance[0].selectize) != 'undefined'\r\n            ){\r\n                selectize_instance[0].selectize.destroy();\r\n            }\r\n            if(typeof preview != 'undefined'){\r\n                preview.destroy();\r\n            }\r\n            if(typeof tinyMCEPreInit !== 'indefined'){\r\n                tinyMCEPreInit.mceInit = {}\r\n                tinyMCEPreInit.qtInit = {}\r\n            }\r\n            $('div.employer_panel_text').html('');\r\n        }\r\n\r\n        // Edit Employer\r\n        $('[data-action=\"edit-employer\"]').on('click', function (e) {\r\n            var id = parseInt($(this).attr('employer-id'));\r\n\r\n            // if we hit on employer but not Delete button\r\n            if (\r\n                $(e.target).parents('button').attr('class') !== 'delete-employer' &&\r\n                $(e.target).attr('class') !== 'delete-employer'\r\n            ) {\r\n\r\n                var args = {\r\n                    id: 'ats',\r\n                    item_id: id,\r\n                    parent: '#wpcontent',\r\n                    html: '#employer-edit-wrap',\r\n                    model_name: model_employer,\r\n                    direction: 'right',\r\n                    width: '67%',\r\n                    load_model: employer_load_model,\r\n                    callback_open: edit_employer_open_callback,\r\n                    callback_close: edit_employer_close_callback\r\n                };\r\n\r\n                window.panel = new AwesomePanel(args);\r\n                panel.init();\r\n\r\n            }\r\n        });\r\n\r\n        function set_employer_photo_callback(img) {\r\n            $('#employers-list li[employer-id=\"' + model.get('id') + '\"] .foto').html(img);\r\n        }\r\n\r\n        function update_employer_card() {\r\n            var post_id = model.get('id');\r\n            ats_ajax.set_employer_photo(post_id, 'a-small', set_employer_photo_callback);\r\n            $('#employers-list li[employer-id=\"' + post_id + '\"] span.name').html(model.escape('name'));\r\n            $('#employers-list li[employer-id=\"' + post_id + '\"] span.position').html(model.escape('custom_fields.position'));\r\n        }\r\n\r\n        // Bind AJAX call on Form Submit Button\r\n        $('#employer-edit-wrap .save-panel, #employer-add-wrap .save-panel').on('click', function () {\r\n            var form = $('[data-type=\"form\"]', ats_panel);\r\n            var model = $(form).attr('data-model');\r\n            var $alert = form.find('[data-type=\"employer-alert\"]');\r\n            $alert.attr('class', 'alert').hide();\r\n\r\n            window.panel.hide_content();\r\n            window.panel.animation_start(); // show animation\r\n\r\n            a_ajax.ajax({\r\n                action: 'ats_update_or_new_' + model,\r\n                data: {\r\n                    data: window.model.toJSON()\r\n                },\r\n                success_handler: function (data) {\r\n                    window.model.set('id', data);\r\n                    update_employer_card();\r\n                    window.panel.show_content();\r\n                    window.panel.animation_end();\r\n                },\r\n                success_error_handler: function (errors) {\r\n                    var html = '';\r\n                    $.each(errors, function (index, value) {\r\n                        html += '<p>';\r\n                        html += value.message;\r\n                        html += '</p>';\r\n                    });\r\n                    $alert.addClass('alert-warning').show().html(html);\r\n                    window.panel.show_content();\r\n                    window.panel.animation_end();\r\n                },\r\n                error_handler: function () {\r\n                    $alert.addClass('alert-warning').show().html(data);\r\n                    window.panel.show_content();\r\n                    window.panel.animation_end();\r\n                }\r\n            });\r\n        });\r\n\r\n        // toggle employee search field\r\n        $(document).on('click', '[data-action=\"toggle-employers-search\"]', function () {\r\n            var $panel = $(this).parents('.panel').get(0);\r\n            var $head = $('.panel-heading', $panel);\r\n\r\n            $(this).toggleClass('active');\r\n            $('h6', $head).toggle();\r\n            if($(this).hasClass('active')){\r\n                $('.search .field', $head).css({'display': 'inline-block'});\r\n                $('.search input', $head).focus();\r\n            }else{\r\n                $('.search .field', $head).hide();\r\n            }\r\n        });\r\n\r\n        // handle search field clear\r\n        $(document).on('click', '[data-action=\"search-clear\"]', function () {\r\n            var $field = $(this).parents('.field').get(0);\r\n            $('input', $field).val('').trigger('input');\r\n        });\r\n\r\n        // handle employee search field\r\n        $(document).on('input', '[data-action=\"employers-search\"]', function () {\r\n            var $panel = $(this).parents('.panel').get(0);\r\n            var employers = $('.employers-list > li', $panel);\r\n            var query = $(this).val().trim().toLowerCase();\r\n\r\n            employers.hide();\r\n\r\n            $.each(employers, function (index, item) {\r\n                var title = $(item).attr(\"title\").toLowerCase() || \"\";\r\n                if (title.indexOf(query) !== -1) {\r\n                    $(item).show();\r\n                }\r\n            });\r\n        });\r\n\r\n        // Delete Employer\r\n        $('button.delete-employer').on('click', function () {\r\n            var $parent = $(this).parents('li');\r\n            var id = parseInt($parent.attr('employer-id'));\r\n            var model_name = model_employer;\r\n\r\n            if (confirm('You really want to delete employer?')) {\r\n                a_ajax.delete_model(id, model_name).then(function () {\r\n                    ats_animation.delete_model($parent, model_name);\r\n                });\r\n            }\r\n        });\r\n    });\r\n})(jQuery);","var fields = {\r\n    gaps: {\r\n        type: 'group',\r\n        members: ['gaps', 'card_gaps', 'card_margin'],\r\n        field: {\r\n            type: 'size',\r\n            limits: [0, 10]\r\n        }\r\n    },\r\n\r\n    card_width: {\r\n        type: 'percent',\r\n        limits: [30, 100]\r\n    },\r\n\r\n    photo_shape: {\r\n        type: 'radio',\r\n        values: ['square', 'round']\r\n    },\r\n    photo_size: {\r\n        type: 'radio',\r\n        values: ['a-medium', 'a-thumbnail', 'a-small', 'custom']\r\n    },\r\n    photo_width: {\r\n        type: 'size',\r\n        limits: [50, 100]\r\n    },\r\n\r\n    // Colors\r\n    card_colors: {\r\n        type: 'group',\r\n        members: [\r\n            //'base_color',\r\n            'card_base_color',\r\n            'card_border_color',\r\n            'card_divider_color',\r\n            'card_shadow_color',\r\n            'card_even_row_color'\r\n        ],\r\n        field: {\r\n            group: 'card',\r\n            type: 'color'\r\n        }\r\n    },\r\n\r\n    text_colors: {\r\n        type: 'group',\r\n        members: [\r\n            'name_color',\r\n            'position_color',\r\n            'short_bio_color',\r\n            'contacts_color',\r\n            'social_color'\r\n        ],\r\n        field: {\r\n            group: 'text',\r\n            type: 'color'\r\n        }\r\n    },\r\n\r\n    text_transforms: {\r\n        type: 'group',\r\n        members: ['name_text_transform', 'position_text_transform', 'short_bio_text_transform'],\r\n        field: {\r\n            type: 'radio',\r\n            values: ['none', 'uppercase']\r\n        }\r\n    },\r\n\r\n    font_sizes: {\r\n        type: 'group',\r\n        members: ['name_font_size', 'position_font_size', 'short_bio_font_size'],\r\n        field: {\r\n            type: 'size',\r\n            limits: [12, 20]\r\n        }\r\n    },\r\n\r\n    bolds: {\r\n        type: 'group',\r\n        members: ['name_bold', 'position_bold', 'short_bio_bold'],\r\n        field: {\r\n            type: 'boolean'\r\n        }\r\n    },\r\n\r\n    italics: {\r\n        type: 'group',\r\n        members: ['name_italic', 'position_italic', 'short_bio_italic'],\r\n        field: {\r\n            type: 'boolean'\r\n        }\r\n    },\r\n\r\n    // Blocks margins\r\n    top_margins: {\r\n        type: 'group',\r\n        members: [\r\n            'photo_top_margin',\r\n            'name_top_margin',\r\n            'position_top_margin',\r\n            'divider_top_margin',\r\n            'short_bio_top_margin',\r\n            'contacts_top_margin',\r\n            'social_top_margin'\r\n        ],\r\n        field: {\r\n            type: 'size',\r\n            limits: [0, 15]\r\n        }\r\n    }\r\n};\r\n\r\nvar rules = {\r\n    grid: {\r\n        exclude: []\r\n    },\r\n    table: {\r\n        exclude: [\r\n            'name_color',\r\n            'position_color',\r\n            'short_bio_color',\r\n            'social_color'\r\n        ]\r\n    },\r\n    widget: {\r\n        exclude: [\r\n            'photo_size'\r\n        ]\r\n    },\r\n};\r\n\r\nvar AwesomeRandom = function () {\r\n    var self = this;\r\n    self.number = function (limit) {\r\n        if(limit.length > 2){\r\n            return;\r\n        }\r\n        var min = limit[0];\r\n        var max = limit[1];\r\n        return Math.floor(Math.random() * (max - min + 1) + min);\r\n    };\r\n\r\n    self.boolean = function () {\r\n        return this.number([0,1]);\r\n    };\r\n\r\n    self.size = function (limit) {\r\n        return this.number(limit) + 'px';\r\n    };\r\n\r\n    self.percent = function (limit) {\r\n        return this.number(limit) + '%';\r\n    };\r\n\r\n    self.radio = function (values) {\r\n        if(values.length < 1){\r\n            return;\r\n        }\r\n        return values[Math.floor(Math.random() * values.length)];\r\n    };\r\n\r\n    self.array = function (array) {\r\n        return _.shuffle(array);\r\n    };\r\n\r\n    self.color_delta = function (number, range) {\r\n        var min = parseInt(number) - range < 0 ? 0 : parseInt(number) - range;\r\n        var max = parseInt(number) + range > 255 ? 255 : parseInt(number) + range;\r\n        return [min, max];\r\n    };\r\n\r\n    self.invert_color = function (color) {\r\n        var r = 0xFF ^ color[0];\r\n        var g = 0xFF ^ color[1];\r\n        var b = 0xFF ^ color[2];\r\n        return [r,g,b];\r\n    };\r\n    \r\n    self.black_or_white = function (color) {\r\n        var lightness = color[0]*0.2126 + color[1]*0.7152 + color[2]*0.0722;\r\n        return lightness >= 127 ? [0, 0, 0] : [255, 255, 255];\r\n    };\r\n\r\n    self.color = function (seed_color) {\r\n        var limits = [];\r\n        if(seed_color === null){\r\n            limits[0] = [0, 255];\r\n            limits[1] = [0, 255];\r\n            limits[2] = [0, 255];\r\n        }else{\r\n            limits[0] = self.color_delta(seed_color[0], 10);\r\n            limits[1] = self.color_delta(seed_color[1], 10);\r\n            limits[2] = self.color_delta(seed_color[2], 10);\r\n        }\r\n        var r = Math.floor(this.number(limits[0]));\r\n        var g = Math.floor(this.number(limits[1]));\r\n        var b = Math.floor(this.number(limits[2]));\r\n        //var a = parseFloat(Math.random()).toFixed(2);\r\n        return [r,g,b];\r\n    };\r\n\r\n};\r\n\r\nvar AwesomeModel = Backbone.NestedModel.extend({\r\n    push: function (arg, val) {\r\n        if(typeof this.get(arg) == 'undefined'){\r\n            this.set(arg, []);\r\n        }\r\n        var arr = _.clone(this.get(arg));\r\n        arr.push(val);\r\n        this.set(arg, arr);\r\n    },\r\n\r\n    unset_array: function (arg, index) {\r\n        var arr = _.clone(this.get(arg));\r\n        arr.splice(index, 1);\r\n        this.set(arg, arr);\r\n    },\r\n\r\n    make_seed: function (args) {\r\n        var random = new AwesomeRandom();\r\n        var self = this;\r\n        var rules = args.rules;\r\n        var seed = args.seed;\r\n        var fields = args.fields;\r\n        var seed_card_color = args.seed_card_color;\r\n\r\n        if(seed_card_color === null) {\r\n            seed_card_color = random.color(seed_card_color);\r\n        }\r\n\r\n        $.each(fields, function (key, value) {\r\n            if(value.type == 'group'){\r\n                var fields = {};\r\n                $.each(value.members, function (index, inner_value) {\r\n                    fields[inner_value] = value.field;\r\n\r\n                });\r\n                seed = self.make_seed({\r\n                    fields: fields,\r\n                    seed: seed,\r\n                    seed_card_color: seed_card_color,\r\n                    //seed_text_color: seed_text_color\r\n                });\r\n            }else{\r\n                var field_value  = null;\r\n                switch (value.type){\r\n                    case 'number':\r\n                        field_value = random.number(value.limits);\r\n                        break;\r\n                    case 'boolean':\r\n                        field_value = random.boolean();\r\n                        break;\r\n                    case 'size':\r\n                        field_value = random.size(value.limits);\r\n                        break;\r\n                    case 'percent':\r\n                        field_value = random.percent(value.limits);\r\n                        break;\r\n                    case 'radio':\r\n                        field_value = random.radio(value.values);\r\n                        break;\r\n                    case 'array':\r\n                        field_value = random.array(value.values);\r\n                        break;\r\n                    case 'color':\r\n                        var alpha = null;\r\n                        if(value.group == 'card'){\r\n                            alpha = '0.' + random.number([0,99]);\r\n                            var color = random.color(seed_card_color);\r\n                            field_value = 'rgba(' + color.join(',') + ',' +  alpha + ')';\r\n                        }\r\n                        if(value.group == 'text'){\r\n                            alpha = '0.' + random.number([50,99]);\r\n                            if(seed_card_color === null) {\r\n                                return;\r\n                            }\r\n                            var inverted = random.black_or_white(seed_card_color);\r\n                            field_value = 'rgba(' + inverted.join(',') + ',' +  alpha + ')';\r\n                        }\r\n                        break;\r\n                }\r\n                seed[key] = field_value;\r\n            }\r\n        });\r\n        return seed;\r\n    },\r\n\r\n\r\n    random: function () {\r\n        var random_values = {};\r\n        var args = {\r\n            fields: fields,\r\n            seed: random_values,\r\n            seed_card_color: null,\r\n            //seed_text_color: null\r\n        };\r\n        var seed = this.make_seed(args);\r\n\r\n        var layout = model.get('layout');\r\n        var styles = model.get('styles.' + layout);\r\n\r\n        $.each(styles, function (key, value) {\r\n            if($.inArray(key, rules[layout].exclude) > -1){\r\n                return;\r\n            }\r\n            if(seed.hasOwnProperty(key)){\r\n                model.set('styles.' + layout + '.' + key, seed[key]);\r\n            }\r\n        });\r\n    }\r\n});","var Employer = Backbone.NestedModel.extend({\r\n\r\n});\r\n\r\nvar Employers = Backbone.Collection.extend({\r\n    model: Employer\r\n});\r\n\r\nwindow.ats_employers = new Employers();\r\nwindow.ats_employers_clone = new Employers();","/**\r\n * Testimonial preview\r\n */\r\n\r\nvar AwesomeSettings = function (){\r\n    'use strict';\r\n\r\n    var $ = jQuery; // enable jQuery\r\n    var self = this;\r\n\r\n    // two way data bindings for edit group form\r\n    self.bind_form = function(){\r\n        var dfd = $.Deferred();\r\n\r\n        dfd.resolve();\r\n        return dfd;\r\n    };\r\n\r\n\r\n    // destroy preview\r\n    self.destroy = function(){\r\n\r\n    };\r\n\r\n    // init preview\r\n    self.init = function(){\r\n        self.bind_form();\r\n        var form = new AwesomeForm();\r\n        form.init(settings_model);\r\n\r\n        window.settings_form_view = new SettingsForm({\r\n            model: window.settings_model\r\n        });\r\n        settings_form_view.setElement($('#settings-wrap', ats_panel));\r\n        settings_form_view.render();\r\n\r\n        $('select', ats_panel).fsdropdown();\r\n    };\r\n};","/**\r\n * Team preview\r\n */\r\n\r\nvar AwesomeTeam = function (){\r\n    'use strict';\r\n    var $ = jQuery; // enable jQuery\r\n    var self = this;\r\n    var tooltip_hint = '<p class=\"hint\">Notice: style settings for Skype, Phone, Email, Website and Location are common for all these fields.</p>';\r\n\r\n    self.preview = $('.team-preview', ats_panel);\r\n    self.employers_panel = '#panel-employers';\r\n    self.layout = model.get('layout');\r\n    self.colorpickers = [\r\n        'button',\r\n        'button_hover',\r\n        'button_text',\r\n        'button_text_hover',\r\n        'base',\r\n        'panel',\r\n        'card_base',\r\n        'card_border',\r\n        'divider',\r\n        'card_shadow',\r\n        'card_even_row',\r\n        'name',\r\n        'position',\r\n        'short_bio',\r\n        'contacts',\r\n        'social',\r\n        'skills_bar',\r\n        'skills_text'\r\n    ];\r\n    self.tooltips = {\r\n        photo: {\r\n            type: 'photo',\r\n            hint: ''\r\n        },\r\n        name: {\r\n            type: 'font',\r\n            hint: ''\r\n        },\r\n        position: {\r\n            type: 'font',\r\n            hint: ''\r\n        },\r\n        short_bio: {\r\n            type: 'font',\r\n            hint: ''\r\n        },\r\n        divider: {\r\n            type: 'divider',\r\n            hint: ''\r\n        },\r\n        social: {\r\n            type: 'social',\r\n            hint: ''\r\n        },\r\n        contacts: {\r\n            type: 'font',\r\n            hint: tooltip_hint\r\n        },\r\n        skills: {\r\n            type: 'skills',\r\n            hint: ''\r\n        }\r\n    };\r\n\r\n    self.labels = {\r\n        grid: {\r\n            name: 'Card',\r\n            card_divider_color: 'Divider'\r\n        },\r\n        table: {\r\n            name: 'Row',\r\n            card_divider_color: 'Separators'\r\n        },\r\n        widget: {\r\n            name: 'Widget',\r\n            card_divider_color: 'Separators'\r\n        },\r\n    };\r\n\r\n    // show personal style fields\r\n    self.show_fields = function(){\r\n        var dfd = $.Deferred();\r\n        var blocks = model.get('styles.' + model.get('layout') + '.blocks_order');\r\n        if(model.get('layout') == 'grid' && $.inArray('body', blocks) == -1){\r\n            blocks.push('body'); // add pseudo-block body for grid layout\r\n        }\r\n        $('.team-blocks-visibility .visible').hide();\r\n        $.each(blocks, function (index, item) {\r\n            $('.' + item + '_visible').show();\r\n        });\r\n\r\n        blocks = model.get('styles.' + model.get('layout'));\r\n\r\n        $('#team-form .model-field').hide();\r\n        $.each(blocks, function (key, value) {\r\n            $('#team-form .' + key).show(); // show field block\r\n            if(key in self.labels[model.get('layout')]){\r\n                $('#team-form .' + key + ' .input-group-addon', ats_panel).eq(0).html(self.labels[model.get('layout')][key]); // rename layout special fields labels if exist\r\n            }\r\n        });\r\n\r\n        //$('.interface-elements').show();\r\n        $('.interface-styling').show();\r\n\r\n        $('h5.card-label', ats_panel).html(self.labels[model.get('layout')].name + ' settings');\r\n        $('h5.layout-label', ats_panel).show();\r\n        if(model.get('layout') != 'grid'){\r\n            $('h5.layout-label', ats_panel).hide();\r\n        }\r\n        if(model.get('layout') == 'widget'){\r\n            //$('.interface-elements').hide();\r\n            $('.interface-styling').hide();\r\n        }\r\n        $('.empty-model .hint').html('Add at least one employee from the main plugins\\' screen.');\r\n        dfd.resolve();\r\n        return dfd;\r\n    };\r\n\r\n    self.insert_preview_html = function () {\r\n        var layout = model.get('layout');\r\n        var html = model.get(layout + '_html');\r\n        self.preview.html(html); // append preview based on current team layout option\r\n    };\r\n\r\n    // two way data bindings for edit team form\r\n    self.bind_form = function(){\r\n        var dfd = $.Deferred();\r\n\r\n        // layout align\r\n        $('.team-align .btn', ats_panel).on('click', function(e){\r\n            e.preventDefault();\r\n            var $el = $(this);\r\n            var $parent = $el.parent('.btn-group');\r\n            var $input = $el.find('input');\r\n            var value = $input.attr('data-value');\r\n            var model_field = 'styles.' + model.get('layout') + '.align';\r\n\r\n            $parent.find('.btn').removeClass('active');\r\n            model.set(model_field, value);\r\n            $el.addClass('active');\r\n        });\r\n\r\n        // preview blocks visibility\r\n        $('.toggle', ats_panel).on('click', function(e){\r\n            e.preventDefault();\r\n            var $el = $(this);\r\n            var $input = $el.find('input');\r\n            var group = $el.attr('data-group') || '';\r\n            var field = $input.attr('name').split('team_' + group + '_').join('');\r\n            if(group == 'styles'){\r\n                var model_field = group + '.' + model.get('layout') + '.' + field;\r\n            }else{\r\n                var model_field = group + '.' + field;\r\n            }\r\n\r\n            $input.prop('checked', 'checked');\r\n            if($input.attr('data-checked') == 1){\r\n                model.set(model_field, '0');\r\n                $input.val('0');\r\n                $input.attr('data-checked', '0');\r\n            }else{\r\n                model.set(model_field, '1');\r\n                $input.val('1');\r\n                $input.attr('data-checked', '1');\r\n            }\r\n        });\r\n\r\n        /*// preview blocks visibility\r\n        $('.toggle', ats_panel).on('click', function(e){\r\n            e.preventDefault();\r\n            var $el = $(this);\r\n            var $input = $el.find('input');\r\n            var field = $input.attr('name').split('team_').join('');\r\n            var model_field = 'styles.' + model.get('layout') + '.' + field;\r\n            $input.prop('checked', 'checked');\r\n            if($input.attr('data-checked') == 1){\r\n                model.set(model_field, '0');\r\n                $input.val('0');\r\n                $input.attr('data-checked', '0');\r\n            }else{\r\n                model.set(model_field, '1');\r\n                $input.val('1');\r\n                $input.attr('data-checked', '1');\r\n            }\r\n        });*/\r\n\r\n        // panels accordion\r\n        $('.panel-collapse-team .panel-heading').on('click', function () {\r\n            var opened = $(this).hasClass('a-collapse-head-open');\r\n            if(opened){\r\n                return false;\r\n            }\r\n            var group = $(this).parents('.panel-collapse-team').eq(0);\r\n            $('.panel-body', group).addClass('a-collapse');\r\n            $('.panel-heading', group).removeClass('a-collapse-head-open');\r\n            $(this).next('.panel-body').removeClass('a-collapse');\r\n            $(this).toggleClass('a-collapse-head-open');\r\n        });\r\n\r\n        window.team_form_view = new TeamForm({\r\n            model: window.model\r\n        });\r\n        team_form_view.setElement($('#team-form', ats_panel));\r\n        team_form_view.render();\r\n        dfd.resolve();\r\n        return dfd;\r\n    };\r\n\r\n    // two way data binding for team preview\r\n    self.bind_preview = function(){\r\n        var dfd = $.Deferred();\r\n        window.preview_view = new TeamPreview({\r\n            model: window.model\r\n        });\r\n        preview_view.setElement($('#team-form', ats_panel));\r\n        preview_view.render();\r\n        dfd.resolve();\r\n        return dfd;\r\n    };\r\n\r\n    // init jQuery UI drag & drop for preview blocks\r\n    self.init_sortable_fields = function(){\r\n        var dfd = $.Deferred();\r\n        var axis = model.get('layout') == 'table' ? 'x' : 'y';\r\n        var card = self.preview.find('ul li .sortable-box');\r\n        card.sortable({\r\n            axis: axis,\r\n            forcePlaceholderSize: true,\r\n            forceHelperSize: true,\r\n            placeholder: 'preview-placeholder',\r\n            helper: function(event, ui){\r\n                var $clone =  $(ui).clone();\r\n                var $wrap = $('<div></div>');\r\n                $clone.css('display', 'table-cell');\r\n                $wrap.css('display', 'table');\r\n                $wrap.css('vertical-align', 'middle');\r\n                $wrap.append($clone);\r\n                $wrap.css('margin-top', $(ui).css('margin-top'));\r\n                $wrap.css('width', '100%');\r\n                return $wrap;\r\n            },\r\n            start: function(event, ui){\r\n                ui.placeholder.height(ui.helper.height());\r\n                ui.placeholder.width(ui.helper.width());\r\n                ui.placeholder.css('margin-top', ui.helper.css('margin-top'));\r\n            },\r\n            update: function (event, ui) {\r\n                var blocks = card.find('.sortable');\r\n                var order = [];\r\n                $.each(blocks, function () {\r\n                    var block = $(this).attr('data-block-name');\r\n                    order.push(block);\r\n                });\r\n                $('[name=\"team_blocks_order\"]', ats_panel).val(JSON.stringify(order)); // set new blocks order to hidden field\r\n                model.set('styles.' + model.get('layout') + '.blocks_order', order);\r\n            }\r\n        });\r\n        dfd.resolve();\r\n        return dfd;\r\n    };\r\n\r\n    self.set_rgba_color = function (field, color) {\r\n        var model_base = 'styles.' + model.get('layout') + '.';\r\n        var rgba = color.toRGB();\r\n        color = 'rgba(' + rgba.r + ',' + rgba.g + ',' + rgba.b + ',' + rgba.a + ')';\r\n        model.set(model_base + field, color);\r\n    };\r\n\r\n    // init colorpickers\r\n    self.init_colorpicker = function () {\r\n        var dfd = $.Deferred();\r\n\r\n        // main form colorpickers\r\n        $.each(self.colorpickers, function (index, key) {\r\n            var $el = $('.' + key + '_color', ats_panel);\r\n            var colorpicker = 'colorpicker_' + key + '_color';\r\n            window[colorpicker] = $el.colorpicker({\r\n                container: $('.' + key + '_color .color', ats_panel),\r\n            }).on('changeColor.colorpicker', function (e) {\r\n                self.set_rgba_color(key + '_color', e.color);\r\n            });\r\n        });\r\n\r\n        return dfd;\r\n    };\r\n\r\n    // two way data binding for preview tooltips\r\n    self.bind_tooltips = function () {\r\n        $('.team-photo-settings select', ats_panel).on('change', function () {\r\n            var field = $(this).attr('data-field');\r\n            var val = $(this).val();\r\n            model.set('styles.' + model.get('layout') + '.' + field, val);\r\n        });\r\n\r\n        // bind some shit on photo size change\r\n        $('.team-photo-settings [name=\"team_photo_size_select\"]', ats_panel).on('change', function () {\r\n            var val = $(this).val();\r\n            var layout = model.get('layout');\r\n            var photo = $('.employer_photo img', ats_panel);\r\n\r\n            if(layout != 'grid'){\r\n                return false;\r\n            }\r\n\r\n            $('[name=\"team_photo_size\"]', ats_panel).val(val);\r\n        });\r\n\r\n        // handle btn group changes for radiobuttons-like inputs\r\n        $('.btn-group-radio .btn', ats_panel).on('click', function(e){\r\n            e.preventDefault();\r\n            var $el = $(this);\r\n            var node = $el.attr('data-model-node') || '';\r\n            var $parent = $el.parent('.btn-group');\r\n            var $input = $el.find('input');\r\n            var value = $input.attr('data-value');\r\n            var field_name = $parent.attr('data-field-name');\r\n            if(node == 'root'){\r\n                field_name = field_name;\r\n            }\r\n            if(node == 'form'){\r\n                field_name = node + '.' + field_name;\r\n            }\r\n            if(node == ''){\r\n                field_name = 'styles.' + model.get('layout') + '.' + field_name;\r\n            }\r\n            var option_name = $el.attr('data-option-name');\r\n\r\n            $input.prop('checked', 'checked');\r\n            $input.val(value);\r\n\r\n            $parent.find('.btn').removeClass('active');\r\n            model.set(field_name + '_' + option_name, value);\r\n            $el.addClass('active');\r\n        });\r\n\r\n        // handle btn group changes for checkbox-like inputs\r\n        $('.btn-group-checkbox .btn', ats_panel).on('click', function(e){\r\n            e.preventDefault();\r\n            var $el = $(this);\r\n            var $input = $el.find('input');\r\n            var field_name = $input.attr('name').split('team_').join('');\r\n            field_name = 'styles.' + model.get('layout') + '.' + field_name;\r\n\r\n            if(parseInt($input.val()) == 1){\r\n                model.set(field_name, '0');\r\n                $input.val('0');\r\n                $el.removeClass('active');\r\n            }else{\r\n                model.set(field_name, '1');\r\n                $input.val('1');\r\n                $el.addClass('active');\r\n            }\r\n        });\r\n\r\n        // show tooltip on A glyphicon click\r\n        $('[data-action=\"call-tooltip\"]', ats_panel).on('click', function (e) {\r\n            e.preventDefault();\r\n            var $this = $(this);\r\n            var field = $(this).parent().attr('data-tooltip-name');\r\n            var $toolptip = $('[data-field=\"' + field + '\"]', ats_panel);\r\n\r\n            $('.a-tooltip-wrapper', ats_panel).css('visibility', 'hidden').css('opacity', 0);\r\n            $toolptip.css('visibility', 'visible').css('opacity', 1);\r\n        });\r\n\r\n        // hide tooltip on document click anywhere outside tooltip\r\n        $(document).on('click', function (e) {\r\n            if(typeof ats_panel === 'undefined'){\r\n                return;\r\n            }\r\n            if( !$(e.target).parents('.a-tooltip-wrapper').length &&\r\n                !$(e.target).is('[data-action=\"call-tooltip\"]') &&\r\n                !$(e.target).parents('button').is('[data-action=\"call-tooltip\"]')\r\n                ){\r\n                    var $tooltip = $('.live-preview .a-tooltip-wrapper', ats_panel);\r\n                    if($tooltip.is(':visible')){\r\n                        $tooltip.css('visibility', 'hidden').css('opacity', 0);\r\n                    }\r\n                }\r\n        });\r\n\r\n        // Init Backbone views for tooltips\r\n        $.each(self.tooltips, function (key, value) {\r\n            var view_name = 'TeamTooltip' + value.type.capitalize();\r\n            var tooltip = 'view_tooltip_' + key;\r\n            window[tooltip] = new window[view_name]({\r\n                model: window.model,\r\n                el: $('.' + key + '_settings', ats_panel),\r\n                field_name: key // set current field name for data bindings\r\n            });\r\n            window[tooltip].render();\r\n        });\r\n    };\r\n\r\n    // init tooltips for each preview block (tooltips list stored in self.tooltips)\r\n    self.init_tooltips = function () {\r\n        var dfd = $.Deferred();\r\n        $.each(self.tooltips, function (key, value) {\r\n            var args = {\r\n                key: key,\r\n                width: value.width,\r\n                viewport: '.a-slide-panel',\r\n                direction: 'bottom',\r\n                container: $('#team-tooltips', ats_panel),\r\n                content: '#team-' + value.type + '-settings',\r\n                data: {\r\n                    field_name: key,\r\n                    hint: value.hint\r\n                }\r\n            };\r\n            window[key + '_tooltip'] = new AwesomeTooltip(args);\r\n            window[key + '_tooltip'].init();\r\n        });\r\n        self.bind_tooltips();\r\n        dfd.resolve();\r\n        return dfd;\r\n    };\r\n    \r\n    self.init_help = function () {\r\n        var dfd = $.Deferred();\r\n        var $clone = $('#preview-help').clone().removeAttr('id').attr('panel', 'preview-help').css({'zIndex': 4});\r\n        $('#team-form .col-md-4').append($clone.addClass('at-transition'));\r\n        dfd.resolve();\r\n        return dfd;\r\n    };\r\n\r\n    self.destroy_colorpickers = function () {\r\n        $.each(self.colorpickers, function (index, key) {\r\n            var colorpicker = 'colorpicker_' + key + '_color';\r\n            delete window[colorpicker];\r\n        });\r\n    };\r\n\r\n    // destroy preview\r\n    self.destroy = function(){\r\n        $('.toggle').off();\r\n        $('select', ats_panel).fsdropdown('destroy');\r\n        $('#team-tooltips', ats_panel).html('');\r\n        preview_view.close();\r\n        team_form_view.close();\r\n        $.each(self.tooltips, function (key, value) {\r\n            window['view_tooltip_' + key ].close();\r\n        });\r\n        $.each(self.tooltips, function (key, value) {\r\n            window[key + '_tooltip'].destroy();\r\n        });\r\n    };\r\n\r\n    self.reinit = function () {\r\n        var form = new AwesomeForm();\r\n        form.init(model); // refill form\r\n        self.show_fields();\r\n        self.bind_preview();\r\n        self.init_sortable_fields();\r\n    };\r\n    \r\n    // init preview\r\n    self.init = function(){\r\n        var form = new AwesomeForm();\r\n\r\n        //var def1 = self.init_help();\r\n        var def2 = form.init(model); // refill form\r\n        var def3 = self.show_fields();\r\n        var def4 = self.bind_form();\r\n        var def5 = self.bind_preview();\r\n        var def6 = self.init_tooltips();\r\n        var def7 = self.init_sortable_fields();\r\n\r\n        var dfd = $.Deferred();\r\n        $.when(def2, def3, def4, def5, def6, def7).then(function () {\r\n            self.init_colorpicker();\r\n            $('select', ats_panel).fsdropdown();\r\n            dfd.resolve();\r\n        });\r\n        return dfd;\r\n    };\r\n};","(function ($) {\r\n// toggle preview blocks visibility (show/hide)\r\n    var toggle_visibility = function ($el, val, model, options) {\r\n        $el.toggle(!!+val);\r\n    };\r\n\r\n    var photo_settings = function ($el, val, model, options) {\r\n        var layout = model.get('layout');\r\n        var $custom_width = $('.photo_width');\r\n        var $top_margin = $('.photo_top_margin');\r\n        var photo_sizes = {\r\n            'a-full': '100%',\r\n            /*'a-large': '600px',\r\n             'a-medium': '300px',\r\n             'a-thumbnail': '150px',\r\n             'a-small': '50px',*/\r\n        };\r\n\r\n        toggle_visibility($el, val[0], model, options); // is block visible?\r\n        var $wrapper = $el.find('.photo-wrapper');\r\n        var $shape = $el.find('.photo-shape');\r\n        var $photo = $el.find('.photo-container');\r\n\r\n        $custom_width.hide();\r\n        if ('round' == val[1]) {\r\n            $shape.addClass('ats-round');\r\n        }\r\n        if ('square' == val[1]) {\r\n            $shape.removeClass('ats-round');\r\n        }\r\n\r\n        if (layout == 'grid') {\r\n            if (val[2] == 'a-full') {\r\n                $el.css('margin', '0');\r\n                $shape.css('width', photo_sizes[val[2]]);\r\n                $photo.css('width', photo_sizes[val[2]]);\r\n                $photo.css('padding-bottom', photo_sizes[val[2]]);\r\n                $top_margin.hide();\r\n            }\r\n            if (val[2] == 'custom') {\r\n                $el.css('margin-top', AwesomeUtil.calc_size(val[4]));\r\n                $shape.css('width', AwesomeUtil.calc_size(val[3]));\r\n                $custom_width.show();\r\n                $top_margin.show();\r\n            }\r\n        }\r\n        if (layout == 'table') {\r\n            $el.css('width', AwesomeUtil.calc_size(val[3]));\r\n            $shape.css('width', AwesomeUtil.calc_size(val[3]));\r\n            $photo.css('width', AwesomeUtil.calc_size(val[3]));\r\n            $photo.css('padding-bottom', AwesomeUtil.calc_size(val[3]));\r\n            $custom_width.show();\r\n        }\r\n        if (layout == 'widget') {\r\n            $shape.css('width', AwesomeUtil.calc_size(val[3]));\r\n            $shape.css('min-width', AwesomeUtil.calc_size(val[3]));\r\n            $photo.css('width', AwesomeUtil.calc_size(val[3]));\r\n            $photo.css('padding-bottom', AwesomeUtil.calc_size(val[3]));\r\n            $custom_width.show();\r\n        }\r\n    };\r\n\r\n// handle preview block appearance on tooltip editor settings change\r\n    var font_settings = function ($el, val, model, options) {\r\n        var color_field = options.selector.replace_all('.employer_', '') + '_color';\r\n        toggle_visibility($el, val[0], model, options); // is block visible?\r\n        var $elc = $el.find('.team-field-content');\r\n        //reset styles\r\n        $elc.css('font-weight', 'normal');\r\n        $elc.css('font-style', 'normal');\r\n        $el.find('.font-style .btn').removeClass('active'); // reset font-style buttons\r\n\r\n        $elc.css('font-size', val[1]); // font size\r\n        $elc.css('color', val[2]); // text color\r\n\r\n        if (!!+val[3]) {\r\n            $el.find('[data-option-name=\"bold\"]').addClass('active'); // set button \"bold\" to active state\r\n            $elc.css('font-weight', 'bold');\r\n        }\r\n        if (!!+val[4]) {\r\n            $el.find('[data-option-name=\"italic\"]').addClass('active'); // set button \"italic\" to active state\r\n            $elc.css('font-style', 'italic');\r\n        }\r\n        $elc.css('text-transform', val[5]); // is uppercase\r\n        $elc.css('text-align', val[6]); //text align\r\n        $el.css('margin-top', AwesomeUtil.calc_size(val[7])); //margin-top\r\n    };\r\n\r\n    var card_body_settings = function ($el, color, border, shadow) {\r\n        $el.css('background-color', color);\r\n        $el.css('border', '1px solid ' + border);\r\n        if (shadow !== '') {\r\n            $el.css('-webkit-box-shadow', '0 0 5px 0 ' + shadow);\r\n            $el.css('-moz-box-shadow', '0 0 5px 0 ' + shadow);\r\n            $el.css('box-shadow', '0 0 5px 0 ' + shadow);\r\n        }\r\n    };\r\n\r\n// Backbone View for team preview\r\n    TeamPreview = Backbone.View.extend({\r\n        initialize: function (options) {\r\n            _.bindAll(this, 'before_render', 'render', 'after_render'); // create callbacks for 'before_render' and 'after_render' pseudo events\r\n            var _this = this;\r\n            this.render = _.wrap(this.render, function (render) {\r\n                _this.before_render();\r\n                render();\r\n                _this.after_render();\r\n                return _this;\r\n            });\r\n        },\r\n\r\n        // data bindings\r\n        bindings: function () {\r\n            var result = {};\r\n            var layout = model.get('layout');\r\n            var model_field = 'styles.' + layout + '.';\r\n\r\n            // team base gaps and background color\r\n            result['#team-preview .ats-layout'] = {\r\n                observe: model_field + 'hover',\r\n                update: function ($el, val, model, options) {\r\n                    if (val == 'off') {\r\n                        $el.attr('class', 'ats-layout-' + model.get('layout') + ' ats-layout ');\r\n                    } else {\r\n                        $el.attr('class', 'ats-layout-' + model.get('layout') + ' ats-layout ' + 'ats-effect-' + val);\r\n                    }\r\n                }\r\n            };\r\n\r\n\r\n            // team base gaps and background color\r\n            result['#team-preview ul.employers-box'] = {\r\n                observe: [\r\n                    model_field + 'gaps',\r\n                    model_field + 'base_color',\r\n                    model_field + 'align'\r\n                ],\r\n                update: function ($el, val, model, options) {\r\n                    if (model.get('layout') == 'grid') {\r\n                        $el.css('background-color', val[1]);\r\n                        $el.css('text-align', val[2]);\r\n                    }\r\n                }\r\n            };\r\n\r\n\r\n            // team card base color, border color, shadow color and gaps\r\n            result['#team-preview ul.employers-box > li > div'] = {\r\n                observe: [\r\n                    model_field + 'card_base_color',\r\n                    model_field + 'card_border_color',\r\n                    model_field + 'card_shadow_color',\r\n                    model_field + 'card_gaps',\r\n                    model_field + 'body_visible'\r\n                ],\r\n                update: function ($el, val, model, options) {\r\n                    $el.parent('li').css('padding', '0');\r\n                    //$el.parent('li').css('padding', '0');\r\n                    if (model.get('layout') == 'grid') {\r\n                        if (!!+val[4]) {\r\n                            card_body_settings($el, val[0], val[1], val[2]); // set card body bg, border and shadow\r\n                        } else {\r\n                            $el.css('background-color', 'transparent');\r\n                            $el.css('border', 'none');\r\n                            $el.css('-webkit-box-shadow', 'none');\r\n                            $el.css('-moz-box-shadow', 'none');\r\n                            $el.css('box-shadow', 'none');\r\n                        }\r\n                        if (model.get('styles.grid.photo_size') == 'a-full') {\r\n                            $el.css('padding', '0');\r\n                        }\r\n                    } else {\r\n                        $el.css('border-top-color', val[1]);\r\n                        $el.css('border-bottom-color', val[1]);\r\n                    }\r\n                }\r\n            };\r\n\r\n            // divider\r\n            result['.employer_divider'] = {\r\n                observe: [\r\n                    model_field + 'divider_visible',\r\n                    model_field + 'divider_color',\r\n                    model_field + 'divider_width',\r\n                    model_field + 'divider_top_margin',\r\n                ],\r\n                update: function ($el, val, model, options) {\r\n                    if (model.get('layout') == 'grid') {\r\n                        toggle_visibility($el, val[0], model, options); // divider visible\r\n                        $el.find('span').css('background-color', val[1]); // divider color\r\n                        $el.find('span').css('width', AwesomeUtil.calc_size(val[2])); // divider width\r\n                        $el.css('margin-top', AwesomeUtil.calc_size(val[3])); // divider top margin\r\n                    }\r\n                }\r\n            };\r\n\r\n            // team layout slider\r\n            result['.card_margin'] = {\r\n                observe: model_field + 'slider',\r\n                update: function ($el, val, model, options) {\r\n                    $el.hide();\r\n                    if (val === 0 && model.get('layout') == 'grid') {\r\n                        $el.show();\r\n                    }\r\n                }\r\n            };\r\n\r\n            // team layout align\r\n            result['.team-align'] = {\r\n                observe: model_field + 'align',\r\n                update: function ($el, val, model, options) {\r\n                    $el.find('.btn').removeClass('active');\r\n                    $el.find('.align-' + val).addClass('active');\r\n                }\r\n            };\r\n\r\n            // employer photo block settings\r\n            result['.employer_photo'] = {\r\n                observe: [\r\n                    model_field + 'photo_visible',\r\n                    model_field + 'photo_shape',\r\n                    model_field + 'photo_size',\r\n                    model_field + 'photo_width',\r\n                    model_field + 'photo_top_margin'\r\n                ],\r\n                update: photo_settings\r\n            };\r\n\r\n            // employer name block bindings\r\n            result['.employer_name'] = {\r\n                observe: [\r\n                    model_field + 'name_visible',\r\n                    model_field + 'name_font_size',\r\n                    model_field + 'name_color',\r\n                    model_field + 'name_bold',\r\n                    model_field + 'name_italic',\r\n                    model_field + 'name_text_transform',\r\n                    model_field + 'name_align',\r\n                    model_field + 'name_top_margin'\r\n                ],\r\n                update: font_settings\r\n            };\r\n\r\n            // employer position block bindings\r\n            result['.employer_position'] = {\r\n                observe: [\r\n                    model_field + 'position_visible',\r\n                    model_field + 'position_font_size',\r\n                    model_field + 'position_color',\r\n                    model_field + 'position_bold',\r\n                    model_field + 'position_italic',\r\n                    model_field + 'position_text_transform',\r\n                    model_field + 'position_align',\r\n                    model_field + 'position_top_margin'\r\n                ],\r\n                update: font_settings\r\n            };\r\n\r\n            // employer short bio block bindings\r\n            result['.employer_short_bio'] = {\r\n                observe: [\r\n                    model_field + 'short_bio_visible',\r\n                    model_field + 'short_bio_font_size',\r\n                    model_field + 'short_bio_color',\r\n                    model_field + 'short_bio_bold',\r\n                    model_field + 'short_bio_italic',\r\n                    model_field + 'short_bio_text_transform',\r\n                    model_field + 'short_bio_align',\r\n                    model_field + 'short_bio_top_margin'\r\n                ],\r\n                update: font_settings\r\n            };\r\n\r\n            // employer phone block settings\r\n            result['.employer_phone'] = {\r\n                observe: [\r\n                    model_field + 'phone_visible',\r\n                    model_field + 'contacts_font_size',\r\n                    model_field + 'contacts_color',\r\n                    model_field + 'contacts_bold',\r\n                    model_field + 'contacts_italic',\r\n                    model_field + 'contacts_text_transform',\r\n                    model_field + 'contacts_align',\r\n                    model_field + 'contacts_top_margin'\r\n                ],\r\n                update: font_settings\r\n            };\r\n            // employer phone block settings\r\n            result['.employer_email'] = {\r\n                observe: [\r\n                    model_field + 'email_visible',\r\n                    model_field + 'contacts_font_size',\r\n                    model_field + 'contacts_color',\r\n                    model_field + 'contacts_bold',\r\n                    model_field + 'contacts_italic',\r\n                    model_field + 'contacts_text_transform',\r\n                    model_field + 'contacts_align',\r\n                    model_field + 'contacts_top_margin'\r\n                ],\r\n                update: font_settings\r\n            };\r\n            // employer social block settings\r\n            result['.employer_skype'] = {\r\n                observe: [\r\n                    model_field + 'skype_visible',\r\n                    model_field + 'contacts_font_size',\r\n                    model_field + 'contacts_color',\r\n                    model_field + 'contacts_bold',\r\n                    model_field + 'contacts_italic',\r\n                    model_field + 'contacts_text_transform',\r\n                    model_field + 'contacts_align',\r\n                    model_field + 'contacts_top_margin'\r\n                ],\r\n                update: font_settings\r\n            };\r\n            // employer link block settings\r\n            result['.employer_link'] = {\r\n                observe: [\r\n                    model_field + 'link_visible',\r\n                    model_field + 'contacts_font_size',\r\n                    model_field + 'contacts_color',\r\n                    model_field + 'contacts_bold',\r\n                    model_field + 'contacts_italic',\r\n                    model_field + 'contacts_text_transform',\r\n                    model_field + 'contacts_align',\r\n                    model_field + 'contacts_top_margin'\r\n                ],\r\n                update: font_settings\r\n            };\r\n            // employer link block settings\r\n            result['.employer_location'] = {\r\n                observe: [\r\n                    model_field + 'location_visible',\r\n                    model_field + 'contacts_font_size',\r\n                    model_field + 'contacts_color',\r\n                    model_field + 'contacts_bold',\r\n                    model_field + 'contacts_italic',\r\n                    model_field + 'contacts_text_transform',\r\n                    model_field + 'contacts_align',\r\n                    model_field + 'contacts_top_margin'\r\n                ],\r\n                update: font_settings\r\n            };\r\n            // employer social block settings\r\n            result['.employer_social'] = {\r\n                observe: [\r\n                    model_field + 'social_visible',\r\n                    model_field + 'social_color',\r\n                    model_field + 'social_size',\r\n                    model_field + 'social_top_margin',\r\n                    model_field + 'social_align'\r\n                ],\r\n                update: function ($el, val, model, options) {\r\n                    toggle_visibility($el, val[0], model, options);\r\n                    $el.css('color', val[1]);\r\n                    $el.css('font-size', val[2]);\r\n                    $el.css('margin-top', AwesomeUtil.calc_size(val[3]));\r\n                    $el.css('text-align', val[4]);\r\n\r\n                    $el.css('font-size', 'initial');\r\n                    var width = $el.outerWidth();\r\n                    var icon_max_size = (width / 6) - 5;\r\n                    $el.css('font-size', AwesomeUtil.clean_number(val[2]) > icon_max_size ? icon_max_size : val[2]);\r\n                }\r\n            };\r\n\r\n            // skills block settings\r\n            result['.employer_skills'] = {\r\n                observe: [\r\n                    model_field + 'skills_visible',\r\n                    model_field + 'skills_font_size',\r\n                    model_field + 'skills_text_color',\r\n                    model_field + 'skills_bold',\r\n                    model_field + 'skills_italic',\r\n                    model_field + 'skills_text_transform',\r\n                    model_field + 'skills_align',\r\n                    model_field + 'skills_top_margin'\r\n                ],\r\n                update: font_settings\r\n            }\r\n            result['.employer_skills ul'] = {\r\n                observe: [\r\n                    model_field + 'skills_size',\r\n                    model_field + 'skills_bar_color',\r\n                    model_field + 'skills_type',\r\n                ],\r\n                update: function ($el, val, model, options) {\r\n                    // bar size & color\r\n                    $el.find('span.value').css('height', val[0]);\r\n                    $el.find('svg').css('width', val[0]);\r\n                    $el.find('svg').css('height', val[0]);\r\n                    $el.find('span.value').css('background-color', val[1]);\r\n                    $el.find('svg').css('color', val[1]);\r\n                    $el.find('.skill-value').css('width', '100%');\r\n                    $el.find('.skill-value').attr('class', 'skill-value skill-value-' + val[2]);\r\n                    if (val[2] == 'star') {\r\n                        var raw = val[0].replace(/\\D+/g, '');\r\n                        $el.find('.skill-value').css('width', AwesomeUtil.calc_size(raw * 5 + ''));\r\n                        $el.find('.star-fill').css('width', AwesomeUtil.calc_size(raw * 4 + ''));\r\n                    }\r\n                    // type\r\n                    $el.find('.skill-value > div').hide();\r\n                    $el.find('.skill-value .skills-' + val[2]).show();\r\n\r\n                    $el.find('.skill-value-star').css('max-width', '100%');\r\n                    var fill_max_width = $el.find('.star-background').outerWidth();\r\n                    fill_max_width = Math.round(fill_max_width / 10) * 10;\r\n\r\n                    $el.find('.skill-value-star').css('max-width', fill_max_width);\r\n                    $el.find('.star-fill').css('max-width', fill_max_width * 0.8);\r\n\r\n                    var icon_max_width = $el.find('.star-background > *').outerWidth();\r\n\r\n                    $el.find('.star-background > *').each(function (index, item) {\r\n                        $(item).css('max-height', icon_max_width);\r\n                    });\r\n                    $el.find('.star-fill > *').each(function (index, item) {\r\n                        $(item).css('max-width', icon_max_width);\r\n                        $(item).css('max-height', icon_max_width);\r\n                    });\r\n                }\r\n            };\r\n            return result;\r\n        },\r\n        // before render callback\r\n        /* jshint multistr:true */\r\n        before_render: function () {\r\n            var button = '<button data-action=\"call-tooltip\">\\\r\n            <svg class=\"icon\" viewBox=\"0 0 28 28\">\\\r\n            <use xlink:href=\"#icon-pen\"></use>\\\r\n            </svg>\\\r\n            </button>';\r\n            this.$el.find('#team-preview .grid-container').append(button);\r\n\r\n        },\r\n        render: function () {\r\n            preview.insert_preview_html();\r\n            this.stickit();\r\n            return this;\r\n        },\r\n        // after render callback\r\n        after_render: function () {\r\n            /*var sizes = ['full', 'large', 'medium', 'thumbnail'];\r\n             var a_ajax = new AwesomeAjax();\r\n             var $parent = jQuery('#a-slide-panel .employer_photo');\r\n             var id = $parent.parents('li').attr('employer-id');\r\n\r\n             jQuery.each(sizes, function (index, value) {\r\n             //a_ajax.get_team_preview_photo($parent, id, value);\r\n             })*/\r\n        },\r\n        close: function () {\r\n            this.unstickit();\r\n        }\r\n    });\r\n})(jQuery);","(function ($) {\r\n// Backbone View for tooltips\r\n    TeamTooltipPhoto = Backbone.View.extend({\r\n        initialize: function (options) {\r\n            var layout = model.get('layout');\r\n            // we set current block on call, so we need options array to bind data properly\r\n            this.options = options;\r\n            _.bindAll(this, 'bindings');\r\n            var model_base = 'styles.' + layout + '.';\r\n            $('#a-slide-panel [name=\"team_' + this.options.field_name + '_size_select\"]').val(model.get(model_base + 'photo_size')).fsdropdown('update');\r\n            if (model.get(model_base + 'photo_size') == 'a-full') {\r\n                $('#a-slide-panel .' + this.options.field_name + '_width').hide();\r\n                $('#a-slide-panel .' + this.options.field_name + '_top_margin').hide();\r\n            }\r\n        },\r\n        bindings: function () {\r\n            var layout = model.get('layout');\r\n            var result = {};\r\n            var field = this.options.field_name;\r\n            var field_model = 'styles.' + layout + '.' + field;\r\n            result['[name=\"team_' + field + '_shape\"]'] = field_model + '_shape'; // photo shape\r\n            result['[name=\"team_' + field + '_size\"]'] = field_model + '_size'; // photo size\r\n            result['[name=\"team_' + field + '_width\"]'] = field_model + '_width'; // photo width\r\n            result['[name=\"team_' + field + '_top_margin\"]'] = field_model + '_top_margin'; // block top margin\r\n            result['.btn-group-photo-shape'] = {\r\n                observe: field_model + '_shape',\r\n                update: function ($el, val, model, options) {\r\n                    $el.find('.btn').removeClass('active');\r\n                    $el.find('input').val(val);\r\n                    $el.find('.' + this.options.field_name + '_shape_' + val).addClass('active');\r\n                }\r\n            };\r\n            return result;\r\n        },\r\n        render: function () {\r\n            this.stickit();\r\n            return this;\r\n        },\r\n        close: function () {\r\n            this.unstickit();\r\n            //delete this.$el;\r\n            //delete this.el;\r\n        }\r\n    });\r\n})(jQuery);","// Backbone View for tooltips\r\nvar $ = jQuery;\r\nvar TeamTooltipFont = Backbone.View.extend({\r\n    initialize: function (options) {\r\n        this.options = options; // we set current block on call, so we need options array to bind data properly\r\n        _.bindAll(this, 'bindings');\r\n    },\r\n    bindings: function () {\r\n        var result = {};\r\n        var layout = model.get('layout');\r\n        var field = this.options.field_name;\r\n        var field_model = 'styles.' + layout + '.' + field;\r\n        result['[name=\"team_' + field + '_font_size\"]'] = field_model + '_font_size'; // block font size\r\n        result['[name=\"team_' + field + '_color\"]'] = field_model + '_color'; // block text color\r\n        result['[name=\"team_' + field + '_bold\"]'] = field_model + '_bold'; // block bold\r\n        result['[name=\"team_' + field + '_italic\"]'] = field_model + '_italic'; // block italic\r\n        result['[name=\"team_' + field + '_text_transform\"]'] = field_model + '_text_transform'; // block text transform\r\n        result['[name=\"team_' + field + '_align\"]'] = field_model + '_align'; // block align\r\n        result['[name=\"team_' + field + '_top_margin\"]'] = field_model + '_top_margin'; // block top margin\r\n\r\n        result['.btn-group-align'] = {\r\n            observe: field_model + '_align',\r\n            update: function($el, val, model, options){\r\n                $el.find('.btn').removeClass('active');\r\n                $el.find('input').val(val);\r\n                $el.find('.' + this.options.field_name + '_align_' + val).addClass('active');\r\n            }\r\n        };\r\n        result['.btn-bold'] = {\r\n            observe: field_model + '_bold',\r\n            update: function($el, val, model, options){\r\n                $el.find('.btn').removeClass('active');\r\n                if(!!+val){\r\n                    $el.addClass('active');\r\n                }\r\n            }\r\n        };\r\n        result['.btn-italic'] = {\r\n            observe: field_model + '_italic',\r\n            update: function($el, val, model, options){\r\n                $el.find('.btn').removeClass('active');\r\n                if(!!+val){\r\n                    $el.addClass('active');\r\n                }\r\n            }\r\n        };\r\n        result['.btn-group-text-transform'] = {\r\n            observe: field_model + '_text_transform',\r\n            update: function($el, val, model, options){\r\n                $el.find('.btn').removeClass('active');\r\n                $el.find('input').val(val);\r\n                $el.find('.' + this.options.field_name + '_text_transform_' + val).addClass('active');\r\n            }\r\n        };\r\n        return result;\r\n    },\r\n    render: function(){\r\n        this.stickit();\r\n        return this;\r\n    },\r\n    close: function(){\r\n        this.unstickit();\r\n        //delete this.$el;\r\n        //delete this.el;\r\n    }\r\n});","// Backbone View for tooltips\r\nvar $ = jQuery;\r\nvar TeamTooltipDivider = Backbone.View.extend({\r\n    initialize: function (options) {\r\n        var layout = model.get('layout');\r\n        // we set current block on call, so we need options array to bind data properly\r\n        this.options = options;\r\n        _.bindAll(this, 'bindings');\r\n    },\r\n    bindings: function () {\r\n        var layout = model.get('layout');\r\n        var result = {};\r\n        var field = this.options.field_name;\r\n        var field_model = 'styles.' + layout + '.' + field;\r\n        result['[name=\"team_' + field + '_color\"]'] = field_model + '_color'; // block top margin\r\n        result['[name=\"team_' + field + '_width\"]'] = field_model + '_width'; // divider width\r\n        result['[name=\"team_' + field + '_top_margin\"]'] = field_model + '_top_margin'; // block top margin\r\n\r\n\r\n        return result;\r\n    },\r\n    render: function(){\r\n        this.stickit();\r\n        return this;\r\n    },\r\n    close: function(){\r\n        this.unstickit();\r\n        //delete this.$el;\r\n        //delete this.el;\r\n    }\r\n});","// Backbone View for tooltips\r\nvar $ = jQuery;\r\nvar TeamTooltipSocial = Backbone.View.extend({\r\n    initialize: function (options) {\r\n        var layout = model.get('layout');\r\n        // we set current block on call, so we need options array to bind data properly\r\n        this.options = options;\r\n        _.bindAll(this, 'bindings');\r\n    },\r\n    bindings: function () {\r\n        var layout = model.get('layout');\r\n        var result = {};\r\n        var field = this.options.field_name;\r\n        var field_model = 'styles.' + layout + '.' + field;\r\n        result['[name=\"team_' + field + '_color\"]'] = field_model + '_color'; // social icons size\r\n        result['[name=\"team_' + field + '_size\"]'] = field_model + '_size'; // social icons size\r\n        result['[name=\"team_' + field + '_align\"]'] = field_model + '_align'; // block top margin\r\n        result['[name=\"team_' + field + '_top_margin\"]'] = field_model + '_top_margin'; // block top margin\r\n\r\n        result['.btn-group-align'] = {\r\n            observe: field_model + '_align',\r\n            update: function($el, val, model, options){\r\n                $el.find('.btn').removeClass('active');\r\n                $el.find('input').val(val);\r\n                $el.find('.' + this.options.field_name + '_align_' + val).addClass('active');\r\n            }\r\n        };\r\n\r\n        return result;\r\n    },\r\n    render: function(){\r\n        this.stickit();\r\n        return this;\r\n    },\r\n    close: function(){\r\n        this.unstickit();\r\n        //delete this.$el;\r\n        //delete this.el;\r\n    }\r\n});","// Backbone View for tooltips\r\nvar $ = jQuery;\r\nvar TeamTooltipSkills = Backbone.View.extend({\r\n    initialize: function (options) {\r\n        var layout = model.get('layout');\r\n        // we set current block on call, so we need options array to bind data properly\r\n        this.options = options;\r\n        _.bindAll(this, 'bindings');\r\n    },\r\n    bindings: function () {\r\n        var layout = model.get('layout');\r\n        var result = {};\r\n        var field = this.options.field_name;\r\n        var field_model = 'styles.' + layout + '.' + field;\r\n        result['[name=\"team_' + field + '_text_color\"]'] = field_model + '_text_color'; // skill text color\r\n        result['[name=\"team_' + field + '_bar_color\"]'] = field_model + '_bar_color'; // skill bar color\r\n        result['[name=\"team_' + field + '_font_size\"]'] = field_model + '_font_size'; // skill font size\r\n        result['[name=\"team_' + field + '_size\"]'] = field_model + '_size'; // skill bar size\r\n        result['[name=\"team_' + field + '_type\"]'] = field_model + '_type'; // skill type\r\n        result['[name=\"team_' + field + '_bold\"]'] = field_model + '_bold'; // block bold\r\n        result['[name=\"team_' + field + '_italic\"]'] = field_model + '_italic'; // block italic\r\n        result['[name=\"team_' + field + '_text_transform\"]'] = field_model + '_text_transform'; // block text transform\r\n        result['[name=\"team_' + field + '_align\"]'] = field_model + '_align'; // block align\r\n        result['[name=\"team_' + field + '_top_margin\"]'] = field_model + '_top_margin'; // block top margin\r\n\r\n        result['.btn-bold'] = {\r\n            observe: field_model + '_bold',\r\n            update: function($el, val, model, options){\r\n                $el.find('.btn').removeClass('active');\r\n                if(!!+val){\r\n                    $el.addClass('active');\r\n                }\r\n            }\r\n        };\r\n        result['.btn-italic'] = {\r\n            observe: field_model + '_italic',\r\n            update: function($el, val, model, options){\r\n                $el.find('.btn').removeClass('active');\r\n                if(!!+val){\r\n                    $el.addClass('active');\r\n                }\r\n            }\r\n        };\r\n        result['.btn-group-text-transform'] = {\r\n            observe: field_model + '_text_transform',\r\n            update: function($el, val, model, options){\r\n                $el.find('.btn').removeClass('active');\r\n                $el.find('input').val(val);\r\n                $el.find('.' + this.options.field_name + '_text_transform_' + val).addClass('active');\r\n            }\r\n        };\r\n        result['.btn-group-align'] = {\r\n            observe: field_model + '_align',\r\n            update: function($el, val, model, options){\r\n                $el.find('.btn').removeClass('active');\r\n                $el.find('input').val(val);\r\n                $el.find('.' + this.options.field_name + '_align_' + val).addClass('active');\r\n            }\r\n        };\r\n\r\n        result['.btn-group-type'] = {\r\n            observe: field_model + '_type',\r\n            update: function($el, val, model, options){\r\n                $el.find('.btn').removeClass('active');\r\n                $el.find('input').val(val);\r\n                $el.find('.' + this.options.field_name + '_type_' + val).addClass('active');\r\n            }\r\n        };\r\n\r\n        return result;\r\n    },\r\n    render: function(){\r\n        this.stickit();\r\n        return this;\r\n    },\r\n    close: function(){\r\n        this.unstickit();\r\n    }\r\n});","/**\r\n * Employer preview\r\n */\r\n\r\nvar file_frame;\r\n\r\nvar AwesomeEmployer = function (){\r\n    'use strict';\r\n\r\n    var ats_animation = new ATS_Animation();\r\n    var $ = jQuery; // enable jQuery\r\n    var self = this;\r\n\r\n    // two way data bindings for edit team form\r\n    self.bind_form = function(){\r\n        var dfd = $.Deferred();\r\n\r\n        // Upload employer avatar via built-in Wordpress media library\r\n        $(document).on('click', '[data-action=\"upload_photo\"]', function(e){\r\n            e.preventDefault();\r\n\r\n            var json;\r\n            var url;\r\n\r\n            if(file_frame){\r\n                file_frame.open();\r\n                return;\r\n            }\r\n\r\n            file_frame = wp.media.frames.file_frame = wp.media({\r\n                frame: 'post',\r\n                state: 'insert',\r\n                multiple: false\r\n            });\r\n\r\n            // handle image insert on media window submit\r\n            file_frame.on('insert', function(){\r\n                var $form = $(this).parents('.foto-upload');\r\n                json = file_frame.state().get('selection').first().toJSON();\r\n                if(0 > $.trim(json.url.length)){\r\n                    return;\r\n                }\r\n                url = json.sizes['a-thumbnail'] ? json.sizes['a-thumbnail'].url : json.url;\r\n                var $img = $('<img src=\"' + url + '\"/>');\r\n\r\n                $form.find('[name=\"employer_thumbnail_id\"]').val(json.id); // set thumbnail ID to hidden field\r\n                model.set('custom_fields.thumbnail_id', json.id);\r\n                $('.foto-wrapper', ats_panel).html('').append($img); // show image\r\n                $('#employer-form-foto-remove', ats_panel).show(); // show \"remove\" button\r\n                file_frame.close();\r\n            });\r\n\r\n            file_frame.open();\r\n            return false;\r\n        });\r\n\r\n        // Remove employer avatar\r\n        $(document).on('click', '[data-action=\"remove_photo\"]', function(e){\r\n            e.preventDefault();\r\n            $('[name=\"employer_thumbnail_id\"]', ats_panel).val(''); // remove thumbnail ID from hidden field\r\n            $('#employer-form-foto', ats_panel).html(''); // remove thumbnail image\r\n            window.model.set('custom_fields.thumbnail_id', '');\r\n            $(this).hide();\r\n        });\r\n\r\n        dfd.resolve();\r\n        return dfd;\r\n    };\r\n\r\n    self.update_skill_order = function(){\r\n        var skills = model.get('custom_fields.skills');\r\n        var order = _.map($('.skills-list li'), function (el) {\r\n            return parseInt(\r\n                $(el).attr('id')\r\n                    .replace_all('skill-', '')\r\n            );\r\n        });\r\n\r\n        model.set('custom_fields.skills_order', order);\r\n    };\r\n\r\n    self.make_skill = function (form) {\r\n        var $name = $('[name=\"employer_skill_name\"]', form);\r\n        var value = $('.skill-value-percent [name=\"employer_skill_value\"]', form).val();\r\n        var $alert = $('[data-type=\"skill-alert\"]', form);\r\n\r\n        $alert.attr('class', 'alert').hide();\r\n\r\n        // validation\r\n        if($name.val() == ''){\r\n            $alert.addClass('alert-warning').show().html('Skill name can\\'t be empty.');\r\n            return false;\r\n        }\r\n\r\n        var skill = {\r\n            name: $name.val(),\r\n            //type: type,\r\n            value: value\r\n        };\r\n\r\n        return skill;\r\n    }\r\n\r\n    self.bind_skills = function () {\r\n        $('.panel-skills').on('click', '[data-action=\"add-skill\"]', function () {\r\n            // elements\r\n            var form = $('[data-form=\"add-skill\"]', ats_panel);\r\n            var skill = self.make_skill(form);\r\n            if(skill){\r\n                var skills = model.get('custom_fields.skills') || [];\r\n                model.push('custom_fields.skills_order', skills.length);\r\n\r\n                $('[name=\"employer_skill_name\"]', form).val('');\r\n                model.push('custom_fields.skills', skill);\r\n            }\r\n        });\r\n\r\n        $('.skills-list').on('click', '[data-action=\"edit-skill\"]', function () {\r\n            var $skill = $(this).parents('li');\r\n            var index = $skill.attr('id').replace_all('skill-', '');\r\n\r\n            employer_form_view.edit_skill(index);\r\n        });\r\n\r\n        $('.skills-list').on('click', '[data-action=\"cancel-skill-edit\"]', function () {\r\n            $('.skills-list .skill-inline-form', ats_panel).remove();\r\n            $('.skills-list li.skill .skill-box').show();\r\n        });\r\n\r\n        $('.skills-list').on('click', '[data-action=\"save-skill\"]', function(){\r\n            var form = $(this).parents('[data-form=\"edit-skill\"]');\r\n            var index = $(this).parents('li.skill').attr('id').replace_all('skill-', '');\r\n            var skills = model.get('custom_fields.skills');\r\n            var skill = self.make_skill(form);\r\n            var $spinner = $(this).find('.a-spinner');\r\n            var $text = $(this).find('.text');\r\n\r\n            if(skill){\r\n                $text.css('visibility', 'hidden');\r\n                $spinner.show();\r\n                skills[index] = skill;\r\n                model.set('custom_fields.skills', skills);\r\n                setTimeout(function () {\r\n                    $spinner.hide();\r\n                    $text.css('visibility', 'visible');\r\n                }, 900);\r\n            }\r\n        });\r\n\r\n        $('.skills-list').on('click', '[data-action=\"delete-skill\"]', function () {\r\n            var $skill = $(this).parents('li');\r\n            var index = $skill.attr('id').replace_all('skill-', '');\r\n            var skills_order = model.get('custom_fields.skills_order');\r\n\r\n            ats_animation.delete($skill).done(function () {\r\n                var new_order = _.filter(skills_order, function (item) {\r\n                    return item != index;\r\n                });\r\n                new_order = _.map(new_order, function (item) {\r\n                    item = parseInt(item);\r\n                    return item > index ? item - 1 : item;\r\n                });\r\n                model.set('custom_fields.skills_order', new_order);\r\n                model.unset_array('custom_fields.skills', index);\r\n            });\r\n        });\r\n\r\n        $('.panel-skills').on('input', 'input[name=\"employer_skill_value\"]', function (e) {\r\n            var value = $(this).val();\r\n\r\n            value = value.replace(/\\D+/g, '');\r\n            value = parseInt(value) > 100 ? 100 : value;\r\n\r\n            $(this).val(value);\r\n        });\r\n\r\n        $('.skills-list').sortable({\r\n            axis: 'y',\r\n            containment: \"parent\",\r\n            forceHelperSize: true,\r\n            forcePlaceholderSize: true,\r\n            helper: \"clone\",\r\n            update: function(event, ui){\r\n                self.update_skill_order();\r\n            }\r\n        });\r\n    }\r\n\r\n    // destroy preview\r\n    self.destroy = function(){\r\n        $('.panel-skills').off('click', '[data-action=\"add-skill\"]');\r\n        $('.skills-list').off('click', '[data-action=\"save-skill\"]');\r\n        $('.skills-list').off('click', '[data-action=\"edit-skill\"]');\r\n        $('.skills-list').off('click', '[data-action=\"delete-skill\"]');\r\n        $('.skills-list').off('click', '[data-action=\"cancel-skill-edit\"]');\r\n\r\n    };\r\n\r\n    // init preview\r\n    self.init = function(){\r\n        self.bind_form();\r\n        self.bind_skills();\r\n        var form = new AwesomeForm();\r\n        form.init(model);\r\n\r\n        window.employer_form_view = new EmployerForm({\r\n            model: window.model\r\n        });\r\n        employer_form_view.setElement($('#employer-form', ats_panel));\r\n        employer_form_view.render();\r\n    };\r\n};"],"sourceRoot":"/source/"}